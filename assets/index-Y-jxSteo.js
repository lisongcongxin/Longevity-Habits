function e(e,t){for(var n=0;n<t.length;n++){const r=t[n];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(r,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var n={exports:{}},r={},a={exports:{}},s={},i=Symbol.for("react.element"),o=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),p=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,x={};function w(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||v}function k(){}function S(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||v}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},k.prototype=w.prototype;var _=S.prototype=new k;_.constructor=S,b(_,w.prototype),_.isPureReactComponent=!0;var T=Array.isArray,E=Object.prototype.hasOwnProperty,C={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,n){var r,a={},s=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,r)&&!P.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===a[r]&&(a[r]=l[r]);return{$$typeof:i,type:e,key:s,ref:o,props:a,_owner:C.current}}function j(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var A=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function R(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case o:l=!0}}if(l)return a=a(l=e),e=""===r?"."+I(l,0):r,T(a)?(n="",null!=e&&(n=e.replace(A,"$&/")+"/"),R(a,t,n,"",function(e){return e})):null!=a&&(j(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(A,"$&/")+"/")+e)),t.push(a)),1;if(l=0,r=""===r?".":r+":",T(e))for(var u=0;u<e.length;u++){var c=r+I(s=e[u],u);l+=R(s,t,n,c,a)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=y&&e[y]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=R(s=s.value,t,n,c=r+I(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function M(e,t,n){if(null==e)return e;var r=[],a=0;return R(e,r,"","",function(e){return t.call(n,e,a++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},D={transition:null},F={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:D,ReactCurrentOwner:C};function $(){throw Error("act(...) is not supported in production builds of React.")}s.Children={map:M,forEach:function(e,t,n){M(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return M(e,function(){t++}),t},toArray:function(e){return M(e,function(e){return e})||[]},only:function(e){if(!j(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},s.Component=w,s.Fragment=l,s.Profiler=c,s.PureComponent=S,s.StrictMode=u,s.Suspense=f,s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,s.act=$,s.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=b({},e.props),a=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=C.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)E.call(t,u)&&!P.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:i,type:e.type,key:a,ref:s,props:r,_owner:o}},s.createContext=function(e){return(e={$$typeof:p,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:d,_context:e},e.Consumer=e},s.createElement=N,s.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},s.createRef=function(){return{current:null}},s.forwardRef=function(e){return{$$typeof:h,render:e}},s.isValidElement=j,s.lazy=function(e){return{$$typeof:g,_payload:{_status:-1,_result:e},_init:O}},s.memo=function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},s.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},s.unstable_act=$,s.useCallback=function(e,t){return L.current.useCallback(e,t)},s.useContext=function(e){return L.current.useContext(e)},s.useDebugValue=function(){},s.useDeferredValue=function(e){return L.current.useDeferredValue(e)},s.useEffect=function(e,t){return L.current.useEffect(e,t)},s.useId=function(){return L.current.useId()},s.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},s.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},s.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},s.useMemo=function(e,t){return L.current.useMemo(e,t)},s.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},s.useRef=function(e){return L.current.useRef(e)},s.useState=function(e){return L.current.useState(e)},s.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},s.useTransition=function(){return L.current.useTransition()},s.version="18.3.1",a.exports=s;var V=a.exports;const z=t(V),U=e({__proto__:null,default:z},[V]);
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var B=V,W=Symbol.for("react.element"),H=Symbol.for("react.fragment"),q=Object.prototype.hasOwnProperty,Z=B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,K={key:!0,ref:!0,__self:!0,__source:!0};function Y(e,t,n){var r,a={},s=null,i=null;for(r in void 0!==n&&(s=""+n),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(i=t.ref),t)q.call(t,r)&&!K.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:W,type:e,key:s,ref:i,props:a,_owner:Z.current}}r.Fragment=H,r.jsx=Y,r.jsxs=Y,n.exports=r;var J=n.exports;const G={ai_config:{insights_advisor:{model:"openai-gpt-4o-mini",temperature:.45,maxTokens:900,system_prompt:"You are the YouWare longevity AI coach. Deliver concise, encouraging insights that help the user optimize ten-minute habit stacks."}},metadata:{version:"1.0.0",owner:"Pulse10 Insights"}};globalThis.ywConfig||(globalThis.ywConfig=G);const X=e=>"string"==typeof e,Q=()=>{let e,t;const n=new Promise((n,r)=>{e=n,t=r});return n.resolve=e,n.reject=t,n},ee=e=>null==e?"":""+e,te=/###/g,ne=e=>e&&e.indexOf("###")>-1?e.replace(te,"."):e,re=e=>!e||X(e),ae=(e,t,n)=>{const r=X(t)?t.split("."):t;let a=0;for(;a<r.length-1;){if(re(e))return{};const t=ne(r[a]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++a}return re(e)?{}:{obj:e,k:ne(r[a])}},se=(e,t,n)=>{const{obj:r,k:a}=ae(e,t,Object);if(void 0!==r||1===t.length)return void(r[a]=n);let s=t[t.length-1],i=t.slice(0,t.length-1),o=ae(e,i,Object);for(;void 0===o.obj&&i.length;)s=`${i[i.length-1]}.${s}`,i=i.slice(0,i.length-1),o=ae(e,i,Object),o&&o.obj&&void 0!==o.obj[`${o.k}.${s}`]&&(o.obj=void 0);o.obj[`${o.k}.${s}`]=n},ie=(e,t)=>{const{obj:n,k:r}=ae(e,t);if(n)return n[r]},oe=(e,t,n)=>{for(const r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?X(e[r])||e[r]instanceof String||X(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):oe(e[r],t[r],n):e[r]=t[r]);return e},le=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var ue={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const ce=e=>X(e)?e.replace(/[&<>"'\/]/g,e=>ue[e]):e;const de=[" ",",","?","!",";"],pe=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20),he=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let a=e;for(let s=0;s<r.length;){if(!a||"object"!=typeof a)return;let e,t="";for(let i=s;i<r.length;++i)if(i!==s&&(t+=n),t+=r[i],e=a[t],void 0!==e){if(["string","number","boolean"].indexOf(typeof e)>-1&&i<r.length-1)continue;s+=i-s+1;break}a=e}return a},fe=e=>e&&e.replace("_","-"),me={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]}};class ge{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||me,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,r){return r&&!this.debug?null:(X(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new ge(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new ge(this.logger,e)}}var ye=new ge;class ve{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);const n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)}),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){Array.from(this.observers[e].entries()).forEach(e=>{let[t,r]=e;for(let a=0;a<r;a++)t(...n)})}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach(t=>{let[r,a]=t;for(let s=0;s<a;s++)r.apply(r,[e,...n])})}}}class be extends ve{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,s=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let i;e.indexOf(".")>-1?i=e.split("."):(i=[e,t],n&&(Array.isArray(n)?i.push(...n):X(n)&&a?i.push(...n.split(a)):i.push(n)));const o=ie(this.data,i);return!o&&!t&&!n&&e.indexOf(".")>-1&&(e=i[0],t=i[1],n=i.slice(2).join(".")),!o&&s&&X(n)?he(this.data&&this.data[e]&&this.data[e][t],n,a):o}addResource(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const s=void 0!==a.keySeparator?a.keySeparator:this.options.keySeparator;let i=[e,t];n&&(i=i.concat(s?n.split(s):n)),e.indexOf(".")>-1&&(i=e.split("."),r=t,t=i[1]),this.addNamespaces(t),se(this.data,i,r),a.silent||this.emit("added",e,t,n,r)}addResources(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const a in n)(X(n[a])||Array.isArray(n[a]))&&this.addResource(e,t,a,n[a],{silent:!0});r.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,r,a){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},i=[e,t];e.indexOf(".")>-1&&(i=e.split("."),r=n,n=t,t=i[1]),this.addNamespaces(t);let o=ie(this.data,i)||{};s.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?oe(o,n,a):o={...o,...n},se(this.data,i,o),s.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var xe={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,a){return e.forEach(e=>{this.processors[e]&&(t=this.processors[e].process(t,n,r,a))}),t}};const we={};class ke extends ve{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;super(),n=e,r=this,["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"].forEach(e=>{n[e]&&(r[e]=n[e])}),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=ye.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;const n=this.resolve(e,t);return n&&void 0!==n.res}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let a=t.ns||this.options.defaultNS||[];const s=n&&e.indexOf(n)>-1,i=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||((e,t,n)=>{t=t||"",n=n||"";const r=de.filter(e=>t.indexOf(e)<0&&n.indexOf(e)<0);if(0===r.length)return!0;const a=pe.getRegExp(`(${r.map(e=>"?"===e?"\\?":e).join("|")})`);let s=!a.test(e);if(!s){const t=e.indexOf(n);t>0&&!a.test(e.substring(0,t))&&(s=!0)}return s})(e,n,r));if(s&&!i){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:X(a)?[a]:a};const s=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(s[0])>-1)&&(a=s.shift()),e=s.join(r)}return{key:e,namespaces:X(a)?[a]:a}}translate(e,t,n){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const r=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,a=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:s,namespaces:i}=this.extractFromKey(e[e.length-1],t),o=i[i.length-1],l=t.lng||this.language,u=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&"cimode"===l.toLowerCase()){if(u){const e=t.nsSeparator||this.options.nsSeparator;return r?{res:`${o}${e}${s}`,usedKey:s,exactUsedKey:s,usedLng:l,usedNS:o,usedParams:this.getUsedParamsDetails(t)}:`${o}${e}${s}`}return r?{res:s,usedKey:s,exactUsedKey:s,usedLng:l,usedNS:o,usedParams:this.getUsedParamsDetails(t)}:s}const c=this.resolve(e,t);let d=c&&c.res;const p=c&&c.usedKey||s,h=c&&c.exactUsedKey||s,f=Object.prototype.toString.apply(d),m=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,y=!X(d)&&"boolean"!=typeof d&&"number"!=typeof d;if(!(g&&d&&y&&["[object Number]","[object Function]","[object RegExp]"].indexOf(f)<0)||X(m)&&Array.isArray(d))if(g&&X(m)&&Array.isArray(d))d=d.join(m),d&&(d=this.extendTranslation(d,e,t,n));else{let r=!1,i=!1;const u=void 0!==t.count&&!X(t.count),p=ke.hasDefaultValue(t),h=u?this.pluralResolver.getSuffix(l,t.count,t):"",f=t.ordinal&&u?this.pluralResolver.getSuffix(l,t.count,{ordinal:!1}):"",m=u&&!t.ordinal&&0===t.count&&this.pluralResolver.shouldUseIntlApi(),g=m&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${h}`]||t[`defaultValue${f}`]||t.defaultValue;!this.isValidLookup(d)&&p&&(r=!0,d=g),this.isValidLookup(d)||(i=!0,d=s);const y=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&i?void 0:d,v=p&&g!==d&&this.options.updateMissing;if(i||r||v){if(this.logger.log(v?"updateKey":"missingKey",l,o,s,v?g:d),a){const e=this.resolve(s,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let t=0;t<n.length;t++)e.push(n[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const r=(e,n,r)=>{const a=p&&r!==d?r:y;this.options.missingKeyHandler?this.options.missingKeyHandler(e,o,n,a,v,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,o,n,a,v,t),this.emit("missingKey",e,o,n,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&u?e.forEach(e=>{const n=this.pluralResolver.getSuffixes(e,t);m&&t[`defaultValue${this.options.pluralSeparator}zero`]&&n.indexOf(`${this.options.pluralSeparator}zero`)<0&&n.push(`${this.options.pluralSeparator}zero`),n.forEach(n=>{r([e],s+n,t[`defaultValue${n}`]||g)})}):r(e,s,g))}d=this.extendTranslation(d,e,t,c,n),i&&d===s&&this.options.appendNamespaceToMissingKey&&(d=`${o}:${s}`),(i||r)&&this.options.parseMissingKeyHandler&&(d="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${o}:${s}`:s,r?d:void 0):this.options.parseMissingKeyHandler(d))}else{if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,d,{...t,ns:i}):`key '${s} (${this.language})' returned an object instead of string.`;return r?(c.res=e,c.usedParams=this.getUsedParamsDetails(t),c):e}if(a){const e=Array.isArray(d),n=e?[]:{},r=e?h:p;for(const s in d)if(Object.prototype.hasOwnProperty.call(d,s)){const e=`${r}${a}${s}`;n[s]=this.translate(e,{...t,joinArrays:!1,ns:i}),n[s]===e&&(n[s]=d[s])}d=n}}return r?(c.res=d,c.usedParams=this.getUsedParamsDetails(t),c):d}extendTranslation(e,t,n,r,a){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const i=X(e)&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let o;if(i){const t=e.match(this.interpolator.nestingRegexp);o=t&&t.length}let l=n.replace&&!X(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),e=this.interpolator.interpolate(e,l,n.lng||this.language||r.usedLng,n),i){const t=e.match(this.interpolator.nestingRegexp);o<(t&&t.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&r&&r.res&&(n.lng=this.language||r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return a&&a[0]===r[0]&&!n.context?(s.logger.warn(`It seems you are nesting recursively key: ${r[0]} in key: ${t[0]}`),null):s.translate(...r,t)},n)),n.interpolation&&this.interpolator.reset()}const i=n.postProcess||this.options.postProcess,o=X(i)?[i]:i;return null!=e&&o&&o.length&&!1!==n.applyPostProcessor&&(e=xe.handle(o,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let t,n,r,a,s,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return X(e)&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(t))return;const o=this.extractFromKey(e,i),l=o.key;n=l;let u=o.namespaces;this.options.fallbackNS&&(u=u.concat(this.options.fallbackNS));const c=void 0!==i.count&&!X(i.count),d=c&&!i.ordinal&&0===i.count&&this.pluralResolver.shouldUseIntlApi(),p=void 0!==i.context&&(X(i.context)||"number"==typeof i.context)&&""!==i.context,h=i.lngs?i.lngs:this.languageUtils.toResolveHierarchy(i.lng||this.language,i.fallbackLng);u.forEach(e=>{this.isValidLookup(t)||(s=e,!we[`${h[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(s)&&(we[`${h[0]}-${e}`]=!0,this.logger.warn(`key "${n}" for languages "${h.join(", ")}" won't get resolved as namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach(n=>{if(this.isValidLookup(t))return;a=n;const s=[l];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(s,l,n,e,i);else{let e;c&&(e=this.pluralResolver.getSuffix(n,i.count,i));const t=`${this.options.pluralSeparator}zero`,r=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(c&&(s.push(l+e),i.ordinal&&0===e.indexOf(r)&&s.push(l+e.replace(r,this.options.pluralSeparator)),d&&s.push(l+t)),p){const n=`${l}${this.options.contextSeparator}${i.context}`;s.push(n),c&&(s.push(n+e),i.ordinal&&0===e.indexOf(r)&&s.push(n+e.replace(r,this.options.pluralSeparator)),d&&s.push(n+t))}}let o;for(;o=s.pop();)this.isValidLookup(t)||(r=o,t=this.getResource(n,e,o,i))}))})}),{res:t,usedKey:n,exactUsedKey:r,usedLng:a,usedNS:s}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!X(e.replace);let r=n?e.replace:e;if(n&&void 0!==e.count&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!n){r={...r};for(const e of t)delete r[e]}return r}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}const Se=e=>e.charAt(0).toUpperCase()+e.slice(1);class _e{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ye.create("languageUtils")}getScriptPartFromCode(e){if(!(e=fe(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=fe(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(X(e)&&e.indexOf("-")>-1){if("undefined"!=typeof Intl&&void 0!==Intl.getCanonicalLocales)try{let t=Intl.getCanonicalLocales(e)[0];if(t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t)return t}catch(t){}const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(e=>e.toLowerCase()):2===r.length?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Se(r[1].toLowerCase()))):3===r.length&&(r[0]=r[0].toLowerCase(),2===r[1].length&&(r[1]=r[1].toUpperCase()),"sgn"!==r[0]&&2===r[2].length&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Se(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=Se(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;const n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find(e=>e===n?e:e.indexOf("-")<0&&n.indexOf("-")<0?void 0:e.indexOf("-")>0&&n.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===n||0===e.indexOf(n)&&n.length>1?e:void 0)}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),X(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],a=e=>{e&&(this.isSupportedCode(e)?r.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return X(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&a(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&a(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&a(this.getLanguagePartFromCode(e))):X(e)&&a(this.formatLanguageCode(e)),n.forEach(e=>{r.indexOf(e)<0&&a(this.formatLanguageCode(e))}),r}}let Te=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Ee={1:e=>Number(e>1),2:e=>Number(1!=e),3:e=>0,4:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),5:e=>Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5),6:e=>Number(1==e?0:e>=2&&e<=4?1:2),7:e=>Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),8:e=>Number(1==e?0:2==e?1:8!=e&&11!=e?2:3),9:e=>Number(e>=2),10:e=>Number(1==e?0:2==e?1:e<7?2:e<11?3:4),11:e=>Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3),12:e=>Number(e%10!=1||e%100==11),13:e=>Number(0!==e),14:e=>Number(1==e?0:2==e?1:3==e?2:3),15:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2),16:e=>Number(e%10==1&&e%100!=11?0:0!==e?1:2),17:e=>Number(1==e||e%10==1&&e%100!=11?0:1),18:e=>Number(0==e?0:1==e?1:2),19:e=>Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3),20:e=>Number(1==e?0:0==e||e%100>0&&e%100<20?1:2),21:e=>Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0),22:e=>Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)};const Ce=["v1","v2","v3"],Pe=["v4"],Ne={zero:0,one:1,two:2,few:3,many:4,other:5};class je{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=ye.create("pluralResolver"),this.options.compatibilityJSON&&!Pe.includes(this.options.compatibilityJSON)||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(()=>{const e={};return Te.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:Ee[t.fc]}})}),e})(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi()){const r=fe("dev"===e?"en":e),a=t.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:a});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let i;try{i=new Intl.PluralRules(r,{type:a})}catch(n){if(!e.match(/-|_/))return;const r=this.languageUtils.getLanguagePartFromCode(e);i=this.getRule(r,t)}return this.pluralRulesCache[s]=i,i}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map(e=>`${t}${e}`)}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((e,t)=>Ne[e]-Ne[t]).map(e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`):n.numbers.map(n=>this.getSuffix(e,n,t)):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:this.getSuffixRetroCompatible(r,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let r=e.numbers[n];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===r?r="plural":1===r&&(r=""));const a=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return"v1"===this.options.compatibilityJSON?1===r?"":"number"==typeof r?`_plural_${r.toString()}`:a():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?a():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!Ce.includes(this.options.compatibilityJSON)}}const Ae=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=((e,t,n)=>{const r=ie(e,n);return void 0!==r?r:ie(t,n)})(e,t,n);return!s&&a&&X(n)&&(s=he(e,n,r),void 0===s&&(s=he(t,n,r))),s},Ie=e=>e.replace(/\$/g,"$$$$");class Re{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=ye.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:r,prefix:a,prefixEscaped:s,suffix:i,suffixEscaped:o,formatSeparator:l,unescapeSuffix:u,unescapePrefix:c,nestingPrefix:d,nestingPrefixEscaped:p,nestingSuffix:h,nestingSuffixEscaped:f,nestingOptionsSeparator:m,maxReplaces:g,alwaysFormat:y}=e.interpolation;this.escape=void 0!==t?t:ce,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==r&&r,this.prefix=a?le(a):s||"{{",this.suffix=i?le(i):o||"}}",this.formatSeparator=l||",",this.unescapePrefix=u?"":c||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=d?le(d):p||le("$t("),this.nestingSuffix=h?le(h):f||le(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=g||1e3,this.alwaysFormat=void 0!==y&&y,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e&&e.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,n,r){let a,s,i;const o=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=e=>{if(e.indexOf(this.formatSeparator)<0){const a=Ae(t,o,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(a,void 0,n,{...r,...t,interpolationkey:e}):a}const a=e.split(this.formatSeparator),s=a.shift().trim(),i=a.join(this.formatSeparator).trim();return this.format(Ae(t,o,s,this.options.keySeparator,this.options.ignoreJSONStructure),i,n,{...r,...t,interpolationkey:s})};this.resetRegExp();const u=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,c=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>Ie(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?Ie(this.escape(e)):Ie(e)}].forEach(t=>{for(i=0;a=t.regex.exec(e);){const n=a[1].trim();if(s=l(n),void 0===s)if("function"==typeof u){const t=u(e,a,r);s=X(t)?t:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))s="";else{if(c){s=a[0];continue}this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),s=""}else X(s)||this.useRawValueToEscape||(s=ee(s));const o=t.safeValue(s);if(e=e.replace(a[0],o),c?(t.regex.lastIndex+=s.length,t.regex.lastIndex-=a[0].length):t.regex.lastIndex=0,i++,i>=this.maxReplaces)break}}),e}nest(e,t){let n,r,a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=(e,t)=>{const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const r=e.split(new RegExp(`${n}[ ]*{`));let s=`{${r[1]}`;e=r[0],s=this.interpolate(s,a);const i=s.match(/'/g),o=s.match(/"/g);(i&&i.length%2==0&&!o||o.length%2!=0)&&(s=s.replace(/'/g,'"'));try{a=JSON.parse(s),t&&(a={...t,...a})}catch(l){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,l),`${e}${n}${s}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,e};for(;n=this.nestingRegexp.exec(e);){let o=[];a={...s},a=a.replace&&!X(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let l=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){const e=n[1].split(this.formatSeparator).map(e=>e.trim());n[1]=e.shift(),o=e,l=!0}if(r=t(i.call(this,n[1].trim(),a),a),r&&n[0]===e&&!X(r))return r;X(r)||(r=ee(r)),r||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),r=""),l&&(r=o.reduce((e,t)=>this.format(e,t,s.lng,{...s,interpolationkey:n[1].trim()}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}const Me=e=>{const t={};return(n,r,a)=>{let s=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(s={...s,[a.interpolationkey]:void 0});const i=r+JSON.stringify(s);let o=t[i];return o||(o=e(fe(r),a),t[i]=o),o(n)}};class Oe{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=ye.create("formatter"),this.options=e,this.formats={number:Me((e,t)=>{const n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)}),currency:Me((e,t)=>{const n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)}),datetime:Me((e,t)=>{const n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)}),relativetime:Me((e,t)=>{const n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")}),list:Me((e,t)=>{const n=new Intl.ListFormat(e,{...t});return e=>n.format(e)})},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Me(t)}format(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a=t.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(e=>e.indexOf(")")>-1)){const e=a.findIndex(e=>e.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,e)].join(this.formatSeparator)}return a.reduce((e,t)=>{const{formatName:a,formatOptions:s}=(e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const a=r[1].substring(0,r[1].length-1);"currency"===t&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):"relativetime"===t&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach(e=>{if(e){const[t,...r]=e.split(":"),a=r.join(":").trim().replace(/^'+|'+$/g,""),s=t.trim();n[s]||(n[s]=a),"false"===a&&(n[s]=!1),"true"===a&&(n[s]=!0),isNaN(a)||(n[s]=parseInt(a,10))}})}return{formatName:t,formatOptions:n}})(t);if(this.formats[a]){let t=e;try{const i=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},o=i.locale||i.lng||r.locale||r.lng||n;t=this.formats[a](e,o,{...s,...r,...i})}catch(i){this.logger.warn(i)}return t}return this.logger.warn(`there was no format function for ${a}`),e},e)}}class Le extends ve{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=ye.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,r.backend,r)}queueLoad(e,t,n,r){const a={},s={},i={},o={};return e.forEach(e=>{let r=!0;t.forEach(t=>{const i=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[i]=2:this.state[i]<0||(1===this.state[i]?void 0===s[i]&&(s[i]=!0):(this.state[i]=1,r=!1,void 0===s[i]&&(s[i]=!0),void 0===a[i]&&(a[i]=!0),void 0===o[t]&&(o[t]=!0)))}),r||(i[e]=!0)}),(Object.keys(a).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(a),pending:Object.keys(s),toLoadLanguages:Object.keys(i),toLoadNamespaces:Object.keys(o)}}loaded(e,t,n){const r=e.split("|"),a=r[0],s=r[1];t&&this.emit("failedLoading",a,s,t),!t&&n&&this.store.addResourceBundle(a,s,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const i={};this.queue.forEach(n=>{((e,t,n)=>{const{obj:r,k:a}=ae(e,t,Object);r[a]=r[a]||[],r[a].push(n)})(n.loaded,[a],s),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach(e=>{i[e]||(i[e]={});const t=n.loaded[e];t.length&&t.forEach(t=>{void 0===i[e][t]&&(i[e][t]=!0)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",i),this.queue=this.queue.filter(e=>!e.done)}read(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:r,wait:a,callback:s});this.readingCalls++;const i=(i,o)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}i&&o&&r<this.maxRetries?setTimeout(()=>{this.read.call(this,e,t,n,r+1,2*a,s)},a):s(i,o)},o=this.backend[n].bind(this.backend);if(2!==o.length)return o(e,t,i);try{const n=o(e,t);n&&"function"==typeof n.then?n.then(e=>i(null,e)).catch(i):i(null,n)}catch(l){i(l)}}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();X(e)&&(e=this.languageUtils.toResolveHierarchy(e)),X(t)&&(t=[t]);const a=this.queueLoad(e,t,n,r);if(!a.toLoad.length)return a.pending.length||r(),null;a.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split("|"),r=n[0],a=n[1];this.read(r,a,"read",void 0,void 0,(n,s)=>{n&&this.logger.warn(`${t}loading namespace ${a} for language ${r} failed`,n),!n&&s&&this.logger.log(`${t}loaded namespace ${a} for language ${r}`,s),this.loaded(e,n,s)})}saveMissing(e,t,n,r,a){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=n&&""!==n){if(this.backend&&this.backend.create){const l={...s,isUpdate:a},u=this.backend.create.bind(this.backend);if(u.length<6)try{let a;a=5===u.length?u(e,t,n,r,l):u(e,t,n,r),a&&"function"==typeof a.then?a.then(e=>i(null,e)).catch(i):i(null,a)}catch(o){i(o)}else u(e,t,n,r,i,l)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}}const De=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),X(e[1])&&(t.defaultValue=e[1]),X(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach(e=>{t[e]=n[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Fe=e=>(X(e.ns)&&(e.ns=[e.ns]),X(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),X(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),$e=()=>{};class Ve extends ve{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var n;if(super(),this.options=Fe(e),this.services={},this.logger=ye,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(e=>{"function"==typeof n[e]&&(n[e]=n[e].bind(n))}),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&(X(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=De();this.options={...r,...this.options,...Fe(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...r.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);const a=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?ye.init(a(this.modules.logger),this.options):ye.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!=typeof Intl&&(t=Oe);const n=new _e(this.options);this.store=new be(this.options.resources,this.options);const s=this.services;s.logger=ye,s.resourceStore=this.store,s.languageUtils=n,s.pluralResolver=new je(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!t||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(s.formatter=a(t),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new Re(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new Le(a(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];e.emit(t,...r)}),this.modules.languageDetector&&(s.languageDetector=a(this.modules.languageDetector),s.languageDetector.init&&s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=a(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new ke(this.services,this.options),this.translator.on("*",function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];e.emit(t,...r)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,n||(n=$e),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(t=>{this[t]=function(){return e.store[t](...arguments)}});["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(t=>{this[t]=function(){return e.store[t](...arguments),e}});const s=Q(),i=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),s.resolve(t),n(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?i():setTimeout(i,0),s}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$e;const n=X(e)?e:this.language;if("function"==typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],r=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)})};if(n)r(n);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>r(e))}this.options.preload&&this.options.preload.forEach(e=>r(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)})}else t(null)}reloadResources(e,t,n){const r=Q();return"function"==typeof e&&(n=e,e=void 0),"function"==typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=$e),this.services.backendConnector.reload(e,t,e=>{r.resolve(),n(e)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&xe.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const e=this.languages[t];if(!(["cimode","dev"].indexOf(e)>-1)&&this.store.hasLanguageSomeTranslations(e)){this.resolvedLanguage=e;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const r=Q();this.emit("languageChanging",e);const a=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},s=(e,s)=>{s?(a(s),this.translator.changeLanguage(s),this.isLanguageChangingTo=void 0,this.emit("languageChanged",s),this.logger.log("languageChanged",s)):this.isLanguageChangingTo=void 0,r.resolve(function(){return n.t(...arguments)}),t&&t(e,function(){return n.t(...arguments)})},i=t=>{e||t||!this.services.languageDetector||(t=[]);const n=X(t)?t:this.services.languageUtils.getBestMatchFromCodes(t);n&&(this.language||a(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(n)),this.loadResources(n,e=>{s(e,n)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(i):this.services.languageDetector.detect(i):i(e):i(this.services.languageDetector.detect()),r}getFixedT(e,t,n){var r=this;const a=function(e,t){let s;if("object"!=typeof t){for(var i=arguments.length,o=new Array(i>2?i-2:0),l=2;l<i;l++)o[l-2]=arguments[l];s=r.options.overloadTranslationOptionHandler([e,t].concat(o))}else s={...t};s.lng=s.lng||a.lng,s.lngs=s.lngs||a.lngs,s.ns=s.ns||a.ns,""!==s.keyPrefix&&(s.keyPrefix=s.keyPrefix||n||a.keyPrefix);const u=r.options.keySeparator||".";let c;return c=s.keyPrefix&&Array.isArray(e)?e.map(e=>`${s.keyPrefix}${u}${e}`):s.keyPrefix?`${s.keyPrefix}${u}${e}`:e,r.t(c,s)};return X(e)?a.lng=e:a.lngs=e,a.ns=t,a.keyPrefix=n,a}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,a=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const s=(e,t)=>{const n=this.services.backendConnector.state[`${e}|${t}`];return-1===n||0===n||2===n};if(t.precheck){const e=t.precheck(this,s);if(void 0!==e)return e}return!!this.hasResourceBundle(n,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!s(n,e)||r&&!s(a,e)))}loadNamespaces(e,t){const n=Q();return this.options.ns?(X(e)&&(e=[e]),e.forEach(e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=Q();X(e)&&(e=[e]);const r=this.options.preload||[],a=e.filter(e=>r.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e));return a.length?(this.options.preload=r.concat(a),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services&&this.services.languageUtils||new _e(De());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new Ve(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$e;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},a=new Ve(r);void 0===e.debug&&void 0===e.prefix||(a.logger=a.logger.clone(e));return["store","services","language"].forEach(e=>{a[e]=this[e]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},n&&(a.store=new be(this.store.data,r),a.services.resourceStore=a.store),a.translator=new ke(a.services,r),a.translator.on("*",function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a.emit(e,...n)}),a.init(r,t),a.translator.options=r,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ze=Ve.createInstance();ze.createInstance=Ve.createInstance,ze.createInstance,ze.dir,ze.init,ze.loadResources,ze.reloadResources,ze.use,ze.changeLanguage,ze.getFixedT,ze.t,ze.exists,ze.setDefaultNamespace,ze.hasLoadedNamespace,ze.loadNamespaces,ze.loadLanguages;const{slice:Ue,forEach:Be}=[];const We=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,He={create(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+60*n*1e3)),r&&(a.domain=r),document.cookie=function(e,t){const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{path:"/"};let r=`${e}=${encodeURIComponent(t)}`;if(n.maxAge>0){const e=n.maxAge-0;if(Number.isNaN(e))throw new Error("maxAge should be a Number");r+=`; Max-Age=${Math.floor(e)}`}if(n.domain){if(!We.test(n.domain))throw new TypeError("option domain is invalid");r+=`; Domain=${n.domain}`}if(n.path){if(!We.test(n.path))throw new TypeError("option path is invalid");r+=`; Path=${n.path}`}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");r+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(r+="; HttpOnly"),n.secure&&(r+="; Secure"),n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(r+="; Partitioned"),r}(e,t,a)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let e=n[r];for(;" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var qe={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&"undefined"!=typeof document)return He.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:r,cookieDomain:a,cookieOptions:s}=t;n&&"undefined"!=typeof document&&He.create(n,e,r,a,s)}},Ze={name:"querystring",lookup(e){let t,{lookupQuerystring:n}=e;if("undefined"!=typeof window){let{search:e}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(e=window.location.hash.substring(window.location.hash.indexOf("?")));const r=e.substring(1).split("&");for(let a=0;a<r.length;a++){const e=r[a].indexOf("=");if(e>0){r[a].substring(0,e)===n&&(t=r[a].substring(e+1))}}}return t}},Ke={name:"hash",lookup(e){let t,{lookupHash:n,lookupFromHashIndex:r}=e;if("undefined"!=typeof window){const{hash:e}=window.location;if(e&&e.length>2){const a=e.substring(1);if(n){const e=a.split("&");for(let r=0;r<e.length;r++){const a=e[r].indexOf("=");if(a>0){e[r].substring(0,a)===n&&(t=e[r].substring(a+1))}}}if(t)return t;if(!t&&r>-1){const t=e.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(t))return;const n="number"==typeof r?r:0;return t[n]?.replace("/","")}}}return t}};let Ye=null;const Je=()=>{if(null!==Ye)return Ye;try{if(Ye="undefined"!=typeof window&&null!==window.localStorage,!Ye)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){Ye=!1}return Ye};var Ge={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&Je())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&Je()&&window.localStorage.setItem(n,e)}};let Xe=null;const Qe=()=>{if(null!==Xe)return Xe;try{if(Xe="undefined"!=typeof window&&null!==window.sessionStorage,!Xe)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){Xe=!1}return Xe};var et={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&Qe())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&Qe()&&window.sessionStorage.setItem(n,e)}},tt={name:"navigator",lookup(e){const t=[];if("undefined"!=typeof navigator){const{languages:e,userLanguage:n,language:r}=navigator;if(e)for(let a=0;a<e.length;a++)t.push(e[a]);n&&t.push(n),r&&t.push(r)}return t.length>0?t:void 0}},nt={name:"htmlTag",lookup(e){let t,{htmlTag:n}=e;const r=n||("undefined"!=typeof document?document.documentElement:null);return r&&"function"==typeof r.getAttribute&&(t=r.getAttribute("lang")),t}},rt={name:"path",lookup(e){let{lookupFromPathIndex:t}=e;if("undefined"==typeof window)return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(n))return;const r="number"==typeof t?t:0;return n[r]?.replace("/","")}},at={name:"subdomain",lookup(e){let{lookupFromSubdomainIndex:t}=e;const n="number"==typeof t?t+1:1,r="undefined"!=typeof window&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[n]}};let st=!1;try{document.cookie,st=!0}catch(GI){}const it=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];st||it.splice(1,1);class ot{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{languageUtils:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(e){return Be.call(Ue.call(arguments,1),t=>{if(t)for(const n in t)void 0===e[n]&&(e[n]=t[n])}),e}(t,this.options||{},{order:it,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e}),"string"==typeof this.options.convertDetectedLanguage&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=e=>e.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(qe),this.addDetector(Ze),this.addDetector(Ge),this.addDetector(et),this.addDetector(tt),this.addDetector(nt),this.addDetector(rt),this.addDetector(at),this.addDetector(Ke)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.order,t=[];return e.forEach(e=>{if(this.detectors[e]){let n=this.detectors[e].lookup(this.options);n&&"string"==typeof n&&(n=[n]),n&&(t=t.concat(n))}}),t=t.filter(e=>{return null!=e&&!("string"==typeof(t=e)&&[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(e=>e.test(t)));var t}).map(e=>this.options.convertDetectedLanguage(e)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(t=>{this.detectors[t]&&this.detectors[t].cacheUserLanguage(e,this.options)}))}}ot.type="languageDetector";const lt={},ut=(e,t,n,r)=>{ht(n)&&lt[n]||(ht(n)&&(lt[n]=new Date),((e,t,n,r)=>{const a=[n,{code:t,...r||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);ht(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...a):console})(e,t,n,r))},ct=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},dt=(e,t,n)=>{e.loadNamespaces(t,ct(e,n))},pt=(e,t,n,r)=>{if(ht(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return dt(e,n,r);n.forEach(t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)}),e.loadLanguages(t,ct(e,r))},ht=e=>"string"==typeof e,ft=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,mt={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},gt=e=>mt[e];let yt={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(ft,gt)};let vt;const bt={type:"3rdParty",init(e){((e={})=>{yt={...yt,...e}})(e.options.react),(e=>{vt=e})(e)}},xt=V.createContext();class wt{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const kt=(e,t,n,r)=>e.getFixedT(t,n,r),St=(e,t={})=>{const{i18n:n}=t,{i18n:r,defaultNS:a}=V.useContext(xt)||{},s=n||r||vt;if(s&&!s.reportNamespaces&&(s.reportNamespaces=new wt),!s){ut(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const e=(e,t)=>{return ht(t)?t:"object"==typeof(n=t)&&null!==n&&ht(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e;var n},t=[e,{},!1];return t.t=e,t.i18n={},t.ready=!1,t}s.options.react?.wait&&ut(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const i={...yt,...s.options.react,...t},{useSuspense:o,keyPrefix:l}=i;let u=a||s.options?.defaultNS;u=ht(u)?[u]:u||["translation"],s.reportNamespaces.addUsedNamespaces?.(u);const c=(s.isInitialized||s.initializedStoreOnce)&&u.every(e=>((e,t,n={})=>t.languages&&t.languages.length?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(t,r)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):(ut(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0))(e,s,i)),d=((e,t,n,r)=>V.useCallback(kt(e,t,n,r),[e,t,n,r]))(s,t.lng||null,"fallback"===i.nsMode?u:u[0],l),p=()=>d,h=()=>kt(s,t.lng||null,"fallback"===i.nsMode?u:u[0],l),[f,m]=V.useState(p);let g=u.join();t.lng&&(g=`${t.lng}${g}`);const y=((e,t)=>{const n=V.useRef();return V.useEffect(()=>{n.current=e},[e,t]),n.current})(g),v=V.useRef(!0);V.useEffect(()=>{const{bindI18n:e,bindI18nStore:n}=i;v.current=!0,c||o||(t.lng?pt(s,t.lng,u,()=>{v.current&&m(h)}):dt(s,u,()=>{v.current&&m(h)})),c&&y&&y!==g&&v.current&&m(h);const r=()=>{v.current&&m(h)};return e&&s?.on(e,r),n&&s?.store.on(n,r),()=>{v.current=!1,s&&e&&e?.split(" ").forEach(e=>s.off(e,r)),n&&s&&n.split(" ").forEach(e=>s.store.off(e,r))}},[s,g]),V.useEffect(()=>{v.current&&c&&m(p)},[s,l,c]);const b=[f,s,c];if(b.t=f,b.i18n=s,b.ready=c,c)return b;if(!c&&!o)return b;throw new Promise(e=>{t.lng?pt(s,t.lng,u,()=>e()):dt(s,u,()=>e())})},_t={app:{windowTitle:"Pulse·10 · Daily Longevity Habits"},language:{label:"Language",en:"English",zh:"简体中文"},nav:{today:"Today",session:"Session",insights:"Insights",profile:"Profile"},topBar:{brand:"Pulse·10",tagline:"Longevity dashboard"},common:{level:"Level",streak:"Streak",daySuffix:"{{count}}d",days:"{{count}} days",back:"Back",next:"Next"},progress:{title:"Today's Snapshot",completedLabel:"{{count}} / {{total}} habits",energy:"Energy",readiness:"Readiness",xp:"XP",lastDays:"Last 14 days",heatmapTooltip:"{{date}} · {{count}} habits",energyLevels:{low:"Low",steady:"Steady",high:"High"}},habits:{stages:{activate:"Activate",elevate:"Elevate",master:"Master"},intensity:{light:"Light",moderate:"Moderate",vigorous:"Vigorous"},actions:{complete:"Complete",logged:"Logged"},metrics:"{{minutes}} min · {{intensity}}",completeNoteTemplate:"{{title}} complete",tags:{morning:"Morning",recovery:"Recovery",desk:"Desk","low-impact":"Low impact",anywhere:"Anywhere",progressive:"Progressive",afternoon:"Afternoon","brain-health":"Brain health",cardio:"Cardio",advanced:"Advanced",evening:"Evening",sleep:"Sleep",midday:"Midday",equipment:"Equipment",longevity:"Longevity",neuro:"Neuro"},items:{"h-priming-breath":{title:"Priming Breath Ladder",description:"Guided nasal breathing with extended exhales to prime the nervous system."},"h-spine-mobility":{title:"Spinal Mobility Flow",description:"Cat-cow, thoracic rotations, and segmental bridge to wake up the spine."},"h-strength-microdose":{title:"Strength Microdose Stack",description:"Alternating tempo squats, offset push, and loaded carry pattern with bodyweight or bands."},"h-cognition-primer":{title:"Cognitive Primer",description:"Dual-task drills and pattern switching to sharpen focus and reaction times."},"h-metabolic-surge":{title:"Metabolic Surge Intervals",description:"Low-impact plyometrics with controlled intervals to raise heart rate safely."},"h-evening-reset":{title:"Evening Reset Downshift",description:"Parasympathetic breath, light mobility, and journaling prompts to close the day."},"h-fascia-glide":{title:"Fascial Glide Wake Up",description:"Loaded mobility with bands to hydrate fascia and improve tissue glide."},"h-balance-brain":{title:"Balance + Brain Combo",description:"Single-leg balance with cognitive load for proprioception and neuro resilience."}}},gamification:{title:"Momentum Engine",levelTag:"Level {{level}}",xpProgress:"XP Progress",xpSummary:"{{total}} total XP · {{next}} to next level",currentStreak:"Current Streak",longestStreak:"Longest streak: {{count}} days",badges:"Badges",noBadges:"Stack habits to unlock your first badge."},badges:{"badge-streak-3":{name:"Momentum Spark",condition:"Complete 3 days in a row"},"badge-streak-7":{name:"Longevity Loop",condition:"Maintain a 7-day streak"},"badge-mission-complete":{name:"Mission Architect",condition:"Complete any seasonal mission"},"badge-evening-champion":{name:"Evening Champion",condition:"Log 5 evening resets in a month"},"badge-oxygen-master":{name:"Oxygen Mastery",condition:"Accumulate 60 minutes of breathwork"}},insightsFeed:{title:"AI Coach Review",subtitle:"Personalized adjustments based on your last sessions.",refresh:"Refresh insights",loading:"Generating insights...",empty:"Complete a stack to unlock your first insight.",noHistory:"Log at least one day to unlock AI guidance.",errorGeneric:"We could not refresh AI insights. Try again shortly.",errorEmpty:"AI did not return new guidance. Log fresh activity and retry.",lastUpdated:"Updated {{time}}"},insightsPage:{logTitle:"Execution Log",logSubtitle:"Review micro wins and reflections captured across days."},history:{empty:"No sessions logged yet. Complete today's stack to generate signals.",summary:"{{count}} habits · Readiness {{readiness}}",mood:"Mood: {{mood}}",moods:{calm:"Calm",focused:"Focused",energized:"Energized",stressed:"Stressed"},notes:"Notes: {{notes}}",reflection:"Reflection: {{notes}}"},dashboard:{todayTitle:"Today's Longevity Stack",tapHint:"Tap to log completion",missionsTitle:"Seasonal Missions",missionsSubtitle:"Cycle micro-challenges to keep your momentum high."},missions:{reward:"Reward: {{xp}} XP",focus:{mobility:"Mobility",resilience:"Resilience",recovery:"Recovery",metabolic:"Metabolic"},"mission-stability-foundation":{title:"Stability Foundation",description:"Complete 5 mobility-focused sessions this week to unlock the Movement Catalyst badge.",requirements:["Complete 5 mobility habits","Log mobility reflection 3 times"]},"mission-oxygen-advantage":{title:"Oxygen Advantage",description:"Balance stress and energy by pairing breathwork with focused recovery blocks.",requirements:["Complete breathwork 3 mornings","Log readiness score each day"]},"mission-evening-elite":{title:"Evening Elite",description:"Dial in your wind-down routine to amplify deep sleep and recovery scores.",requirements:["Complete evening reset 4 times","Document evening reflections twice"]},"mission-metabolic-momentum":{title:"Metabolic Momentum",description:"Prime metabolic health with repeated cardio microdoses across the week.",requirements:["Complete metabolic surge 3 times","Maintain streak for 4 days"]}},sessions:{focus:{longevity:"Longevity",recovery:"Recovery",performance:"Performance"},templates:{"template-daily-primer":{title:"Daily Longevity Primer",goal:"Mobilize, energize, and focus in 10 minutes.",phases:{"phase-prime-breath":{title:"Priming Breath Ladder",description:"Guided nasal ladder breathing with extended exhales."},"phase-mobility-stack":{title:"Mobility Stack",description:"Spinal mobility flow to hydrate joints and fascia."},"phase-strength-dose":{title:"Strength Microdose",description:"Tempo squats with offset push pattern to build strength safely."}}},"template-evening-reset":{title:"Evening Nervous System Reset",goal:"Downshift and prepare for deep, restorative sleep.",phases:{"phase-downshift-breath":{title:"Downshift Breath",description:"Parasympathetic breath with 4-6 cadence."},"phase-fascia-glide":{title:"Fascial Glide",description:"Band-supported spiral mobility to release tension."},"phase-reflection":{title:"Reflection + Journaling",description:"Capture micro-wins and readiness cues for tomorrow."}}},"template-metabolic-surge":{title:"Metabolic Surge Express",goal:"Boost metabolic flexibility with controlled cardio bursts.",phases:{"phase-warm-coord":{title:"Warm-up Coordination",description:"Balance + brain patterning to prep nervous system."},"phase-intervals":{title:"Cardio Micro-Intervals",description:"Low-impact plyometric intervals and tempo climbs."},"phase-cool-breath":{title:"Cool Down Breath",description:"Coherence breathing to bring heart rate down."}}}}},session:{startStack:"Start stack",minutes:"{{minutes}} min",activeStack:"Active stack",resume:"Resume",pause:"Pause",finish:"Finish",cancel:"Cancel",totalTime:"Total time",elapsed:"Elapsed",phaseLabel:"Phase",phaseCount:"Phase {{index}}",chooseTitle:"Choose your 10-minute stack",chooseDescription:"Curated blocks blend mobility, breathwork, and strength so you get longevity ROI with minimal friction.",manualReflection:"Session closed manually"},profile:{title:"Personal rhythm",subtitle:"Tweak your time windows and focus areas so Pulse·10 adapts.",wakeWindow:"Wake window",windDownWindow:"Wind-down window",focusAreasTitle:"Focus arenas",focusAreas:{mobility:{label:"Mobility",description:"Keep joints supple and resilient."},strength:{label:"Strength",description:"Maintain muscle and bone density."},cardio:{label:"Cardio",description:"Improve metabolic flexibility."},breathwork:{label:"Breathwork",description:"Balance your nervous system daily."},mindfulness:{label:"Mindfulness",description:"Build emotional regulation."},cognition:{label:"Cognition",description:"Sharpen neuroplasticity."},nutrition:{label:"Nutrition",description:"Embed micro choices for longevity."}},mobilityAccess:"Mobility access",mobilityOptions:{limited:"Limited space",standard:"Standard",full:"Full gym"},savePreferences:"Save preferences",saveHint:"Updates instantly re-tune your habit recommendations.",statsTitle:"Execution stats",statsSubtitle:"Track macro progress and manage your data.",totalHabits:"Total habits",loggedDays:"Logged days",resetToday:"Reset today's log",exportHint:"Want to export data? Use the devtools to copy from localStorage key"},onboarding:{badge:"Pulse·10 Onboarding",title:"Build your longevity ritual",subtitle:"Just 10 minutes a day can stack compounding health wins. Configure your baseline to unlock a personalized flow.",launch:"Launch my plan",preferenceSlots:"Preferred habit slots",preferenceHint:"We'll use these to time your nudges.",environmentHint:"Pulse·10 will suggest 10-minute blocks that match your equipment and daily rhythm. You can re-tune this anytime in Profile.",mobilityOptions:{limited:{label:"Limited",detail:"Hotel room or office space"},standard:{label:"Standard",detail:"Mat + light bands"},full:{label:"Full",detail:"Gym, weights, open space"}},steps:{baseline:{title:"Set your energetic baseline",description:"Choose when you generally want to activate and wind down."},focus:{title:"Dial your longevity focus",description:"Select 3 priority arenas and we'll curate micro doses."},environment:{title:"Gear + environment check",description:"Tell us what space you have so we pick the right variations."}}},ai:{dailyMomentum:{title:"Daily Longevity Momentum",summary:"Locked in your {{count}}-habit momentum today. Keep stacking micro wins.",actions:["Celebrate the execution in your reflection log.","Stack the same pattern at the same time tomorrow for habit strength.","Consider adding breath downshift in the evening for recovery balance."]},sessionComplete:{title:"{{session}} locked",summary:"Captured a full {{session}} stack. XP bonus engaged.",actions:["Log how the session felt to refine AI guidance.","Plan tomorrow's stack now to keep a rolling streak.","Hydrate and get protein within 30 minutes to maximize adaptations."]},weekly:{title:"Weekly Pattern Check",summary:"AI review: readiness {{readiness}} · breath {{breath}} · strength {{strength}}.",actions:{lowReadiness:["Downshift tomorrow with evening reset and extended exhale breathing.","Block an 8-hour sleep window by honoring wind-down time."],breathwork:"Micro-dose breath ladders 3x this week for nervous system balance.",strength:"Schedule strength microdoses on Tue/Thu to protect lean muscle.",energyStable:"Energy stability is excellent - lean into a metabolic surge block.",lockPlan:"Lock your weekly plan: repeat the same habit block at the same time."}}}},Tt={app:{windowTitle:"Pulse·10 · 每日长寿习惯"},language:{label:"语言",en:"English",zh:"简体中文"},nav:{today:"今日",session:"训练",insights:"洞察",profile:"个人"},topBar:{brand:"Pulse·10",tagline:"长寿指挥台"},common:{level:"等级",streak:"连胜",daySuffix:"{{count}}天",days:"{{count}} 天",back:"返回",next:"下一步"},progress:{title:"今日快照",completedLabel:"{{count}} / {{total}} 个习惯",energy:"能量",readiness:"准备度",xp:"经验值",lastDays:"过去 14 天",heatmapTooltip:"{{date}} · 完成 {{count}} 项",energyLevels:{low:"偏低",steady:"稳定",high:"充沛"}},habits:{stages:{activate:"激活",elevate:"进阶",master:"大师"},intensity:{light:"轻度",moderate:"中等",vigorous:"高强度"},actions:{complete:"记录完成",logged:"已记录"},metrics:"{{minutes}} 分钟 · {{intensity}}",completeNoteTemplate:"{{title}} 已完成",tags:{morning:"晨间",recovery:"恢复",desk:"办公桌","low-impact":"低冲击",anywhere:"随时随地",progressive:"递进式",afternoon:"午后","brain-health":"脑健康",cardio:"有氧",advanced:"进阶",evening:"晚间",sleep:"睡眠",midday:"正午",equipment:"器械",longevity:"长寿",neuro:"神经"},items:{"h-priming-breath":{title:"唤醒式阶梯呼吸",description:"通过延长呼气的鼻呼吸引导，唤醒神经系统。"},"h-spine-mobility":{title:"脊柱流动激活",description:"猫牛式、胸椎旋转与分段桥式，让脊柱苏醒。"},"h-strength-microdose":{title:"力量微剂量组合",description:"交替节奏深蹲、偏移推练与负重搬运，支持体重或弹力带。"},"h-cognition-primer":{title:"认知启动",description:"双任务练习与模式切换，提升专注与反应。"},"h-metabolic-surge":{title:"代谢冲刺间歇",description:"低冲击爆发配合节奏控制，安全提升心率。"},"h-evening-reset":{title:"夜间复位降速",description:"副交感呼吸、轻度活动与日结提示，为睡眠收尾。"},"h-fascia-glide":{title:"筋膜滑动唤醒",description:"搭配弹力带的负重灵活，滋养筋膜与组织滑动。"},"h-balance-brain":{title:"平衡 x 大脑协作",description:"单脚平衡叠加认知负荷，强化本体感受与神经韧性。"}}},gamification:{title:"动力引擎",levelTag:"等级 {{level}}",xpProgress:"经验进度",xpSummary:"累计 {{total}} XP · 距下一级还差 {{next}}",currentStreak:"当前连胜",longestStreak:"最长连胜：{{count}} 天",badges:"勋章",noBadges:"坚持记录，即可解锁首枚勋章。"},badges:{"badge-streak-3":{name:"动能火花",condition:"连续 3 天完成"},"badge-streak-7":{name:"长寿循环",condition:"维持 7 天连胜"},"badge-mission-complete":{name:"任务架构师",condition:"完成任意季节任务"},"badge-evening-champion":{name:"夜间冠军",condition:"单月记录 5 次夜间复位"},"badge-oxygen-master":{name:"氧动高手",condition:"累计 60 分钟呼吸练习"}},insightsFeed:{title:"AI 教练评估",subtitle:"基于你近期训练生成个性化调整。",refresh:"刷新洞察",loading:"AI 洞察生成中...",empty:"先完成一次组合即可解锁首条洞察。",noHistory:"先记录至少一天习惯以解锁 AI 指导。",errorGeneric:"AI 教练暂时无法刷新，请稍后再试。",errorEmpty:"AI 暂无新的建议，补充最新数据后重试。",lastUpdated:"更新于 {{time}}"},insightsPage:{logTitle:"执行记录",logSubtitle:"回顾每日的微胜与反思。"},history:{empty:"尚无训练记录。先完成今日组合以生成信号。",summary:"{{count}} 个习惯 · 准备度 {{readiness}}",mood:"情绪：{{mood}}",moods:{calm:"平静",focused:"专注",energized:"充盈",stressed:"紧张"},notes:"备注：{{notes}}",reflection:"反思：{{notes}}"},dashboard:{todayTitle:"今日长寿组合",tapHint:"点击记录完成",missionsTitle:"季节任务",missionsSubtitle:"轮换小挑战，保持势能累积。"},missions:{reward:"奖励：{{xp}} XP",focus:{mobility:"灵活度",resilience:"韧性",recovery:"恢复",metabolic:"代谢"},"mission-stability-foundation":{title:"稳定根基",description:"本周完成 5 次灵活度训练，解锁动势催化勋章。",requirements:["完成 5 次灵活度习惯","记录 3 次灵活度反思"]},"mission-oxygen-advantage":{title:"氧量优势",description:"以呼吸练习搭配恢复节奏，平衡压力与能量。",requirements:["晨间完成 3 次呼吸训练","每天记录准备度评分"]},"mission-evening-elite":{title:"夜间精英",description:"优化收尾流程，提升深睡与恢复分数。",requirements:["完成 4 次夜间复位","记录 2 次夜间反思"]},"mission-metabolic-momentum":{title:"代谢动能",description:"一周多次有氧微剂量，激活代谢健康。",requirements:["完成 3 次代谢冲刺","保持 4 天连胜"]}},sessions:{focus:{longevity:"长寿",recovery:"恢复",performance:"表现"},templates:{"template-daily-primer":{title:"每日长寿启动",goal:"10 分钟内唤醒、充能并聚焦。",phases:{"phase-prime-breath":{title:"唤醒式阶梯呼吸",description:"延长呼气的鼻呼吸，引导神经系统就绪。"},"phase-mobility-stack":{title:"灵动组合",description:"为关节与筋膜补水的脊柱流动流程。"},"phase-strength-dose":{title:"力量微剂量",description:"节奏深蹲 + 偏移推压，安全建立力量。"}}},"template-evening-reset":{title:"夜间神经系统重置",goal:"降速并为深度修复做好准备。",phases:{"phase-downshift-breath":{title:"降速呼吸",description:"4-6 节奏的副交感呼吸。"},"phase-fascia-glide":{title:"筋膜滑动",description:"弹力带支持的螺旋灵动，释放紧张。"},"phase-reflection":{title:"总结与书写",description:"记录微胜与明日的准备信号。"}}},"template-metabolic-surge":{title:"代谢冲刺快线",goal:"通过可控有氧爆发提升代谢弹性。",phases:{"phase-warm-coord":{title:"热身协调",description:"平衡 + 大脑模式，激活神经系统。"},"phase-intervals":{title:"有氧微间歇",description:"低冲击弹跳配合节奏攀升。"},"phase-cool-breath":{title:"冷却呼吸",description:"一致性呼吸，带回心率。"}}}}},session:{startStack:"开始组合",minutes:"{{minutes}} 分钟",activeStack:"进行中的组合",resume:"继续",pause:"暂停",finish:"完成",cancel:"取消",totalTime:"总时长",elapsed:"已用时间",phaseLabel:"阶段",phaseCount:"阶段 {{index}}",chooseTitle:"选择你的 10 分钟组合",chooseDescription:"精选灵活、呼吸与力量组合，最低摩擦换取长寿回报。",manualReflection:"手动结束本次训练"},profile:{title:"个人节奏",subtitle:"调整时间窗口与重点领域，让 Pulse·10 更契合你。",wakeWindow:"醒来时间窗",windDownWindow:"收尾时间窗",focusAreasTitle:"重点领域",focusAreas:{mobility:{label:"灵活度",description:"保持关节灵活与韧性。"},strength:{label:"力量",description:"守住肌肉与骨密度。"},cardio:{label:"有氧",description:"强化代谢弹性。"},breathwork:{label:"呼吸",description:"每天平衡你的神经系统。"},mindfulness:{label:"正念",description:"培养情绪调节力。"},cognition:{label:"认知",description:"锻炼神经可塑性。"},nutrition:{label:"营养",description:"植入日常微习惯延长寿命。"}},mobilityAccess:"空间 / 器械条件",mobilityOptions:{limited:"空间受限",standard:"常规配置",full:"完整健身房"},savePreferences:"保存偏好",saveHint:"立即根据新偏好调整推荐。",statsTitle:"执行数据",statsSubtitle:"追踪宏观进度并管理你的数据。",totalHabits:"累计习惯次数",loggedDays:"记录天数",resetToday:"重置今日记录",exportHint:"需要导出数据？可在开发者工具中复制 localStorage 键"},onboarding:{badge:"Pulse·10 入门",title:"打造你的长寿仪式",subtitle:"每天 10 分钟即可叠加健康红利。配置基础参数，解锁专属流程。",launch:"启动我的计划",preferenceSlots:"偏好习惯时段",preferenceHint:"我们将据此推送提醒。",environmentHint:"Pulse·10 将匹配你的器械与节奏推荐 10 分钟组合，你可在个人页随时调整。",mobilityOptions:{limited:{label:"空间受限",detail:"酒店房或办公空间"},standard:{label:"常规配置",detail:"瑜伽垫 + 轻阻力带"},full:{label:"完整配置",detail:"健身房/自由重量/开阔空间"}},steps:{baseline:{title:"设定你的能量基线",description:"设定你通常启动与收尾的时间。"},focus:{title:"锁定长寿重点",description:"选择 3 个优先领域，我们将定制微剂量组合。"},environment:{title:"场景与器械确认",description:"告诉我们可用空间与器械，以匹配合适变式。"}}},ai:{dailyMomentum:{title:"每日长寿动能",summary:"今日完成 {{count}} 个习惯，动能已锁定，持续叠加微胜。",actions:["在反思日志里庆祝本次执行。","明天同一时间复制同一组合，强化习惯回路。","晚上加入降速呼吸，平衡恢复节奏。"]},sessionComplete:{title:"{{session}} 已锁定",summary:"完整执行 {{session}} 组合，额外经验已到账。",actions:["记录本次感受，帮助 AI 优化指导。","提前规划明天的组合，保持滚动连胜。","30 分钟内补充水分与蛋白，放大适应效应。"]},weekly:{title:"每周模式检查",summary:"AI 盘点：准备度 {{readiness}} · 呼吸 {{breath}} 次 · 力量 {{strength}} 次。",actions:{lowReadiness:["明天以夜间复位搭配延长呼气降速。","确保 8 小时睡眠窗口，遵守收尾时间。"],breathwork:"本周至少 3 次呼吸阶梯，为神经系统调频。",strength:"在周二/周四安排力量微剂量，守住瘦肌肉。",energyStable:"能量稳定表现优异，可加入代谢冲刺模块。",lockPlan:"锁定一周节奏：同一时间重复相同组合。"}}}};ze.use(ot).use(bt).init({resources:{en:{translation:_t},"zh-CN":{translation:Tt}},fallbackLng:"en",supportedLngs:["en","zh-CN"],interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]},returnObjects:!0,defaultNS:"translation"});var Et={},Ct={exports:{}},Pt={},Nt={exports:{}},jt={};
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<a(s,t)))break e;e[r]=t,e[n]=s,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,i=s>>>1;r<i;){var o=2*(r+1)-1,l=e[o],u=o+1,c=e[u];if(0>a(l,n))u<s&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[o]=n,r=o);else{if(!(u<s&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var l=[],u=[],c=1,d=null,p=3,h=!1,f=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var a=n(u);null!==a;){if(null===a.callback)r(u);else{if(!(a.startTime<=e))break;r(u),a.sortIndex=a.expirationTime,t(l,a)}a=n(u)}}function x(e){if(m=!1,b(e),!f)if(null!==n(l))f=!0,I(w);else{var t=n(u);null!==t&&R(x,t.startTime-e)}}function w(t,a){f=!1,m&&(m=!1,y(T),T=-1),h=!0;var s=p;try{for(b(a),d=n(l);null!==d&&(!(d.expirationTime>a)||t&&!P());){var i=d.callback;if("function"==typeof i){d.callback=null,p=d.priorityLevel;var o=i(d.expirationTime<=a);a=e.unstable_now(),"function"==typeof o?d.callback=o:d===n(l)&&r(l),b(a)}else r(l);d=n(l)}if(null!==d)var c=!0;else{var g=n(u);null!==g&&R(x,g.startTime-a),c=!1}return c}finally{d=null,p=s,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,_=null,T=-1,E=5,C=-1;function P(){return!(e.unstable_now()-C<E)}function N(){if(null!==_){var t=e.unstable_now();C=t;var n=!0;try{n=_(!0,t)}finally{n?k():(S=!1,_=null)}}else S=!1}if("function"==typeof v)k=function(){v(N)};else if("undefined"!=typeof MessageChannel){var j=new MessageChannel,A=j.port2;j.port1.onmessage=N,k=function(){A.postMessage(null)}}else k=function(){g(N,0)};function I(e){_=e,S||(S=!0,k())}function R(t,n){T=g(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){f||h||(f=!0,I(w))},e.unstable_forceFrameRate=function(e){0>e||125<e||(E=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},e.unstable_scheduleCallback=function(r,a,s){var i=e.unstable_now();switch("object"==typeof s&&null!==s?s="number"==typeof(s=s.delay)&&0<s?i+s:i:s=i,r){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return r={id:c++,callback:a,priorityLevel:r,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(r.sortIndex=s,t(u,r),null===n(l)&&r===n(u)&&(m?(y(T),T=-1):m=!0,R(x,s-i))):(r.sortIndex=o,t(l,r),f||h||(f=!0,I(w))),r},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}}(jt),Nt.exports=jt;var At=Nt.exports,It=V,Rt=At;
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Mt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ot=new Set,Lt={};function Dt(e,t){Ft(e,t),Ft(e+"Capture",t)}function Ft(e,t){for(Lt[e]=t,e=0;e<t.length;e++)Ot.add(t[e])}var $t=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Vt=Object.prototype.hasOwnProperty,zt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ut={},Bt={};function Wt(e,t,n,r,a,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ht[e]=new Wt(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ht[t]=new Wt(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ht[e]=new Wt(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ht[e]=new Wt(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ht[e]=new Wt(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){Ht[e]=new Wt(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){Ht[e]=new Wt(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){Ht[e]=new Wt(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){Ht[e]=new Wt(e,5,!1,e.toLowerCase(),null,!1,!1)});var qt=/[\-:]([a-z])/g;function Zt(e){return e[1].toUpperCase()}function Kt(e,t,n,r){var a=Ht.hasOwnProperty(t)?Ht[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!Vt.call(Bt,e)||!Vt.call(Ut,e)&&(zt.test(e)?Bt[e]=!0:(Ut[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qt,Zt);Ht[t]=new Wt(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qt,Zt);Ht[t]=new Wt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qt,Zt);Ht[t]=new Wt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){Ht[e]=new Wt(e,1,!1,e.toLowerCase(),null,!1,!1)}),Ht.xlinkHref=new Wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){Ht[e]=new Wt(e,1,!1,e.toLowerCase(),null,!0,!0)});var Yt=It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jt=Symbol.for("react.element"),Gt=Symbol.for("react.portal"),Xt=Symbol.for("react.fragment"),Qt=Symbol.for("react.strict_mode"),en=Symbol.for("react.profiler"),tn=Symbol.for("react.provider"),nn=Symbol.for("react.context"),rn=Symbol.for("react.forward_ref"),an=Symbol.for("react.suspense"),sn=Symbol.for("react.suspense_list"),on=Symbol.for("react.memo"),ln=Symbol.for("react.lazy"),un=Symbol.for("react.offscreen"),cn=Symbol.iterator;function dn(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=cn&&e[cn]||e["@@iterator"])?e:null}var pn,hn=Object.assign;function fn(e){if(void 0===pn)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);pn=t&&t[1]||""}return"\n"+pn+e}var mn=!1;function gn(e,t){if(!e||mn)return"";mn=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"==typeof u.stack){for(var a=u.stack.split("\n"),s=r.stack.split("\n"),i=a.length-1,o=s.length-1;1<=i&&0<=o&&a[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==s[o]){if(1!==i||1!==o)do{if(i--,0>--o||a[i]!==s[o]){var l="\n"+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{mn=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?fn(e):""}function yn(e){switch(e.tag){case 5:return fn(e.type);case 16:return fn("Lazy");case 13:return fn("Suspense");case 19:return fn("SuspenseList");case 0:case 2:case 15:return e=gn(e.type,!1);case 11:return e=gn(e.type.render,!1);case 1:return e=gn(e.type,!0);default:return""}}function vn(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Xt:return"Fragment";case Gt:return"Portal";case en:return"Profiler";case Qt:return"StrictMode";case an:return"Suspense";case sn:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case nn:return(e.displayName||"Context")+".Consumer";case tn:return(e._context.displayName||"Context")+".Provider";case rn:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case on:return null!==(t=e.displayName||null)?t:vn(e.type)||"Memo";case ln:t=e._payload,e=e._init;try{return vn(e(t))}catch(n){}}return null}function bn(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vn(t);case 8:return t===Qt?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function xn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function wn(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function kn(e){e._valueTracker||(e._valueTracker=function(e){var t=wn(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Sn(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=wn(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function _n(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Tn(e,t){var n=t.checked;return hn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function En(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=xn(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Cn(e,t){null!=(t=t.checked)&&Kt(e,"checked",t,!1)}function Pn(e,t){Cn(e,t);var n=xn(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?jn(e,t.type,n):t.hasOwnProperty("defaultValue")&&jn(e,t.type,xn(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Nn(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function jn(e,t,n){"number"===t&&_n(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var An=Array.isArray;function In(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+xn(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function Rn(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(Mt(91));return hn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Mn(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(Mt(92));if(An(n)){if(1<n.length)throw Error(Mt(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:xn(n)}}function On(e,t){var n=xn(t.value),r=xn(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Ln(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function Dn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fn(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Dn(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var $n,Vn,zn=(Vn=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for(($n=$n||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$n.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return Vn(e,t)})}:Vn);function Un(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Bn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wn=["Webkit","ms","Moz","O"];function Hn(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Bn.hasOwnProperty(e)&&Bn[e]?(""+t).trim():t+"px"}function qn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=Hn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(Bn).forEach(function(e){Wn.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bn[t]=Bn[e]})});var Zn=hn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kn(e,t){if(t){if(Zn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(Mt(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(Mt(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(Mt(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(Mt(62))}}function Yn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jn=null;function Gn(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Xn=null,Qn=null,er=null;function tr(e){if(e=Ki(e)){if("function"!=typeof Xn)throw Error(Mt(280));var t=e.stateNode;t&&(t=Ji(t),Xn(e.stateNode,e.type,t))}}function nr(e){Qn?er?er.push(e):er=[e]:Qn=e}function rr(){if(Qn){var e=Qn,t=er;if(er=Qn=null,tr(e),t)for(e=0;e<t.length;e++)tr(t[e])}}function ar(e,t){return e(t)}function sr(){}var ir=!1;function or(e,t,n){if(ir)return e(t,n);ir=!0;try{return ar(e,t,n)}finally{ir=!1,(null!==Qn||null!==er)&&(sr(),rr())}}function lr(e,t){var n=e.stateNode;if(null===n)return null;var r=Ji(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(Mt(231,t,typeof n));return n}var ur=!1;if($t)try{var cr={};Object.defineProperty(cr,"passive",{get:function(){ur=!0}}),window.addEventListener("test",cr,cr),window.removeEventListener("test",cr,cr)}catch(Vn){ur=!1}function dr(e,t,n,r,a,s,i,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var pr=!1,hr=null,fr=!1,mr=null,gr={onError:function(e){pr=!0,hr=e}};function yr(e,t,n,r,a,s,i,o,l){pr=!1,hr=null,dr.apply(gr,arguments)}function vr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function br(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function xr(e){if(vr(e)!==e)throw Error(Mt(188))}function wr(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=vr(e)))throw Error(Mt(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(r=a.return)){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return xr(a),e;if(s===r)return xr(a),t;s=s.sibling}throw Error(Mt(188))}if(n.return!==r.return)n=a,r=s;else{for(var i=!1,o=a.child;o;){if(o===n){i=!0,n=a,r=s;break}if(o===r){i=!0,r=a,n=s;break}o=o.sibling}if(!i){for(o=s.child;o;){if(o===n){i=!0,n=s,r=a;break}if(o===r){i=!0,r=s,n=a;break}o=o.sibling}if(!i)throw Error(Mt(189))}}if(n.alternate!==r)throw Error(Mt(190))}if(3!==n.tag)throw Error(Mt(188));return n.stateNode.current===n?e:t}(e))?kr(e):null}function kr(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=kr(e);if(null!==t)return t;e=e.sibling}return null}var Sr=Rt.unstable_scheduleCallback,_r=Rt.unstable_cancelCallback,Tr=Rt.unstable_shouldYield,Er=Rt.unstable_requestPaint,Cr=Rt.unstable_now,Pr=Rt.unstable_getCurrentPriorityLevel,Nr=Rt.unstable_ImmediatePriority,jr=Rt.unstable_UserBlockingPriority,Ar=Rt.unstable_NormalPriority,Ir=Rt.unstable_LowPriority,Rr=Rt.unstable_IdlePriority,Mr=null,Or=null;var Lr=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(Dr(e)/Fr|0)|0},Dr=Math.log,Fr=Math.LN2;var $r=64,Vr=4194304;function zr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ur(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,i=268435455&n;if(0!==i){var o=i&~a;0!==o?r=zr(o):0!==(s&=i)&&(r=zr(s))}else 0!==(i=n&~a)?r=zr(i):0!==s&&(r=zr(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||16===a&&4194240&s))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-Lr(t)),r|=e[n],t&=~a;return r}function Br(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Wr(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Hr(){var e=$r;return!(4194240&($r<<=1))&&($r=64),e}function qr(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zr(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-Lr(t)]=n}function Kr(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Lr(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var Yr=0;function Jr(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var Gr,Xr,Qr,ea,ta,na=!1,ra=[],aa=null,sa=null,ia=null,oa=new Map,la=new Map,ua=[],ca="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function da(e,t){switch(e){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":oa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":la.delete(t.pointerId)}}function pa(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=Ki(t))&&Xr(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function ha(e){var t=Zi(e.target);if(null!==t){var n=vr(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=br(n)))return e.blockedOn=t,void ta(e.priority,function(){Qr(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function fa(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ta(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ki(n))&&Xr(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Jn=r,n.target.dispatchEvent(r),Jn=null,t.shift()}return!0}function ma(e,t,n){fa(e)&&n.delete(t)}function ga(){na=!1,null!==aa&&fa(aa)&&(aa=null),null!==sa&&fa(sa)&&(sa=null),null!==ia&&fa(ia)&&(ia=null),oa.forEach(ma),la.forEach(ma)}function ya(e,t){e.blockedOn===t&&(e.blockedOn=null,na||(na=!0,Rt.unstable_scheduleCallback(Rt.unstable_NormalPriority,ga)))}function va(e){function t(t){return ya(t,e)}if(0<ra.length){ya(ra[0],e);for(var n=1;n<ra.length;n++){var r=ra[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==aa&&ya(aa,e),null!==sa&&ya(sa,e),null!==ia&&ya(ia,e),oa.forEach(t),la.forEach(t),n=0;n<ua.length;n++)(r=ua[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ua.length&&null===(n=ua[0]).blockedOn;)ha(n),null===n.blockedOn&&ua.shift()}var ba=Yt.ReactCurrentBatchConfig,xa=!0;function wa(e,t,n,r){var a=Yr,s=ba.transition;ba.transition=null;try{Yr=1,Sa(e,t,n,r)}finally{Yr=a,ba.transition=s}}function ka(e,t,n,r){var a=Yr,s=ba.transition;ba.transition=null;try{Yr=4,Sa(e,t,n,r)}finally{Yr=a,ba.transition=s}}function Sa(e,t,n,r){if(xa){var a=Ta(e,t,n,r);if(null===a)bi(e,t,r,_a,n),da(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return aa=pa(aa,e,t,n,r,a),!0;case"dragenter":return sa=pa(sa,e,t,n,r,a),!0;case"mouseover":return ia=pa(ia,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return oa.set(s,pa(oa.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,la.set(s,pa(la.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(da(e,r),4&t&&-1<ca.indexOf(e)){for(;null!==a;){var s=Ki(a);if(null!==s&&Gr(s),null===(s=Ta(e,t,n,r))&&bi(e,t,r,_a,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else bi(e,t,r,null,n)}}var _a=null;function Ta(e,t,n,r){if(_a=null,null!==(e=Zi(e=Gn(r))))if(null===(t=vr(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=br(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _a=e,null}function Ea(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pr()){case Nr:return 1;case jr:return 4;case Ar:case Ir:return 16;case Rr:return 536870912;default:return 16}default:return 16}}var Ca=null,Pa=null,Na=null;function ja(){if(Na)return Na;var e,t,n=Pa,r=n.length,a="value"in Ca?Ca.value:Ca.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[s-t];t++);return Na=a.slice(e,1<t?1-t:void 0)}function Aa(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Ia(){return!0}function Ra(){return!1}function Ma(e){function t(t,n,r,a,s){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Ia:Ra,this.isPropagationStopped=Ra,this}return hn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Ia)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Ia)},persist:function(){},isPersistent:Ia}),t}var Oa,La,Da,Fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$a=Ma(Fa),Va=hn({},Fa,{view:0,detail:0}),za=Ma(Va),Ua=hn({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:es,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Da&&(Da&&"mousemove"===e.type?(Oa=e.screenX-Da.screenX,La=e.screenY-Da.screenY):La=Oa=0,Da=e),Oa)},movementY:function(e){return"movementY"in e?e.movementY:La}}),Ba=Ma(Ua),Wa=Ma(hn({},Ua,{dataTransfer:0})),Ha=Ma(hn({},Va,{relatedTarget:0})),qa=Ma(hn({},Fa,{animationName:0,elapsedTime:0,pseudoElement:0})),Za=hn({},Fa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ka=Ma(Za),Ya=Ma(hn({},Fa,{data:0})),Ja={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ga={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qa(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Xa[e])&&!!t[e]}function es(){return Qa}var ts=hn({},Va,{key:function(e){if(e.key){var t=Ja[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Aa(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Ga[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:es,charCode:function(e){return"keypress"===e.type?Aa(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Aa(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ns=Ma(ts),rs=Ma(hn({},Ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),as=Ma(hn({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:es})),ss=Ma(hn({},Fa,{propertyName:0,elapsedTime:0,pseudoElement:0})),is=hn({},Ua,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),os=Ma(is),ls=[9,13,27,32],us=$t&&"CompositionEvent"in window,cs=null;$t&&"documentMode"in document&&(cs=document.documentMode);var ds=$t&&"TextEvent"in window&&!cs,ps=$t&&(!us||cs&&8<cs&&11>=cs),hs=String.fromCharCode(32),fs=!1;function ms(e,t){switch(e){case"keyup":return-1!==ls.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gs(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var ys=!1;var vs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!vs[e.type]:"textarea"===t}function xs(e,t,n,r){nr(r),0<(t=wi(t,"onChange")).length&&(n=new $a("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ws=null,ks=null;function Ss(e){hi(e,0)}function _s(e){if(Sn(Yi(e)))return e}function Ts(e,t){if("change"===e)return t}var Es=!1;if($t){var Cs;if($t){var Ps="oninput"in document;if(!Ps){var Ns=document.createElement("div");Ns.setAttribute("oninput","return;"),Ps="function"==typeof Ns.oninput}Cs=Ps}else Cs=!1;Es=Cs&&(!document.documentMode||9<document.documentMode)}function js(){ws&&(ws.detachEvent("onpropertychange",As),ks=ws=null)}function As(e){if("value"===e.propertyName&&_s(ks)){var t=[];xs(t,ks,e,Gn(e)),or(Ss,t)}}function Is(e,t,n){"focusin"===e?(js(),ks=n,(ws=t).attachEvent("onpropertychange",As)):"focusout"===e&&js()}function Rs(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return _s(ks)}function Ms(e,t){if("click"===e)return _s(t)}function Os(e,t){if("input"===e||"change"===e)return _s(t)}var Ls="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Ds(e,t){if(Ls(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!Vt.call(t,a)||!Ls(e[a],t[a]))return!1}return!0}function Fs(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $s(e,t){var n,r=Fs(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Fs(r)}}function Vs(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Vs(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function zs(){for(var e=window,t=_n();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=_n((e=t.contentWindow).document)}return t}function Us(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Bs(e){var t=zs(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Vs(n.ownerDocument.documentElement,n)){if(null!==r&&Us(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=$s(n,s);var i=$s(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ws=$t&&"documentMode"in document&&11>=document.documentMode,Hs=null,qs=null,Zs=null,Ks=!1;function Ys(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Ks||null==Hs||Hs!==_n(r)||("selectionStart"in(r=Hs)&&Us(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Zs&&Ds(Zs,r)||(Zs=r,0<(r=wi(qs,"onSelect")).length&&(t=new $a("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Hs)))}function Js(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Gs={animationend:Js("Animation","AnimationEnd"),animationiteration:Js("Animation","AnimationIteration"),animationstart:Js("Animation","AnimationStart"),transitionend:Js("Transition","TransitionEnd")},Xs={},Qs={};function ei(e){if(Xs[e])return Xs[e];if(!Gs[e])return e;var t,n=Gs[e];for(t in n)if(n.hasOwnProperty(t)&&t in Qs)return Xs[e]=n[t];return e}$t&&(Qs=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);var ti=ei("animationend"),ni=ei("animationiteration"),ri=ei("animationstart"),ai=ei("transitionend"),si=new Map,ii="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oi(e,t){si.set(e,t),Dt(t,[e])}for(var li=0;li<ii.length;li++){var ui=ii[li];oi(ui.toLowerCase(),"on"+(ui[0].toUpperCase()+ui.slice(1)))}oi(ti,"onAnimationEnd"),oi(ni,"onAnimationIteration"),oi(ri,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(ai,"onTransitionEnd"),Ft("onMouseEnter",["mouseout","mouseover"]),Ft("onMouseLeave",["mouseout","mouseover"]),Ft("onPointerEnter",["pointerout","pointerover"]),Ft("onPointerLeave",["pointerout","pointerover"]),Dt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ci="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),di=new Set("cancel close invalid load scroll toggle".split(" ").concat(ci));function pi(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,s,i,o,l){if(yr.apply(this,arguments),pr){if(!pr)throw Error(Mt(198));var u=hr;pr=!1,hr=null,fr||(fr=!0,mr=u)}}(r,t,void 0,e),e.currentTarget=null}function hi(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;pi(a,o,u),s=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,u=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;pi(a,o,u),s=l}}}if(fr)throw e=mr,fr=!1,mr=null,e}function fi(e,t){var n=t[Wi];void 0===n&&(n=t[Wi]=new Set);var r=e+"__bubble";n.has(r)||(vi(t,e,2,!1),n.add(r))}function mi(e,t,n){var r=0;t&&(r|=4),vi(n,e,r,t)}var gi="_reactListening"+Math.random().toString(36).slice(2);function yi(e){if(!e[gi]){e[gi]=!0,Ot.forEach(function(t){"selectionchange"!==t&&(di.has(t)||mi(t,!1,e),mi(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[gi]||(t[gi]=!0,mi("selectionchange",!1,t))}}function vi(e,t,n,r){switch(Ea(t)){case 1:var a=wa;break;case 4:a=ka;break;default:a=Sa}n=a.bind(null,t,n,e),a=void 0,!ur||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function bi(e,t,n,r,a){var s=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;i=i.return}for(;null!==o;){if(null===(i=Zi(o)))return;if(5===(l=i.tag)||6===l){r=s=i;continue e}o=o.parentNode}}r=r.return}or(function(){var r=s,a=Gn(n),i=[];e:{var o=si.get(e);if(void 0!==o){var l=$a,u=e;switch(e){case"keypress":if(0===Aa(n))break e;case"keydown":case"keyup":l=ns;break;case"focusin":u="focus",l=Ha;break;case"focusout":u="blur",l=Ha;break;case"beforeblur":case"afterblur":l=Ha;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=Ba;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=Wa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=as;break;case ti:case ni:case ri:l=qa;break;case ai:l=ss;break;case"scroll":l=za;break;case"wheel":l=os;break;case"copy":case"cut":case"paste":l=Ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=rs}var c=!!(4&t),d=!c&&"scroll"===e,p=c?null!==o?o+"Capture":null:o;c=[];for(var h,f=r;null!==f;){var m=(h=f).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==p&&(null!=(m=lr(f,p))&&c.push(xi(f,m,h)))),d)break;f=f.return}0<c.length&&(o=new l(o,u,null,n,a),i.push({event:o,listeners:c}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Jn||!(u=n.relatedTarget||n.fromElement)||!Zi(u)&&!u[Bi])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?Zi(u):null)&&(u!==(d=vr(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=Ba,m="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(c=rs,m="onPointerLeave",p="onPointerEnter",f="pointer"),d=null==l?o:Yi(l),h=null==u?o:Yi(u),(o=new c(m,f+"leave",l,n,a)).target=d,o.relatedTarget=h,m=null,Zi(a)===r&&((c=new c(p,f+"enter",u,n,a)).target=h,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(p=u,f=0,h=c=l;h;h=ki(h))f++;for(h=0,m=p;m;m=ki(m))h++;for(;0<f-h;)c=ki(c),f--;for(;0<h-f;)p=ki(p),h--;for(;f--;){if(c===p||null!==p&&c===p.alternate)break e;c=ki(c),p=ki(p)}c=null}else c=null;null!==l&&Si(i,o,l,c,!1),null!==u&&null!==d&&Si(i,d,u,c,!0)}if("select"===(l=(o=r?Yi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Ts;else if(bs(o))if(Es)g=Os;else{g=Rs;var y=Is}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=Ms);switch(g&&(g=g(e,r))?xs(i,g,n,a):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&jn(o,"number",o.value)),y=r?Yi(r):window,e){case"focusin":(bs(y)||"true"===y.contentEditable)&&(Hs=y,qs=r,Zs=null);break;case"focusout":Zs=qs=Hs=null;break;case"mousedown":Ks=!0;break;case"contextmenu":case"mouseup":case"dragend":Ks=!1,Ys(i,n,a);break;case"selectionchange":if(Ws)break;case"keydown":case"keyup":Ys(i,n,a)}var v;if(us)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else ys?ms(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(ps&&"ko"!==n.locale&&(ys||"onCompositionStart"!==b?"onCompositionEnd"===b&&ys&&(v=ja()):(Pa="value"in(Ca=a)?Ca.value:Ca.textContent,ys=!0)),0<(y=wi(r,b)).length&&(b=new Ya(b,e,null,n,a),i.push({event:b,listeners:y}),v?b.data=v:null!==(v=gs(n))&&(b.data=v))),(v=ds?function(e,t){switch(e){case"compositionend":return gs(t);case"keypress":return 32!==t.which?null:(fs=!0,hs);case"textInput":return(e=t.data)===hs&&fs?null:e;default:return null}}(e,n):function(e,t){if(ys)return"compositionend"===e||!us&&ms(e,t)?(e=ja(),Na=Pa=Ca=null,ys=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ps&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=wi(r,"onBeforeInput")).length&&(a=new Ya("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=v))}hi(i,t)})}function xi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function wi(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=lr(e,n))&&r.unshift(xi(e,s,a)),null!=(s=lr(e,t))&&r.push(xi(e,s,a))),e=e.return}return r}function ki(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Si(e,t,n,r,a){for(var s=t._reactName,i=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==u&&(o=u,a?null!=(l=lr(n,s))&&i.unshift(xi(n,l,o)):a||null!=(l=lr(n,s))&&i.push(xi(n,l,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var _i=/\r\n?/g,Ti=/\u0000|\uFFFD/g;function Ei(e){return("string"==typeof e?e:""+e).replace(_i,"\n").replace(Ti,"")}function Ci(e,t,n){if(t=Ei(t),Ei(e)!==t&&n)throw Error(Mt(425))}function Pi(){}var Ni=null,ji=null;function Ai(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ii="function"==typeof setTimeout?setTimeout:void 0,Ri="function"==typeof clearTimeout?clearTimeout:void 0,Mi="function"==typeof Promise?Promise:void 0,Oi="function"==typeof queueMicrotask?queueMicrotask:void 0!==Mi?function(e){return Mi.resolve(null).then(e).catch(Li)}:Ii;function Li(e){setTimeout(function(){throw e})}function Di(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void va(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);va(t)}function Fi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function $i(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Vi=Math.random().toString(36).slice(2),zi="__reactFiber$"+Vi,Ui="__reactProps$"+Vi,Bi="__reactContainer$"+Vi,Wi="__reactEvents$"+Vi,Hi="__reactListeners$"+Vi,qi="__reactHandles$"+Vi;function Zi(e){var t=e[zi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Bi]||n[zi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$i(e);null!==e;){if(n=e[zi])return n;e=$i(e)}return t}n=(e=n).parentNode}return null}function Ki(e){return!(e=e[zi]||e[Bi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(Mt(33))}function Ji(e){return e[Ui]||null}var Gi=[],Xi=-1;function Qi(e){return{current:e}}function eo(e){0>Xi||(e.current=Gi[Xi],Gi[Xi]=null,Xi--)}function to(e,t){Xi++,Gi[Xi]=e.current,e.current=t}var no={},ro=Qi(no),ao=Qi(!1),so=no;function io(e,t){var n=e.type.contextTypes;if(!n)return no;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function oo(e){return null!=(e=e.childContextTypes)}function lo(){eo(ao),eo(ro)}function uo(e,t,n){if(ro.current!==no)throw Error(Mt(168));to(ro,t),to(ao,n)}function co(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(Mt(108,bn(e)||"Unknown",a));return hn({},n,r)}function po(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||no,so=ro.current,to(ro,e),to(ao,ao.current),!0}function ho(e,t,n){var r=e.stateNode;if(!r)throw Error(Mt(169));n?(e=co(e,t,so),r.__reactInternalMemoizedMergedChildContext=e,eo(ao),eo(ro),to(ro,e)):eo(ao),to(ao,n)}var fo=null,mo=!1,go=!1;function yo(e){null===fo?fo=[e]:fo.push(e)}function vo(){if(!go&&null!==fo){go=!0;var e=0,t=Yr;try{var n=fo;for(Yr=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}fo=null,mo=!1}catch(GI){throw null!==fo&&(fo=fo.slice(e+1)),Sr(Nr,vo),GI}finally{Yr=t,go=!1}}return null}var bo=[],xo=0,wo=null,ko=0,So=[],_o=0,To=null,Eo=1,Co="";function Po(e,t){bo[xo++]=ko,bo[xo++]=wo,wo=e,ko=t}function No(e,t,n){So[_o++]=Eo,So[_o++]=Co,So[_o++]=To,To=e;var r=Eo;e=Co;var a=32-Lr(r)-1;r&=~(1<<a),n+=1;var s=32-Lr(t)+a;if(30<s){var i=a-a%5;s=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Eo=1<<32-Lr(t)+a|n<<a|r,Co=s+e}else Eo=1<<s|n<<a|r,Co=e}function jo(e){null!==e.return&&(Po(e,1),No(e,1,0))}function Ao(e){for(;e===wo;)wo=bo[--xo],bo[xo]=null,ko=bo[--xo],bo[xo]=null;for(;e===To;)To=So[--_o],So[_o]=null,Co=So[--_o],So[_o]=null,Eo=So[--_o],So[_o]=null}var Io=null,Ro=null,Mo=!1,Oo=null;function Lo(e,t){var n=sp(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Do(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Io=e,Ro=Fi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Io=e,Ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==To?{id:Eo,overflow:Co}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=sp(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Io=e,Ro=null,!0);default:return!1}}function Fo(e){return!(!(1&e.mode)||128&e.flags)}function $o(e){if(Mo){var t=Ro;if(t){var n=t;if(!Do(e,t)){if(Fo(e))throw Error(Mt(418));t=Fi(n.nextSibling);var r=Io;t&&Do(e,t)?Lo(r,n):(e.flags=-4097&e.flags|2,Mo=!1,Io=e)}}else{if(Fo(e))throw Error(Mt(418));e.flags=-4097&e.flags|2,Mo=!1,Io=e}}}function Vo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Io=e}function zo(e){if(e!==Io)return!1;if(!Mo)return Vo(e),Mo=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Ai(e.type,e.memoizedProps)),t&&(t=Ro)){if(Fo(e))throw Uo(),Error(Mt(418));for(;t;)Lo(e,t),t=Fi(t.nextSibling)}if(Vo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(Mt(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ro=Fi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ro=null}}else Ro=Io?Fi(e.stateNode.nextSibling):null;return!0}function Uo(){for(var e=Ro;e;)e=Fi(e.nextSibling)}function Bo(){Ro=Io=null,Mo=!1}function Wo(e){null===Oo?Oo=[e]:Oo.push(e)}var Ho=Yt.ReactCurrentBatchConfig;function qo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(Mt(309));var r=n.stateNode}if(!r)throw Error(Mt(147,e));var a=r,s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:((t=function(e){var t=a.refs;null===e?delete t[s]:t[s]=e})._stringRef=s,t)}if("string"!=typeof e)throw Error(Mt(284));if(!n._owner)throw Error(Mt(290,e))}return e}function Zo(e,t){throw e=Object.prototype.toString.call(t),Error(Mt(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ko(e){return(0,e._init)(e._payload)}function Yo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=op(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,r){return null===t||6!==t.tag?((t=dp(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function l(e,t,n,r){var s=n.type;return s===Xt?c(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===ln&&Ko(s)===t.type)?((r=a(t,n.props)).ref=qo(e,t,n),r.return=e,r):((r=lp(n.type,n.key,n.props,null,e.mode,r)).ref=qo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=pp(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function c(e,t,n,r,s){return null===t||7!==t.tag?((t=up(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=dp(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Jt:return(n=lp(t.type,t.key,t.props,null,e.mode,n)).ref=qo(e,null,t),n.return=e,n;case Gt:return(t=pp(t,e.mode,n)).return=e,t;case ln:return d(e,(0,t._init)(t._payload),n)}if(An(t)||dn(t))return(t=up(t,e.mode,n,null)).return=e,t;Zo(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==a?null:o(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Jt:return n.key===a?l(e,t,n,r):null;case Gt:return n.key===a?u(e,t,n,r):null;case ln:return p(e,t,(a=n._init)(n._payload),r)}if(An(n)||dn(n))return null!==a?null:c(e,t,n,r,null);Zo(e,n)}return null}function h(e,t,n,r,a){if("string"==typeof r&&""!==r||"number"==typeof r)return o(t,e=e.get(n)||null,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Jt:return l(t,e=e.get(null===r.key?n:r.key)||null,r,a);case Gt:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case ln:return h(e,t,n,(0,r._init)(r._payload),a)}if(An(r)||dn(r))return c(t,e=e.get(n)||null,r,a,null);Zo(t,r)}return null}return function o(l,u,c,f){if("object"==typeof c&&null!==c&&c.type===Xt&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case Jt:e:{for(var m=c.key,g=u;null!==g;){if(g.key===m){if((m=c.type)===Xt){if(7===g.tag){n(l,g.sibling),(u=a(g,c.props.children)).return=l,l=u;break e}}else if(g.elementType===m||"object"==typeof m&&null!==m&&m.$$typeof===ln&&Ko(m)===g.type){n(l,g.sibling),(u=a(g,c.props)).ref=qo(l,g,c),u.return=l,l=u;break e}n(l,g);break}t(l,g),g=g.sibling}c.type===Xt?((u=up(c.props.children,l.mode,f,c.key)).return=l,l=u):((f=lp(c.type,c.key,c.props,null,l.mode,f)).ref=qo(l,u,c),f.return=l,l=f)}return i(l);case Gt:e:{for(g=c.key;null!==u;){if(u.key===g){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(u=a(u,c.children||[])).return=l,l=u;break e}n(l,u);break}t(l,u),u=u.sibling}(u=pp(c,l.mode,f)).return=l,l=u}return i(l);case ln:return o(l,u,(g=c._init)(c._payload),f)}if(An(c))return function(a,i,o,l){for(var u=null,c=null,f=i,m=i=0,g=null;null!==f&&m<o.length;m++){f.index>m?(g=f,f=null):g=f.sibling;var y=p(a,f,o[m],l);if(null===y){null===f&&(f=g);break}e&&f&&null===y.alternate&&t(a,f),i=s(y,i,m),null===c?u=y:c.sibling=y,c=y,f=g}if(m===o.length)return n(a,f),Mo&&Po(a,m),u;if(null===f){for(;m<o.length;m++)null!==(f=d(a,o[m],l))&&(i=s(f,i,m),null===c?u=f:c.sibling=f,c=f);return Mo&&Po(a,m),u}for(f=r(a,f);m<o.length;m++)null!==(g=h(f,a,m,o[m],l))&&(e&&null!==g.alternate&&f.delete(null===g.key?m:g.key),i=s(g,i,m),null===c?u=g:c.sibling=g,c=g);return e&&f.forEach(function(e){return t(a,e)}),Mo&&Po(a,m),u}(l,u,c,f);if(dn(c))return function(a,i,o,l){var u=dn(o);if("function"!=typeof u)throw Error(Mt(150));if(null==(o=u.call(o)))throw Error(Mt(151));for(var c=u=null,f=i,m=i=0,g=null,y=o.next();null!==f&&!y.done;m++,y=o.next()){f.index>m?(g=f,f=null):g=f.sibling;var v=p(a,f,y.value,l);if(null===v){null===f&&(f=g);break}e&&f&&null===v.alternate&&t(a,f),i=s(v,i,m),null===c?u=v:c.sibling=v,c=v,f=g}if(y.done)return n(a,f),Mo&&Po(a,m),u;if(null===f){for(;!y.done;m++,y=o.next())null!==(y=d(a,y.value,l))&&(i=s(y,i,m),null===c?u=y:c.sibling=y,c=y);return Mo&&Po(a,m),u}for(f=r(a,f);!y.done;m++,y=o.next())null!==(y=h(f,a,m,y.value,l))&&(e&&null!==y.alternate&&f.delete(null===y.key?m:y.key),i=s(y,i,m),null===c?u=y:c.sibling=y,c=y);return e&&f.forEach(function(e){return t(a,e)}),Mo&&Po(a,m),u}(l,u,c,f);Zo(l,c)}return"string"==typeof c&&""!==c||"number"==typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(u=a(u,c)).return=l,l=u):(n(l,u),(u=dp(c,l.mode,f)).return=l,l=u),i(l)):n(l,u)}}var Jo=Yo(!0),Go=Yo(!1),Xo=Qi(null),Qo=null,el=null,tl=null;function nl(){tl=el=Qo=null}function rl(e){var t=Xo.current;eo(Xo),e._currentValue=t}function al(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function sl(e,t){Qo=e,tl=el=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Zu=!0),e.firstContext=null)}function il(e){var t=e._currentValue;if(tl!==e)if(e={context:e,memoizedValue:t,next:null},null===el){if(null===Qo)throw Error(Mt(308));el=e,Qo.dependencies={lanes:0,firstContext:e}}else el=el.next=e;return t}var ol=null;function ll(e){null===ol?ol=[e]:ol.push(e)}function ul(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,ll(t)):(n.next=a.next,a.next=n),t.interleaved=n,cl(e,r)}function cl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var dl=!1;function pl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hl(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ml(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&nd){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,cl(e,n)}return null===(a=r.interleaved)?(t.next=t,ll(r)):(t.next=a.next,a.next=t),r.interleaved=t,cl(e,n)}function gl(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Kr(e,n)}}function yl(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function vl(e,t,n,r){var a=e.updateQueue;dl=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,u=l.next;l.next=null,null===i?s=u:i.next=u,i=l;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==i&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(null!==s){var d=a.baseState;for(i=0,c=u=l=null,o=s;;){var p=o.lane,h=o.eventTime;if((r&p)===p){null!==c&&(c=c.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,m=o;switch(p=t,h=n,m.tag){case 1:if("function"==typeof(f=m.payload)){d=f.call(h,d,p);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(p="function"==typeof(f=m.payload)?f.call(h,d,p):f))break e;d=hn({},d,p);break e;case 2:dl=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(p=a.effects)?a.effects=[o]:p.push(o))}else h={eventTime:h,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=h,l=d):c=c.next=h,i|=p;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(p=o).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}if(null===c&&(l=d),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=c,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);cd|=i,e.lanes=i,e.memoizedState=d}}function bl(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!=typeof a)throw Error(Mt(191,a));a.call(r)}}}var xl={},wl=Qi(xl),kl=Qi(xl),Sl=Qi(xl);function _l(e){if(e===xl)throw Error(Mt(174));return e}function Tl(e,t){switch(to(Sl,t),to(kl,e),to(wl,xl),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fn(null,"");break;default:t=Fn(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}eo(wl),to(wl,t)}function El(){eo(wl),eo(kl),eo(Sl)}function Cl(e){_l(Sl.current);var t=_l(wl.current),n=Fn(t,e.type);t!==n&&(to(kl,e),to(wl,n))}function Pl(e){kl.current===e&&(eo(wl),eo(kl))}var Nl=Qi(0);function jl(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Al=[];function Il(){for(var e=0;e<Al.length;e++)Al[e]._workInProgressVersionPrimary=null;Al.length=0}var Rl=Yt.ReactCurrentDispatcher,Ml=Yt.ReactCurrentBatchConfig,Ol=0,Ll=null,Dl=null,Fl=null,$l=!1,Vl=!1,zl=0,Ul=0;function Bl(){throw Error(Mt(321))}function Wl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ls(e[n],t[n]))return!1;return!0}function Hl(e,t,n,r,a,s){if(Ol=s,Ll=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rl.current=null===e||null===e.memoizedState?Pu:Nu,e=n(r,a),Vl){s=0;do{if(Vl=!1,zl=0,25<=s)throw Error(Mt(301));s+=1,Fl=Dl=null,t.updateQueue=null,Rl.current=ju,e=n(r,a)}while(Vl)}if(Rl.current=Cu,t=null!==Dl&&null!==Dl.next,Ol=0,Fl=Dl=Ll=null,$l=!1,t)throw Error(Mt(300));return e}function ql(){var e=0!==zl;return zl=0,e}function Zl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Fl?Ll.memoizedState=Fl=e:Fl=Fl.next=e,Fl}function Kl(){if(null===Dl){var e=Ll.alternate;e=null!==e?e.memoizedState:null}else e=Dl.next;var t=null===Fl?Ll.memoizedState:Fl.next;if(null!==t)Fl=t,Dl=e;else{if(null===e)throw Error(Mt(310));e={memoizedState:(Dl=e).memoizedState,baseState:Dl.baseState,baseQueue:Dl.baseQueue,queue:Dl.queue,next:null},null===Fl?Ll.memoizedState=Fl=e:Fl=Fl.next=e}return Fl}function Yl(e,t){return"function"==typeof t?t(e):t}function Jl(e){var t=Kl(),n=t.queue;if(null===n)throw Error(Mt(311));n.lastRenderedReducer=e;var r=Dl,a=r.baseQueue,s=n.pending;if(null!==s){if(null!==a){var i=a.next;a.next=s.next,s.next=i}r.baseQueue=a=s,n.pending=null}if(null!==a){s=a.next,r=r.baseState;var o=i=null,l=null,u=s;do{var c=u.lane;if((Ol&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(o=l=d,i=r):l=l.next=d,Ll.lanes|=c,cd|=c}u=u.next}while(null!==u&&u!==s);null===l?i=r:l.next=o,Ls(r,t.memoizedState)||(Zu=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{s=a.lane,Ll.lanes|=s,cd|=s,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Gl(e){var t=Kl(),n=t.queue;if(null===n)throw Error(Mt(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var i=a=a.next;do{s=e(s,i.action),i=i.next}while(i!==a);Ls(s,t.memoizedState)||(Zu=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Xl(){}function Ql(e,t){var n=Ll,r=Kl(),a=t(),s=!Ls(r.memoizedState,a);if(s&&(r.memoizedState=a,Zu=!0),r=r.queue,du(nu.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==Fl&&1&Fl.memoizedState.tag){if(n.flags|=2048,iu(9,tu.bind(null,n,r,a,t),void 0,null),null===rd)throw Error(Mt(349));30&Ol||eu(n,t,a)}return a}function eu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ll.updateQueue)?(t={lastEffect:null,stores:null},Ll.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function tu(e,t,n,r){t.value=n,t.getSnapshot=r,ru(t)&&au(e)}function nu(e,t,n){return n(function(){ru(t)&&au(e)})}function ru(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ls(e,n)}catch(r){return!0}}function au(e){var t=cl(e,1);null!==t&&jd(t,e,1,-1)}function su(e){var t=Zl();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yl,lastRenderedState:e},t.queue=e,e=e.dispatch=Su.bind(null,Ll,e),[t.memoizedState,e]}function iu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ll.updateQueue)?(t={lastEffect:null,stores:null},Ll.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ou(){return Kl().memoizedState}function lu(e,t,n,r){var a=Zl();Ll.flags|=e,a.memoizedState=iu(1|t,n,void 0,void 0===r?null:r)}function uu(e,t,n,r){var a=Kl();r=void 0===r?null:r;var s=void 0;if(null!==Dl){var i=Dl.memoizedState;if(s=i.destroy,null!==r&&Wl(r,i.deps))return void(a.memoizedState=iu(t,n,s,r))}Ll.flags|=e,a.memoizedState=iu(1|t,n,s,r)}function cu(e,t){return lu(8390656,8,e,t)}function du(e,t){return uu(2048,8,e,t)}function pu(e,t){return uu(4,2,e,t)}function hu(e,t){return uu(4,4,e,t)}function fu(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function mu(e,t,n){return n=null!=n?n.concat([e]):null,uu(4,4,fu.bind(null,t,e),n)}function gu(){}function yu(e,t){var n=Kl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Wl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function vu(e,t){var n=Kl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Wl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function bu(e,t,n){return 21&Ol?(Ls(n,t)||(n=Hr(),Ll.lanes|=n,cd|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Zu=!0),e.memoizedState=n)}function xu(e,t){var n=Yr;Yr=0!==n&&4>n?n:4,e(!0);var r=Ml.transition;Ml.transition={};try{e(!1),t()}finally{Yr=n,Ml.transition=r}}function wu(){return Kl().memoizedState}function ku(e,t,n){var r=Nd(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_u(e))Tu(t,n);else if(null!==(n=ul(e,t,n,r))){jd(n,e,r,Pd()),Eu(n,t,r)}}function Su(e,t,n){var r=Nd(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_u(e))Tu(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,n);if(a.hasEagerState=!0,a.eagerState=o,Ls(o,i)){var l=t.interleaved;return null===l?(a.next=a,ll(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(u){}null!==(n=ul(e,t,a,r))&&(jd(n,e,r,a=Pd()),Eu(n,t,r))}}function _u(e){var t=e.alternate;return e===Ll||null!==t&&t===Ll}function Tu(e,t){Vl=$l=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Eu(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Kr(e,n)}}var Cu={readContext:il,useCallback:Bl,useContext:Bl,useEffect:Bl,useImperativeHandle:Bl,useInsertionEffect:Bl,useLayoutEffect:Bl,useMemo:Bl,useReducer:Bl,useRef:Bl,useState:Bl,useDebugValue:Bl,useDeferredValue:Bl,useTransition:Bl,useMutableSource:Bl,useSyncExternalStore:Bl,useId:Bl,unstable_isNewReconciler:!1},Pu={readContext:il,useCallback:function(e,t){return Zl().memoizedState=[e,void 0===t?null:t],e},useContext:il,useEffect:cu,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,lu(4194308,4,fu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return lu(4194308,4,e,t)},useInsertionEffect:function(e,t){return lu(4,2,e,t)},useMemo:function(e,t){var n=Zl();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Zl();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ku.bind(null,Ll,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Zl().memoizedState=e},useState:su,useDebugValue:gu,useDeferredValue:function(e){return Zl().memoizedState=e},useTransition:function(){var e=su(!1),t=e[0];return e=xu.bind(null,e[1]),Zl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ll,a=Zl();if(Mo){if(void 0===n)throw Error(Mt(407));n=n()}else{if(n=t(),null===rd)throw Error(Mt(349));30&Ol||eu(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,cu(nu.bind(null,r,s,e),[e]),r.flags|=2048,iu(9,tu.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Zl(),t=rd.identifierPrefix;if(Mo){var n=Co;t=":"+t+"R"+(n=(Eo&~(1<<32-Lr(Eo)-1)).toString(32)+n),0<(n=zl++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Ul++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Nu={readContext:il,useCallback:yu,useContext:il,useEffect:du,useImperativeHandle:mu,useInsertionEffect:pu,useLayoutEffect:hu,useMemo:vu,useReducer:Jl,useRef:ou,useState:function(){return Jl(Yl)},useDebugValue:gu,useDeferredValue:function(e){return bu(Kl(),Dl.memoizedState,e)},useTransition:function(){return[Jl(Yl)[0],Kl().memoizedState]},useMutableSource:Xl,useSyncExternalStore:Ql,useId:wu,unstable_isNewReconciler:!1},ju={readContext:il,useCallback:yu,useContext:il,useEffect:du,useImperativeHandle:mu,useInsertionEffect:pu,useLayoutEffect:hu,useMemo:vu,useReducer:Gl,useRef:ou,useState:function(){return Gl(Yl)},useDebugValue:gu,useDeferredValue:function(e){var t=Kl();return null===Dl?t.memoizedState=e:bu(t,Dl.memoizedState,e)},useTransition:function(){return[Gl(Yl)[0],Kl().memoizedState]},useMutableSource:Xl,useSyncExternalStore:Ql,useId:wu,unstable_isNewReconciler:!1};function Au(e,t){if(e&&e.defaultProps){for(var n in t=hn({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function Iu(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:hn({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ru={isMounted:function(e){return!!(e=e._reactInternals)&&vr(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Pd(),a=Nd(e),s=fl(r,a);s.payload=t,null!=n&&(s.callback=n),null!==(t=ml(e,s,a))&&(jd(t,e,a,r),gl(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Pd(),a=Nd(e),s=fl(r,a);s.tag=1,s.payload=t,null!=n&&(s.callback=n),null!==(t=ml(e,s,a))&&(jd(t,e,a,r),gl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pd(),r=Nd(e),a=fl(n,r);a.tag=2,null!=t&&(a.callback=t),null!==(t=ml(e,a,r))&&(jd(t,e,r,n),gl(t,e,r))}};function Mu(e,t,n,r,a,s,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!Ds(n,r)||!Ds(a,s))}function Ou(e,t,n){var r=!1,a=no,s=t.contextType;return"object"==typeof s&&null!==s?s=il(s):(a=oo(t)?so:ro.current,s=(r=null!=(r=t.contextTypes))?io(e,a):no),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ru,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function Lu(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ru.enqueueReplaceState(t,t.state,null)}function Du(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},pl(e);var s=t.contextType;"object"==typeof s&&null!==s?a.context=il(s):(s=oo(t)?so:ro.current,a.context=io(e,s)),a.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(Iu(e,t,s,n),a.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(t=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&Ru.enqueueReplaceState(a,a.state,null),vl(e,n,a,r),a.state=e.memoizedState),"function"==typeof a.componentDidMount&&(e.flags|=4194308)}function Fu(e,t){try{var n="",r=t;do{n+=yn(r),r=r.return}while(r);var a=n}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function $u(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}var Vu="function"==typeof WeakMap?WeakMap:Map;function zu(e,t,n){(n=fl(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){vd||(vd=!0,bd=r)},n}function Uu(e,t,n){(n=fl(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===xd?xd=new Set([this]):xd.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Bu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Vu;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Qd.bind(null,e,t,n),t.then(e,e))}function Wu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Hu(e,t,n,r,a){return 1&e.mode?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=fl(-1,1)).tag=2,ml(n,t,1))),n.lanes|=1),e)}var qu=Yt.ReactCurrentOwner,Zu=!1;function Ku(e,t,n,r){t.child=null===e?Go(t,null,n,r):Jo(t,e.child,n,r)}function Yu(e,t,n,r,a){n=n.render;var s=t.ref;return sl(t,a),r=Hl(e,t,n,r,s,a),n=ql(),null===e||Zu?(Mo&&n&&jo(t),t.flags|=1,Ku(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,vc(e,t,a))}function Ju(e,t,n,r,a){if(null===e){var s=n.type;return"function"!=typeof s||ip(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=lp(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Gu(e,t,s,r,a))}if(s=e.child,0===(e.lanes&a)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:Ds)(i,r)&&e.ref===t.ref)return vc(e,t,a)}return t.flags|=1,(e=op(s,r)).ref=t.ref,e.return=t,t.child=e}function Gu(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(Ds(s,r)&&e.ref===t.ref){if(Zu=!1,t.pendingProps=r=s,0===(e.lanes&a))return t.lanes=e.lanes,vc(e,t,a);131072&e.flags&&(Zu=!0)}}return ec(e,t,n,r,a)}function Xu(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,to(od,id),id|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,to(od,id),id|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},to(od,id),id|=n;else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,to(od,id),id|=r;return Ku(e,t,a,n),t.child}function Qu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ec(e,t,n,r,a){var s=oo(n)?so:ro.current;return s=io(t,s),sl(t,a),n=Hl(e,t,n,r,s,a),r=ql(),null===e||Zu?(Mo&&r&&jo(t),t.flags|=1,Ku(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,vc(e,t,a))}function tc(e,t,n,r,a){if(oo(n)){var s=!0;po(t)}else s=!1;if(sl(t,a),null===t.stateNode)yc(e,t),Ou(t,n,r),Du(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,u=n.contextType;"object"==typeof u&&null!==u?u=il(u):u=io(t,u=oo(n)?so:ro.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof i.getSnapshotBeforeUpdate;d||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(o!==r||l!==u)&&Lu(t,i,r,u),dl=!1;var p=t.memoizedState;i.state=p,vl(t,r,i,a),l=t.memoizedState,o!==r||p!==l||ao.current||dl?("function"==typeof c&&(Iu(t,n,c,r),l=t.memoizedState),(o=dl||Mu(t,n,o,r,p,l,u))?(d||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4194308)):("function"==typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=u,r=o):("function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,hl(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Au(t.type,o),i.props=u,d=t.pendingProps,p=i.context,"object"==typeof(l=n.contextType)&&null!==l?l=il(l):l=io(t,l=oo(n)?so:ro.current);var h=n.getDerivedStateFromProps;(c="function"==typeof h||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(o!==d||p!==l)&&Lu(t,i,r,l),dl=!1,p=t.memoizedState,i.state=p,vl(t,r,i,a);var f=t.memoizedState;o!==d||p!==f||ao.current||dl?("function"==typeof h&&(Iu(t,n,h,r),f=t.memoizedState),(u=dl||Mu(t,n,u,r,p,f,l)||!1)?(c||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,l),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof i.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=l,r=u):("function"!=typeof i.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return nc(e,t,n,r,s,a)}function nc(e,t,n,r,a,s){Qu(e,t);var i=!!(128&t.flags);if(!r&&!i)return a&&ho(t,n,!1),vc(e,t,s);r=t.stateNode,qu.current=t;var o=i&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=Jo(t,e.child,null,s),t.child=Jo(t,null,o,s)):Ku(e,t,o,s),t.memoizedState=r.state,a&&ho(t,n,!0),t.child}function rc(e){var t=e.stateNode;t.pendingContext?uo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&uo(0,t.context,!1),Tl(e,t.containerInfo)}function ac(e,t,n,r,a){return Bo(),Wo(a),t.flags|=256,Ku(e,t,n,r),t.child}var sc,ic,oc,lc,uc={dehydrated:null,treeContext:null,retryLane:0};function cc(e){return{baseLanes:e,cachePool:null,transitions:null}}function dc(e,t,n){var r,a=t.pendingProps,s=Nl.current,i=!1,o=!!(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&!!(2&s)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),to(Nl,1&s),null===e)return $o(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=a.children,e=a.fallback,i?(a=t.mode,i=t.child,o={mode:"hidden",children:o},1&a||null===i?i=cp(o,a,0,null):(i.childLanes=0,i.pendingProps=o),e=up(e,a,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=cc(n),t.memoizedState=uc,e):pc(t,o));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,a,s,i){if(n)return 256&t.flags?(t.flags&=-257,hc(e,t,i,r=$u(Error(Mt(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,a=t.mode,r=cp({mode:"visible",children:r.children},a,0,null),(s=up(s,a,i,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,1&t.mode&&Jo(t,e.child,null,i),t.child.memoizedState=cc(i),t.memoizedState=uc,s);if(!(1&t.mode))return hc(e,t,i,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var o=r.dgst;return r=o,hc(e,t,i,r=$u(s=Error(Mt(419)),r,void 0))}if(o=0!==(i&e.childLanes),Zu||o){if(null!==(r=rd)){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|i))?0:a)&&a!==s.retryLane&&(s.retryLane=a,cl(e,a),jd(r,e,a,-1))}return Bd(),hc(e,t,i,r=$u(Error(Mt(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=tp.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,Ro=Fi(a.nextSibling),Io=t,Mo=!0,Oo=null,null!==e&&(So[_o++]=Eo,So[_o++]=Co,So[_o++]=To,Eo=e.id,Co=e.overflow,To=t),t=pc(t,r.children),t.flags|=4096,t)}(e,t,o,a,r,s,n);if(i){i=a.fallback,o=t.mode,r=(s=e.child).sibling;var l={mode:"hidden",children:a.children};return 1&o||t.child===s?(a=op(s,l)).subtreeFlags=14680064&s.subtreeFlags:((a=t.child).childLanes=0,a.pendingProps=l,t.deletions=null),null!==r?i=op(r,i):(i=up(i,o,n,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,o=null===(o=e.child.memoizedState)?cc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=uc,a}return e=(i=e.child).sibling,a=op(i,{mode:"visible",children:a.children}),!(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function pc(e,t){return(t=cp({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function hc(e,t,n,r){return null!==r&&Wo(r),Jo(t,e.child,null,n),(e=pc(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function fc(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),al(e.return,t,n)}function mc(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function gc(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(Ku(e,t,r.children,n),2&(r=Nl.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&fc(e,n,t);else if(19===e.tag)fc(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(to(Nl,r),1&t.mode)switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===jl(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),mc(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===jl(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}mc(t,!0,n,null,s);break;case"together":mc(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function yc(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vc(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),cd|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(Mt(153));if(null!==t.child){for(n=op(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=op(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function bc(e,t){if(!Mo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function xc(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function wc(e,t,n){var r=t.pendingProps;switch(Ao(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xc(t),null;case 1:case 17:return oo(t.type)&&lo(),xc(t),null;case 3:return r=t.stateNode,El(),eo(ao),eo(ro),Il(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(zo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==Oo&&(Md(Oo),Oo=null))),ic(e,t),xc(t),null;case 5:Pl(t);var a=_l(Sl.current);if(n=t.type,null!==e&&null!=t.stateNode)oc(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(Mt(166));return xc(t),null}if(e=_l(wl.current),zo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[zi]=t,r[Ui]=s,e=!!(1&t.mode),n){case"dialog":fi("cancel",r),fi("close",r);break;case"iframe":case"object":case"embed":fi("load",r);break;case"video":case"audio":for(a=0;a<ci.length;a++)fi(ci[a],r);break;case"source":fi("error",r);break;case"img":case"image":case"link":fi("error",r),fi("load",r);break;case"details":fi("toggle",r);break;case"input":En(r,s),fi("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},fi("invalid",r);break;case"textarea":Mn(r,s),fi("invalid",r)}for(var i in Kn(n,s),a=null,s)if(s.hasOwnProperty(i)){var o=s[i];"children"===i?"string"==typeof o?r.textContent!==o&&(!0!==s.suppressHydrationWarning&&Ci(r.textContent,o,e),a=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(!0!==s.suppressHydrationWarning&&Ci(r.textContent,o,e),a=["children",""+o]):Lt.hasOwnProperty(i)&&null!=o&&"onScroll"===i&&fi("scroll",r)}switch(n){case"input":kn(r),Nn(r,s,!0);break;case"textarea":kn(r),Ln(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Pi)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{i=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=Dn(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),"select"===n&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[zi]=t,e[Ui]=r,sc(e,t,!1,!1),t.stateNode=e;e:{switch(i=Yn(n,r),n){case"dialog":fi("cancel",e),fi("close",e),a=r;break;case"iframe":case"object":case"embed":fi("load",e),a=r;break;case"video":case"audio":for(a=0;a<ci.length;a++)fi(ci[a],e);a=r;break;case"source":fi("error",e),a=r;break;case"img":case"image":case"link":fi("error",e),fi("load",e),a=r;break;case"details":fi("toggle",e),a=r;break;case"input":En(e,r),a=Tn(e,r),fi("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=hn({},r,{value:void 0}),fi("invalid",e);break;case"textarea":Mn(e,r),a=Rn(e,r),fi("invalid",e)}for(s in Kn(n,a),o=a)if(o.hasOwnProperty(s)){var l=o[s];"style"===s?qn(e,l):"dangerouslySetInnerHTML"===s?null!=(l=l?l.__html:void 0)&&zn(e,l):"children"===s?"string"==typeof l?("textarea"!==n||""!==l)&&Un(e,l):"number"==typeof l&&Un(e,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(Lt.hasOwnProperty(s)?null!=l&&"onScroll"===s&&fi("scroll",e):null!=l&&Kt(e,s,l,i))}switch(n){case"input":kn(e),Nn(e,r,!1);break;case"textarea":kn(e),Ln(e);break;case"option":null!=r.value&&e.setAttribute("value",""+xn(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?In(e,!!r.multiple,s,!1):null!=r.defaultValue&&In(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof a.onClick&&(e.onclick=Pi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return xc(t),null;case 6:if(e&&null!=t.stateNode)lc(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(Mt(166));if(n=_l(Sl.current),_l(wl.current),zo(t)){if(r=t.stateNode,n=t.memoizedProps,r[zi]=t,(s=r.nodeValue!==n)&&null!==(e=Io))switch(e.tag){case 3:Ci(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Ci(r.nodeValue,n,!!(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[zi]=t,t.stateNode=r}return xc(t),null;case 13:if(eo(Nl),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(Mo&&null!==Ro&&1&t.mode&&!(128&t.flags))Uo(),Bo(),t.flags|=98560,s=!1;else if(s=zo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(Mt(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(Mt(317));s[zi]=t}else Bo(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;xc(t),s=!1}else null!==Oo&&(Md(Oo),Oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&Nl.current?0===ld&&(ld=3):Bd())),null!==t.updateQueue&&(t.flags|=4),xc(t),null);case 4:return El(),ic(e,t),null===e&&yi(t.stateNode.containerInfo),xc(t),null;case 10:return rl(t.type._context),xc(t),null;case 19:if(eo(Nl),null===(s=t.memoizedState))return xc(t),null;if(r=!!(128&t.flags),null===(i=s.rendering))if(r)bc(s,!1);else{if(0!==ld||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(i=jl(e))){for(t.flags|=128,bc(s,!1),null!==(r=i.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(i=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return to(Nl,1&Nl.current|2),t.child}e=e.sibling}null!==s.tail&&Cr()>gd&&(t.flags|=128,r=!0,bc(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=jl(i))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),bc(s,!0),null===s.tail&&"hidden"===s.tailMode&&!i.alternate&&!Mo)return xc(t),null}else 2*Cr()-s.renderingStartTime>gd&&1073741824!==n&&(t.flags|=128,r=!0,bc(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(null!==(n=s.last)?n.sibling=i:t.child=i,s.last=i)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Cr(),t.sibling=null,n=Nl.current,to(Nl,r?1&n|2:1&n),t):(xc(t),null);case 22:case 23:return $d(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&id)&&(xc(t),6&t.subtreeFlags&&(t.flags|=8192)):xc(t),null;case 24:case 25:return null}throw Error(Mt(156,t.tag))}function kc(e,t){switch(Ao(t),t.tag){case 1:return oo(t.type)&&lo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return El(),eo(ao),eo(ro),Il(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Pl(t),null;case 13:if(eo(Nl),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(Mt(340));Bo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return eo(Nl),null;case 4:return El(),null;case 10:return rl(t.type._context),null;case 22:case 23:return $d(),null;default:return null}}sc=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ic=function(){},oc=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,_l(wl.current);var s,i=null;switch(n){case"input":a=Tn(e,a),r=Tn(e,r),i=[];break;case"select":a=hn({},a,{value:void 0}),r=hn({},r,{value:void 0}),i=[];break;case"textarea":a=Rn(e,a),r=Rn(e,r),i=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(e.onclick=Pi)}for(u in Kn(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var o=a[u];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(Lt.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(o=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(null!=l||null!=o))if("style"===u)if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,o=o?o.__html:void 0,null!=l&&o!==l&&(i=i||[]).push(u,l)):"children"===u?"string"!=typeof l&&"number"!=typeof l||(i=i||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(Lt.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&fi("scroll",e),i||o===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},lc=function(e,t,n,r){n!==r&&(t.flags|=4)};var Sc=!1,_c=!1,Tc="function"==typeof WeakSet?WeakSet:Set,Ec=null;function Cc(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(r){Xd(e,t,r)}else n.current=null}function Pc(e,t,n){try{n()}catch(r){Xd(e,t,r)}}var Nc=!1;function jc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&Pc(t,n,s)}a=a.next}while(a!==r)}}function Ac(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ic(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function Rc(e){var t=e.alternate;null!==t&&(e.alternate=null,Rc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[zi],delete t[Ui],delete t[Wi],delete t[Hi],delete t[qi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Mc(e){return 5===e.tag||3===e.tag||4===e.tag}function Oc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Mc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Pi));else if(4!==r&&null!==(e=e.child))for(Lc(e,t,n),e=e.sibling;null!==e;)Lc(e,t,n),e=e.sibling}function Dc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Dc(e,t,n),e=e.sibling;null!==e;)Dc(e,t,n),e=e.sibling}var Fc=null,$c=!1;function Vc(e,t,n){for(n=n.child;null!==n;)zc(e,t,n),n=n.sibling}function zc(e,t,n){if(Or&&"function"==typeof Or.onCommitFiberUnmount)try{Or.onCommitFiberUnmount(Mr,n)}catch(o){}switch(n.tag){case 5:_c||Cc(n,t);case 6:var r=Fc,a=$c;Fc=null,Vc(e,t,n),$c=a,null!==(Fc=r)&&($c?(e=Fc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):Fc.removeChild(n.stateNode));break;case 18:null!==Fc&&($c?(e=Fc,n=n.stateNode,8===e.nodeType?Di(e.parentNode,n):1===e.nodeType&&Di(e,n),va(e)):Di(Fc,n.stateNode));break;case 4:r=Fc,a=$c,Fc=n.stateNode.containerInfo,$c=!0,Vc(e,t,n),Fc=r,$c=a;break;case 0:case 11:case 14:case 15:if(!_c&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var s=a,i=s.destroy;s=s.tag,void 0!==i&&(2&s||4&s)&&Pc(n,t,i),a=a.next}while(a!==r)}Vc(e,t,n);break;case 1:if(!_c&&(Cc(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Xd(n,t,o)}Vc(e,t,n);break;case 21:Vc(e,t,n);break;case 22:1&n.mode?(_c=(r=_c)||null!==n.memoizedState,Vc(e,t,n),_c=r):Vc(e,t,n);break;default:Vc(e,t,n)}}function Uc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Tc),t.forEach(function(t){var r=np.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function Bc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var s=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 5:Fc=o.stateNode,$c=!1;break e;case 3:case 4:Fc=o.stateNode.containerInfo,$c=!0;break e}o=o.return}if(null===Fc)throw Error(Mt(160));zc(s,i,a),Fc=null,$c=!1;var l=a.alternate;null!==l&&(l.return=null),a.return=null}catch(u){Xd(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Wc(t,e),t=t.sibling}function Wc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bc(t,e),Hc(e),4&r){try{jc(3,e,e.return),Ac(3,e)}catch(m){Xd(e,e.return,m)}try{jc(5,e,e.return)}catch(m){Xd(e,e.return,m)}}break;case 1:Bc(t,e),Hc(e),512&r&&null!==n&&Cc(n,n.return);break;case 5:if(Bc(t,e),Hc(e),512&r&&null!==n&&Cc(n,n.return),32&e.flags){var a=e.stateNode;try{Un(a,"")}catch(m){Xd(e,e.return,m)}}if(4&r&&null!=(a=e.stateNode)){var s=e.memoizedProps,i=null!==n?n.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===o&&"radio"===s.type&&null!=s.name&&Cn(a,s),Yn(o,i);var u=Yn(o,s);for(i=0;i<l.length;i+=2){var c=l[i],d=l[i+1];"style"===c?qn(a,d):"dangerouslySetInnerHTML"===c?zn(a,d):"children"===c?Un(a,d):Kt(a,c,d,u)}switch(o){case"input":Pn(a,s);break;case"textarea":On(a,s);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var h=s.value;null!=h?In(a,!!s.multiple,h,!1):p!==!!s.multiple&&(null!=s.defaultValue?In(a,!!s.multiple,s.defaultValue,!0):In(a,!!s.multiple,s.multiple?[]:"",!1))}a[Ui]=s}catch(m){Xd(e,e.return,m)}}break;case 6:if(Bc(t,e),Hc(e),4&r){if(null===e.stateNode)throw Error(Mt(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(m){Xd(e,e.return,m)}}break;case 3:if(Bc(t,e),Hc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{va(t.containerInfo)}catch(m){Xd(e,e.return,m)}break;case 4:default:Bc(t,e),Hc(e);break;case 13:Bc(t,e),Hc(e),8192&(a=e.child).flags&&(s=null!==a.memoizedState,a.stateNode.isHidden=s,!s||null!==a.alternate&&null!==a.alternate.memoizedState||(md=Cr())),4&r&&Uc(e);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&e.mode?(_c=(u=_c)||c,Bc(t,e),_c=u):Bc(t,e),Hc(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!c&&1&e.mode)for(Ec=e,c=e.child;null!==c;){for(d=Ec=c;null!==Ec;){switch(h=(p=Ec).child,p.tag){case 0:case 11:case 14:case 15:jc(4,p,p.return);break;case 1:Cc(p,p.return);var f=p.stateNode;if("function"==typeof f.componentWillUnmount){r=p,n=p.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(m){Xd(r,n,m)}}break;case 5:Cc(p,p.return);break;case 22:if(null!==p.memoizedState){Yc(d);continue}}null!==h?(h.return=p,Ec=h):Yc(d)}c=c.sibling}e:for(c=null,d=e;;){if(5===d.tag){if(null===c){c=d;try{a=d.stateNode,u?"function"==typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none":(o=d.stateNode,i=null!=(l=d.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,o.style.display=Hn("display",i))}catch(m){Xd(e,e.return,m)}}}else if(6===d.tag){if(null===c)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){Xd(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Bc(t,e),Hc(e),4&r&&Uc(e);case 21:}}function Hc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(Mc(n)){var r=n;break e}n=n.return}throw Error(Mt(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(Un(a,""),r.flags&=-33),Dc(e,Oc(e),a);break;case 3:case 4:var s=r.stateNode.containerInfo;Lc(e,Oc(e),s);break;default:throw Error(Mt(161))}}catch(i){Xd(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function qc(e,t,n){Ec=e,Zc(e)}function Zc(e,t,n){for(var r=!!(1&e.mode);null!==Ec;){var a=Ec,s=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||Sc;if(!i){var o=a.alternate,l=null!==o&&null!==o.memoizedState||_c;o=Sc;var u=_c;if(Sc=i,(_c=l)&&!u)for(Ec=a;null!==Ec;)l=(i=Ec).child,22===i.tag&&null!==i.memoizedState?Jc(a):null!==l?(l.return=i,Ec=l):Jc(a);for(;null!==s;)Ec=s,Zc(s),s=s.sibling;Ec=a,Sc=o,_c=u}Kc(e)}else 8772&a.subtreeFlags&&null!==s?(s.return=a,Ec=s):Kc(e)}}function Kc(e){for(;null!==Ec;){var t=Ec;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:_c||Ac(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!_c)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Au(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&bl(t,s,r);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}bl(t,i,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var c=u.memoizedState;if(null!==c){var d=c.dehydrated;null!==d&&va(d)}}}break;default:throw Error(Mt(163))}_c||512&t.flags&&Ic(t)}catch(p){Xd(t,t.return,p)}}if(t===e){Ec=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ec=n;break}Ec=t.return}}function Yc(e){for(;null!==Ec;){var t=Ec;if(t===e){Ec=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ec=n;break}Ec=t.return}}function Jc(e){for(;null!==Ec;){var t=Ec;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ac(4,t)}catch(l){Xd(t,n,l)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Xd(t,a,l)}}var s=t.return;try{Ic(t)}catch(l){Xd(t,s,l)}break;case 5:var i=t.return;try{Ic(t)}catch(l){Xd(t,i,l)}}}catch(l){Xd(t,t.return,l)}if(t===e){Ec=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Ec=o;break}Ec=t.return}}var Gc,Xc=Math.ceil,Qc=Yt.ReactCurrentDispatcher,ed=Yt.ReactCurrentOwner,td=Yt.ReactCurrentBatchConfig,nd=0,rd=null,ad=null,sd=0,id=0,od=Qi(0),ld=0,ud=null,cd=0,dd=0,pd=0,hd=null,fd=null,md=0,gd=1/0,yd=null,vd=!1,bd=null,xd=null,wd=!1,kd=null,Sd=0,_d=0,Td=null,Ed=-1,Cd=0;function Pd(){return 6&nd?Cr():-1!==Ed?Ed:Ed=Cr()}function Nd(e){return 1&e.mode?2&nd&&0!==sd?sd&-sd:null!==Ho.transition?(0===Cd&&(Cd=Hr()),Cd):0!==(e=Yr)?e:e=void 0===(e=window.event)?16:Ea(e.type):1}function jd(e,t,n,r){if(50<_d)throw _d=0,Td=null,Error(Mt(185));Zr(e,n,r),2&nd&&e===rd||(e===rd&&(!(2&nd)&&(dd|=n),4===ld&&Od(e,sd)),Ad(e,r),1===n&&0===nd&&!(1&t.mode)&&(gd=Cr()+500,mo&&vo()))}function Ad(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-Lr(s),o=1<<i,l=a[i];-1===l?0!==(o&n)&&0===(o&r)||(a[i]=Br(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=Ur(e,e===rd?sd:0);if(0===r)null!==n&&_r(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&_r(n),1===t)0===e.tag?function(e){mo=!0,yo(e)}(Ld.bind(null,e)):yo(Ld.bind(null,e)),Oi(function(){!(6&nd)&&vo()}),n=null;else{switch(Jr(r)){case 1:n=Nr;break;case 4:n=jr;break;case 16:default:n=Ar;break;case 536870912:n=Rr}n=rp(n,Id.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Id(e,t){if(Ed=-1,Cd=0,6&nd)throw Error(Mt(327));var n=e.callbackNode;if(Jd()&&e.callbackNode!==n)return null;var r=Ur(e,e===rd?sd:0);if(0===r)return null;if(30&r||0!==(r&e.expiredLanes)||t)t=Wd(e,r);else{t=r;var a=nd;nd|=2;var s=Ud();for(rd===e&&sd===t||(yd=null,gd=Cr()+500,Vd(e,t));;)try{qd();break}catch(o){zd(e,o)}nl(),Qc.current=s,nd=a,null!==ad?t=0:(rd=null,sd=0,t=ld)}if(0!==t){if(2===t&&(0!==(a=Wr(e))&&(r=a,t=Rd(e,a))),1===t)throw n=ud,Vd(e,0),Od(e,r),Ad(e,Cr()),n;if(6===t)Od(e,r);else{if(a=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!Ls(s(),a))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)||(t=Wd(e,r),2===t&&(s=Wr(e),0!==s&&(r=s,t=Rd(e,s))),1!==t)))throw n=ud,Vd(e,0),Od(e,r),Ad(e,Cr()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(Mt(345));case 2:case 5:Yd(e,fd,yd);break;case 3:if(Od(e,r),(130023424&r)===r&&10<(t=md+500-Cr())){if(0!==Ur(e,0))break;if(((a=e.suspendedLanes)&r)!==r){Pd(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ii(Yd.bind(null,e,fd,yd),t);break}Yd(e,fd,yd);break;case 4:if(Od(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-Lr(r);s=1<<i,(i=t[i])>a&&(a=i),r&=~s}if(r=a,10<(r=(120>(r=Cr()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Xc(r/1960))-r)){e.timeoutHandle=Ii(Yd.bind(null,e,fd,yd),r);break}Yd(e,fd,yd);break;default:throw Error(Mt(329))}}}return Ad(e,Cr()),e.callbackNode===n?Id.bind(null,e):null}function Rd(e,t){var n=hd;return e.current.memoizedState.isDehydrated&&(Vd(e,t).flags|=256),2!==(e=Wd(e,t))&&(t=fd,fd=n,null!==t&&Md(t)),e}function Md(e){null===fd?fd=e:fd.push.apply(fd,e)}function Od(e,t){for(t&=~pd,t&=~dd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Lr(t),r=1<<n;e[n]=-1,t&=~r}}function Ld(e){if(6&nd)throw Error(Mt(327));Jd();var t=Ur(e,0);if(!(1&t))return Ad(e,Cr()),null;var n=Wd(e,t);if(0!==e.tag&&2===n){var r=Wr(e);0!==r&&(t=r,n=Rd(e,r))}if(1===n)throw n=ud,Vd(e,0),Od(e,t),Ad(e,Cr()),n;if(6===n)throw Error(Mt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yd(e,fd,yd),Ad(e,Cr()),null}function Dd(e,t){var n=nd;nd|=1;try{return e(t)}finally{0===(nd=n)&&(gd=Cr()+500,mo&&vo())}}function Fd(e){null!==kd&&0===kd.tag&&!(6&nd)&&Jd();var t=nd;nd|=1;var n=td.transition,r=Yr;try{if(td.transition=null,Yr=1,e)return e()}finally{Yr=r,td.transition=n,!(6&(nd=t))&&vo()}}function $d(){id=od.current,eo(od)}function Vd(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Ri(n)),null!==ad)for(n=ad.return;null!==n;){var r=n;switch(Ao(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&lo();break;case 3:El(),eo(ao),eo(ro),Il();break;case 5:Pl(r);break;case 4:El();break;case 13:case 19:eo(Nl);break;case 10:rl(r.type._context);break;case 22:case 23:$d()}n=n.return}if(rd=e,ad=e=op(e.current,null),sd=id=t,ld=0,ud=null,pd=dd=cd=0,fd=hd=null,null!==ol){for(t=0;t<ol.length;t++)if(null!==(r=(n=ol[t]).interleaved)){n.interleaved=null;var a=r.next,s=n.pending;if(null!==s){var i=s.next;s.next=a,r.next=i}n.pending=r}ol=null}return e}function zd(e,t){for(;;){var n=ad;try{if(nl(),Rl.current=Cu,$l){for(var r=Ll.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}$l=!1}if(Ol=0,Fl=Dl=Ll=null,Vl=!1,zl=0,ed.current=null,null===n||null===n.return){ld=1,ud=t,ad=null;break}e:{var s=e,i=n.return,o=n,l=t;if(t=sd,o.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l,c=o,d=c.tag;if(!(1&c.mode||0!==d&&11!==d&&15!==d)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Wu(i);if(null!==h){h.flags&=-257,Hu(h,i,o,0,t),1&h.mode&&Bu(s,u,t),l=u;var f=(t=h).updateQueue;if(null===f){var m=new Set;m.add(l),t.updateQueue=m}else f.add(l);break e}if(!(1&t)){Bu(s,u,t),Bd();break e}l=Error(Mt(426))}else if(Mo&&1&o.mode){var g=Wu(i);if(null!==g){!(65536&g.flags)&&(g.flags|=256),Hu(g,i,o,0,t),Wo(Fu(l,o));break e}}s=l=Fu(l,o),4!==ld&&(ld=2),null===hd?hd=[s]:hd.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,yl(s,zu(0,l,t));break e;case 1:o=l;var y=s.type,v=s.stateNode;if(!(128&s.flags||"function"!=typeof y.getDerivedStateFromError&&(null===v||"function"!=typeof v.componentDidCatch||null!==xd&&xd.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t,yl(s,Uu(s,o,t));break e}}s=s.return}while(null!==s)}Kd(n)}catch(b){t=b,ad===n&&null!==n&&(ad=n=n.return);continue}break}}function Ud(){var e=Qc.current;return Qc.current=Cu,null===e?Cu:e}function Bd(){0!==ld&&3!==ld&&2!==ld||(ld=4),null===rd||!(268435455&cd)&&!(268435455&dd)||Od(rd,sd)}function Wd(e,t){var n=nd;nd|=2;var r=Ud();for(rd===e&&sd===t||(yd=null,Vd(e,t));;)try{Hd();break}catch(GI){zd(e,GI)}if(nl(),nd=n,Qc.current=r,null!==ad)throw Error(Mt(261));return rd=null,sd=0,ld}function Hd(){for(;null!==ad;)Zd(ad)}function qd(){for(;null!==ad&&!Tr();)Zd(ad)}function Zd(e){var t=Gc(e.alternate,e,id);e.memoizedProps=e.pendingProps,null===t?Kd(e):ad=t,ed.current=null}function Kd(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=kc(n,t)))return n.flags&=32767,void(ad=n);if(null===e)return ld=6,void(ad=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=wc(n,t,id)))return void(ad=n);if(null!==(t=t.sibling))return void(ad=t);ad=t=e}while(null!==t);0===ld&&(ld=5)}function Yd(e,t,n){var r=Yr,a=td.transition;try{td.transition=null,Yr=1,function(e,t,n,r){do{Jd()}while(null!==kd);if(6&nd)throw Error(Mt(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Mt(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Lr(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}(e,s),e===rd&&(ad=rd=null,sd=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||wd||(wd=!0,rp(Ar,function(){return Jd(),null})),s=!!(15990&n.flags),!!(15990&n.subtreeFlags)||s){s=td.transition,td.transition=null;var i=Yr;Yr=1;var o=nd;nd|=4,ed.current=null,function(e,t){if(Ni=xa,Us(e=zs())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(x){n=null;break e}var i=0,o=-1,l=-1,u=0,c=0,d=e,p=null;t:for(;;){for(var h;d!==n||0!==a&&3!==d.nodeType||(o=i+a),d!==s||0!==r&&3!==d.nodeType||(l=i+r),3===d.nodeType&&(i+=d.nodeValue.length),null!==(h=d.firstChild);)p=d,d=h;for(;;){if(d===e)break t;if(p===n&&++u===a&&(o=i),p===s&&++c===r&&(l=i),null!==(h=d.nextSibling))break;p=(d=p).parentNode}d=h}n=-1===o||-1===l?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ji={focusedElem:e,selectionRange:n},xa=!1,Ec=t;null!==Ec;)if(e=(t=Ec).child,1028&t.subtreeFlags&&null!==e)e.return=t,Ec=e;else for(;null!==Ec;){t=Ec;try{var f=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var m=f.memoizedProps,g=f.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:Au(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(Mt(163))}}catch(x){Xd(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Ec=e;break}Ec=t.return}f=Nc,Nc=!1}(e,n),Wc(n,e),Bs(ji),xa=!!Ni,ji=Ni=null,e.current=n,qc(n),Er(),nd=o,Yr=i,td.transition=s}else e.current=n;if(wd&&(wd=!1,kd=e,Sd=a),s=e.pendingLanes,0===s&&(xd=null),function(e){if(Or&&"function"==typeof Or.onCommitFiberRoot)try{Or.onCommitFiberRoot(Mr,e,void 0,!(128&~e.current.flags))}catch(t){}}(n.stateNode),Ad(e,Cr()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(vd)throw vd=!1,e=bd,bd=null,e;!!(1&Sd)&&0!==e.tag&&Jd(),s=e.pendingLanes,1&s?e===Td?_d++:(_d=0,Td=e):_d=0,vo()}(e,t,n,r)}finally{td.transition=a,Yr=r}return null}function Jd(){if(null!==kd){var e=Jr(Sd),t=td.transition,n=Yr;try{if(td.transition=null,Yr=16>e?16:e,null===kd)var r=!1;else{if(e=kd,kd=null,Sd=0,6&nd)throw Error(Mt(331));var a=nd;for(nd|=4,Ec=e.current;null!==Ec;){var s=Ec,i=s.child;if(16&Ec.flags){var o=s.deletions;if(null!==o){for(var l=0;l<o.length;l++){var u=o[l];for(Ec=u;null!==Ec;){var c=Ec;switch(c.tag){case 0:case 11:case 15:jc(8,c,s)}var d=c.child;if(null!==d)d.return=c,Ec=d;else for(;null!==Ec;){var p=(c=Ec).sibling,h=c.return;if(Rc(c),c===u){Ec=null;break}if(null!==p){p.return=h,Ec=p;break}Ec=h}}}var f=s.alternate;if(null!==f){var m=f.child;if(null!==m){f.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Ec=s}}if(2064&s.subtreeFlags&&null!==i)i.return=s,Ec=i;else e:for(;null!==Ec;){if(2048&(s=Ec).flags)switch(s.tag){case 0:case 11:case 15:jc(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Ec=y;break e}Ec=s.return}}var v=e.current;for(Ec=v;null!==Ec;){var b=(i=Ec).child;if(2064&i.subtreeFlags&&null!==b)b.return=i,Ec=b;else e:for(i=v;null!==Ec;){if(2048&(o=Ec).flags)try{switch(o.tag){case 0:case 11:case 15:Ac(9,o)}}catch(w){Xd(o,o.return,w)}if(o===i){Ec=null;break e}var x=o.sibling;if(null!==x){x.return=o.return,Ec=x;break e}Ec=o.return}}if(nd=a,vo(),Or&&"function"==typeof Or.onPostCommitFiberRoot)try{Or.onPostCommitFiberRoot(Mr,e)}catch(w){}r=!0}return r}finally{Yr=n,td.transition=t}}return!1}function Gd(e,t,n){e=ml(e,t=zu(0,t=Fu(n,t),1),1),t=Pd(),null!==e&&(Zr(e,1,t),Ad(e,t))}function Xd(e,t,n){if(3===e.tag)Gd(e,e,n);else for(;null!==t;){if(3===t.tag){Gd(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===xd||!xd.has(r))){t=ml(t,e=Uu(t,e=Fu(n,e),1),1),e=Pd(),null!==t&&(Zr(t,1,e),Ad(t,e));break}}t=t.return}}function Qd(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Pd(),e.pingedLanes|=e.suspendedLanes&n,rd===e&&(sd&n)===n&&(4===ld||3===ld&&(130023424&sd)===sd&&500>Cr()-md?Vd(e,0):pd|=n),Ad(e,t)}function ep(e,t){0===t&&(1&e.mode?(t=Vr,!(130023424&(Vr<<=1))&&(Vr=4194304)):t=1);var n=Pd();null!==(e=cl(e,t))&&(Zr(e,t,n),Ad(e,n))}function tp(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ep(e,n)}function np(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Mt(314))}null!==r&&r.delete(t),ep(e,n)}function rp(e,t){return Sr(e,t)}function ap(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sp(e,t,n,r){return new ap(e,t,n,r)}function ip(e){return!(!(e=e.prototype)||!e.isReactComponent)}function op(e,t){var n=e.alternate;return null===n?((n=sp(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function lp(e,t,n,r,a,s){var i=2;if(r=e,"function"==typeof e)ip(e)&&(i=1);else if("string"==typeof e)i=5;else e:switch(e){case Xt:return up(n.children,a,s,t);case Qt:i=8,a|=8;break;case en:return(e=sp(12,n,t,2|a)).elementType=en,e.lanes=s,e;case an:return(e=sp(13,n,t,a)).elementType=an,e.lanes=s,e;case sn:return(e=sp(19,n,t,a)).elementType=sn,e.lanes=s,e;case un:return cp(n,a,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case tn:i=10;break e;case nn:i=9;break e;case rn:i=11;break e;case on:i=14;break e;case ln:i=16,r=null;break e}throw Error(Mt(130,null==e?e:typeof e,""))}return(t=sp(i,n,t,a)).elementType=e,t.type=r,t.lanes=s,t}function up(e,t,n,r){return(e=sp(7,e,r,t)).lanes=n,e}function cp(e,t,n,r){return(e=sp(22,e,r,t)).elementType=un,e.lanes=n,e.stateNode={isHidden:!1},e}function dp(e,t,n){return(e=sp(6,e,null,t)).lanes=n,e}function pp(e,t,n){return(t=sp(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hp(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qr(0),this.expirationTimes=qr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qr(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function fp(e,t,n,r,a,s,i,o,l){return e=new hp(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=sp(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pl(s),e}function mp(e){if(!e)return no;e:{if(vr(e=e._reactInternals)!==e||1!==e.tag)throw Error(Mt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(oo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(Mt(171))}if(1===e.tag){var n=e.type;if(oo(n))return co(e,n,t)}return t}function gp(e,t,n,r,a,s,i,o,l){return(e=fp(n,r,!0,e,0,s,0,o,l)).context=mp(null),n=e.current,(s=fl(r=Pd(),a=Nd(n))).callback=null!=t?t:null,ml(n,s,a),e.current.lanes=a,Zr(e,a,r),Ad(e,r),e}function yp(e,t,n,r){var a=t.current,s=Pd(),i=Nd(a);return n=mp(n),null===t.context?t.context=n:t.pendingContext=n,(t=fl(s,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=ml(a,t,i))&&(jd(e,a,i,s),gl(e,a,i)),i}function vp(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function bp(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function xp(e,t){bp(e,t),(e=e.alternate)&&bp(e,t)}Gc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ao.current)Zu=!0;else{if(0===(e.lanes&n)&&!(128&t.flags))return Zu=!1,function(e,t,n){switch(t.tag){case 3:rc(t),Bo();break;case 5:Cl(t);break;case 1:oo(t.type)&&po(t);break;case 4:Tl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;to(Xo,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(to(Nl,1&Nl.current),t.flags|=128,null):0!==(n&t.child.childLanes)?dc(e,t,n):(to(Nl,1&Nl.current),null!==(e=vc(e,t,n))?e.sibling:null);to(Nl,1&Nl.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return gc(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),to(Nl,Nl.current),r)break;return null;case 22:case 23:return t.lanes=0,Xu(e,t,n)}return vc(e,t,n)}(e,t,n);Zu=!!(131072&e.flags)}else Zu=!1,Mo&&1048576&t.flags&&No(t,ko,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;yc(e,t),e=t.pendingProps;var a=io(t,ro.current);sl(t,n),a=Hl(null,t,r,e,a,n);var s=ql();return t.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,oo(r)?(s=!0,po(t)):s=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,pl(t),a.updater=Ru,t.stateNode=a,a._reactInternals=t,Du(t,r,e,n),t=nc(null,t,r,!0,s,n)):(t.tag=0,Mo&&s&&jo(t),Ku(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(yc(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"==typeof e)return ip(e)?1:0;if(null!=e){if((e=e.$$typeof)===rn)return 11;if(e===on)return 14}return 2}(r),e=Au(r,e),a){case 0:t=ec(null,t,r,e,n);break e;case 1:t=tc(null,t,r,e,n);break e;case 11:t=Yu(null,t,r,e,n);break e;case 14:t=Ju(null,t,r,Au(r.type,e),n);break e}throw Error(Mt(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,ec(e,t,r,a=t.elementType===r?a:Au(r,a),n);case 1:return r=t.type,a=t.pendingProps,tc(e,t,r,a=t.elementType===r?a:Au(r,a),n);case 3:e:{if(rc(t),null===e)throw Error(Mt(387));r=t.pendingProps,a=(s=t.memoizedState).element,hl(e,t),vl(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=ac(e,t,r,n,a=Fu(Error(Mt(423)),t));break e}if(r!==a){t=ac(e,t,r,n,a=Fu(Error(Mt(424)),t));break e}for(Ro=Fi(t.stateNode.containerInfo.firstChild),Io=t,Mo=!0,Oo=null,n=Go(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Bo(),r===a){t=vc(e,t,n);break e}Ku(e,t,r,n)}t=t.child}return t;case 5:return Cl(t),null===e&&$o(t),r=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,i=a.children,Ai(r,a)?i=null:null!==s&&Ai(r,s)&&(t.flags|=32),Qu(e,t),Ku(e,t,i,n),t.child;case 6:return null===e&&$o(t),null;case 13:return dc(e,t,n);case 4:return Tl(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Jo(t,null,r,n):Ku(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Yu(e,t,r,a=t.elementType===r?a:Au(r,a),n);case 7:return Ku(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ku(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value,to(Xo,r._currentValue),r._currentValue=i,null!==s)if(Ls(s.value,i)){if(s.children===a.children&&!ao.current){t=vc(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var o=s.dependencies;if(null!==o){i=s.child;for(var l=o.firstContext;null!==l;){if(l.context===r){if(1===s.tag){(l=fl(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var c=(u=u.shared).pending;null===c?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),al(s.return,n,t),o.lanes|=n;break}l=l.next}}else if(10===s.tag)i=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(i=s.return))throw Error(Mt(341));i.lanes|=n,null!==(o=i.alternate)&&(o.lanes|=n),al(i,n,t),i=s.sibling}else i=s.child;if(null!==i)i.return=s;else for(i=s;null!==i;){if(i===t){i=null;break}if(null!==(s=i.sibling)){s.return=i.return,i=s;break}i=i.return}s=i}Ku(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,sl(t,n),r=r(a=il(a)),t.flags|=1,Ku(e,t,r,n),t.child;case 14:return a=Au(r=t.type,t.pendingProps),Ju(e,t,r,a=Au(r.type,a),n);case 15:return Gu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Au(r,a),yc(e,t),t.tag=1,oo(r)?(e=!0,po(t)):e=!1,sl(t,n),Ou(t,r,a),Du(t,r,a,n),nc(null,t,r,!0,e,n);case 19:return gc(e,t,n);case 22:return Xu(e,t,n)}throw Error(Mt(156,t.tag))};var wp="function"==typeof reportError?reportError:function(e){};function kp(e){this._internalRoot=e}function Sp(e){this._internalRoot=e}function _p(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Tp(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ep(){}function Cp(e,t,n,r,a){var s=n._reactRootContainer;if(s){var i=s;if("function"==typeof a){var o=a;a=function(){var e=vp(i);o.call(e)}}yp(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"==typeof r){var s=r;r=function(){var e=vp(i);s.call(e)}}var i=gp(t,r,e,0,null,!1,0,"",Ep);return e._reactRootContainer=i,e[Bi]=i.current,yi(8===e.nodeType?e.parentNode:e),Fd(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"==typeof r){var o=r;r=function(){var e=vp(l);o.call(e)}}var l=fp(e,0,!1,null,0,!1,0,"",Ep);return e._reactRootContainer=l,e[Bi]=l.current,yi(8===e.nodeType?e.parentNode:e),Fd(function(){yp(t,l,n,r)}),l}(n,t,e,a,r);return vp(i)}Sp.prototype.render=kp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(Mt(409));yp(e,t,null,null)},Sp.prototype.unmount=kp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Fd(function(){yp(null,e,null,null)}),t[Bi]=null}},Sp.prototype.unstable_scheduleHydration=function(e){if(e){var t=ea();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ua.length&&0!==t&&t<ua[n].priority;n++);ua.splice(n,0,e),0===n&&ha(e)}},Gr=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=zr(t.pendingLanes);0!==n&&(Kr(t,1|n),Ad(t,Cr()),!(6&nd)&&(gd=Cr()+500,vo()))}break;case 13:Fd(function(){var t=cl(e,1);if(null!==t){var n=Pd();jd(t,e,1,n)}}),xp(e,1)}},Xr=function(e){if(13===e.tag){var t=cl(e,134217728);if(null!==t)jd(t,e,134217728,Pd());xp(e,134217728)}},Qr=function(e){if(13===e.tag){var t=Nd(e),n=cl(e,t);if(null!==n)jd(n,e,t,Pd());xp(e,t)}},ea=function(){return Yr},ta=function(e,t){var n=Yr;try{return Yr=e,t()}finally{Yr=n}},Xn=function(e,t,n){switch(t){case"input":if(Pn(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Ji(r);if(!a)throw Error(Mt(90));Sn(r),Pn(r,a)}}}break;case"textarea":On(e,n);break;case"select":null!=(t=n.value)&&In(e,!!n.multiple,t,!1)}},ar=Dd,sr=Fd;var Pp={usingClientEntryPoint:!1,Events:[Ki,Yi,Ji,nr,rr,Dd]},Np={findFiberByHostInstance:Zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jp={bundleType:Np.bundleType,version:Np.version,rendererPackageName:Np.rendererPackageName,rendererConfig:Np.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=wr(e))?null:e.stateNode},findFiberByHostInstance:Np.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ap=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ap.isDisabled&&Ap.supportsFiber)try{Mr=Ap.inject(jp),Or=Ap}catch(Vn){}}Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pp,Pt.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!_p(t))throw Error(Mt(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Gt,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},Pt.createRoot=function(e,t){if(!_p(e))throw Error(Mt(299));var n=!1,r="",a=wp;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=fp(e,1,!1,null,0,n,0,r,a),e[Bi]=t.current,yi(8===e.nodeType?e.parentNode:e),new kp(t)},Pt.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(Mt(188));throw e=Object.keys(e).join(","),Error(Mt(268,e))}return e=null===(e=wr(t))?null:e.stateNode},Pt.flushSync=function(e){return Fd(e)},Pt.hydrate=function(e,t,n){if(!Tp(t))throw Error(Mt(200));return Cp(null,e,t,!0,n)},Pt.hydrateRoot=function(e,t,n){if(!_p(e))throw Error(Mt(405));var r=null!=n&&n.hydratedSources||null,a=!1,s="",i=wp;if(null!=n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=gp(t,null,e,1,null!=n?n:null,a,0,s,i),e[Bi]=t.current,yi(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Sp(t)},Pt.render=function(e,t,n){if(!Tp(t))throw Error(Mt(200));return Cp(null,e,t,!1,n)},Pt.unmountComponentAtNode=function(e){if(!Tp(e))throw Error(Mt(40));return!!e._reactRootContainer&&(Fd(function(){Cp(null,null,e,!1,function(){e._reactRootContainer=null,e[Bi]=null})}),!0)},Pt.unstable_batchedUpdates=Dd,Pt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Tp(n))throw Error(Mt(200));if(null==e||void 0===e._reactInternals)throw Error(Mt(38));return Cp(e,t,n,!1,r)},Pt.version="18.3.1-next-f1338f8080-20240426",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),Ct.exports=Pt;var Ip,Rp,Mp=Ct.exports;
/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function Op(){return Op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Op.apply(this,arguments)}Et.createRoot=Mp.createRoot,Et.hydrateRoot=Mp.hydrateRoot,(Rp=Ip||(Ip={})).Pop="POP",Rp.Push="PUSH",Rp.Replace="REPLACE";const Lp="popstate";function Dp(e){return void 0===e&&(e={}),function(e,t,n,r){void 0===r&&(r={});let{window:a=document.defaultView,v5Compat:s=!1}=r,i=a.history,o=Ip.Pop,l=null,u=c();null==u&&(u=0,i.replaceState(Op({},i.state,{idx:u}),""));function c(){return(i.state||{idx:null}).idx}function d(){o=Ip.Pop;let e=c(),t=null==e?null:e-u;u=e,l&&l({action:o,location:m.location,delta:t})}function p(e,t){o=Ip.Push;let n=zp(m.location,e,t);u=c()+1;let r=Vp(n,u),d=m.createHref(n);try{i.pushState(r,"",d)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;a.location.assign(d)}s&&l&&l({action:o,location:m.location,delta:1})}function h(e,t){o=Ip.Replace;let n=zp(m.location,e,t);u=c();let r=Vp(n,u),a=m.createHref(n);i.replaceState(r,"",a),s&&l&&l({action:o,location:m.location,delta:0})}function f(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"==typeof e?e:Up(e);return n=n.replace(/ $/,"%20"),Fp(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}let m={get action(){return o},get location(){return e(a,i)},listen(e){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(Lp,d),l=e,()=>{a.removeEventListener(Lp,d),l=null}},createHref:e=>t(a,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:p,replace:h,go:e=>i.go(e)};return m}(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return zp("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:Up(t)},0,e)}function Fp(e,t){if(!1===e||null==e)throw new Error(t)}function $p(e,t){if(!e)try{throw new Error(t)}catch(GI){}}function Vp(e,t){return{usr:e.state,key:e.key,idx:t}}function zp(e,t,n,r){return void 0===n&&(n=null),Op({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?Bp(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function Up(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function Bp(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var Wp,Hp;function qp(e,t,n){return void 0===n&&(n="/"),function(e,t,n){let r="string"==typeof t?Bp(t):t,a=ih(r.pathname||"/",n);if(null==a)return null;let s=Zp(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let o=0;null==i&&o<s.length;++o){let e=sh(a);i=rh(s[o],e)}return i}(e,t,n)}function Zp(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,s)=>{let i={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(Fp(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let o=ch([r,i.relativePath]),l=n.concat(i);e.children&&e.children.length>0&&(Fp(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),Zp(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:nh(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of Kp(e.path))a(e,t,r);else a(e,t)}),t}function Kp(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return a?[s,""]:[s];let i=Kp(r.join("/")),o=[];return o.push(...i.map(e=>""===e?s:[s,e].join("/"))),a&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}(Hp=Wp||(Wp={})).data="data",Hp.deferred="deferred",Hp.redirect="redirect",Hp.error="error";const Yp=/^:[\w-]+$/,Jp=3,Gp=2,Xp=1,Qp=10,eh=-2,th=e=>"*"===e;function nh(e,t){let n=e.split("/"),r=n.length;return n.some(th)&&(r+=eh),t&&(r+=Gp),n.filter(e=>!th(e)).reduce((e,t)=>e+(Yp.test(t)?Jp:""===t?Xp:Qp),r)}function rh(e,t,n){let{routesMeta:r}=e,a={},s="/",i=[];for(let o=0;o<r.length;++o){let e=r[o],n=o===r.length-1,l="/"===s?t:t.slice(s.length)||"/",u=ah({path:e.relativePath,caseSensitive:e.caseSensitive,end:n},l),c=e.route;if(!u)return null;Object.assign(a,u.params),i.push({params:a,pathname:ch([s,u.pathname]),pathnameBase:dh(ch([s,u.pathnameBase])),route:c}),"/"!==u.pathnameBase&&(s=ch([s,u.pathnameBase]))}return i}function ah(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);$p("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let s=new RegExp(a,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=o[n]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:i,pattern:e}}function sh(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return $p(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function ih(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function oh(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function lh(e,t){let n=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function uh(e,t,n,r){let a;void 0===r&&(r=!1),"string"==typeof e?a=Bp(e):(a=Op({},e),Fp(!a.pathname||!a.pathname.includes("?"),oh("?","pathname","search",a)),Fp(!a.pathname||!a.pathname.includes("#"),oh("#","pathname","hash",a)),Fp(!a.search||!a.search.includes("#"),oh("#","search","hash",a)));let s,i=""===e||""===a.pathname,o=i?"/":a.pathname;if(null==o)s=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"==typeof e?Bp(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:ph(r),hash:hh(a)}}(a,s),u=o&&"/"!==o&&o.endsWith("/"),c=(i||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!c||(l.pathname+="/"),l}const ch=e=>e.join("/").replace(/\/\/+/g,"/"),dh=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ph=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",hh=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";const fh=["post","put","patch","delete"];new Set(fh);const mh=["get",...fh];
/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gh.apply(this,arguments)}new Set(mh);const yh=V.createContext(null),vh=V.createContext(null),bh=V.createContext(null),xh=V.createContext(null),wh=V.createContext({outlet:null,matches:[],isDataRoute:!1}),kh=V.createContext(null);function Sh(){return null!=V.useContext(xh)}function _h(){return Sh()||Fp(!1),V.useContext(xh).location}function Th(e){V.useContext(bh).static||V.useLayoutEffect(e)}function Eh(){let{isDataRoute:e}=V.useContext(wh);return e?function(){let{router:e}=function(){let e=V.useContext(yh);return e||Fp(!1),e}(Rh.UseNavigateStable),t=Oh(Mh.UseNavigateStable),n=V.useRef(!1);return Th(()=>{n.current=!0}),V.useCallback(function(r,a){void 0===a&&(a={}),n.current&&("number"==typeof r?e.navigate(r):e.navigate(r,gh({fromRouteId:t},a)))},[e,t])}():function(){Sh()||Fp(!1);let e=V.useContext(yh),{basename:t,future:n,navigator:r}=V.useContext(bh),{matches:a}=V.useContext(wh),{pathname:s}=_h(),i=JSON.stringify(lh(a,n.v7_relativeSplatPath)),o=V.useRef(!1);return Th(()=>{o.current=!0}),V.useCallback(function(n,a){if(void 0===a&&(a={}),!o.current)return;if("number"==typeof n)return void r.go(n);let l=uh(n,JSON.parse(i),s,"path"===a.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:ch([t,l.pathname])),(a.replace?r.replace:r.push)(l,a.state,a)},[t,r,i,s,e])}()}function Ch(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=V.useContext(bh),{matches:a}=V.useContext(wh),{pathname:s}=_h(),i=JSON.stringify(lh(a,r.v7_relativeSplatPath));return V.useMemo(()=>uh(e,JSON.parse(i),s,"path"===n),[e,i,s,n])}function Ph(e,t){return function(e,t,n,r){Sh()||Fp(!1);let{navigator:a}=V.useContext(bh),{matches:s}=V.useContext(wh),i=s[s.length-1],o=i?i.params:{};!i||i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let u,c=_h();if(t){var d;let e="string"==typeof t?Bp(t):t;"/"===l||(null==(d=e.pathname)?void 0:d.startsWith(l))||Fp(!1),u=e}else u=c;let p=u.pathname||"/",h=p;if("/"!==l){let e=l.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(e.length).join("/")}let f=qp(e,{pathname:h}),m=function(e,t,n,r){var a;void 0===t&&(t=[]);void 0===n&&(n=null);void 0===r&&(r=null);if(null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let i=e,o=null==(a=n)?void 0:a.errors;if(null!=o){let e=i.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));e>=0||Fp(!1),i=i.slice(0,Math.min(i.length,e+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<i.length;c++){let e=i[c];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=c),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){l=!0,i=u>=0?i.slice(0,u+1):[i[0]];break}}}return i.reduceRight((e,r,a)=>{let s,c=!1,d=null,p=null;var h;n&&(s=o&&r.route.id?o[r.route.id]:void 0,d=r.route.errorElement||jh,l&&(u<0&&0===a?(Lh[h="route-fallback"]||(Lh[h]=!0),c=!0,p=null):u===a&&(c=!0,p=r.route.hydrateFallbackElement||null)));let f=t.concat(i.slice(0,a+1)),m=()=>{let t;return t=s?d:c?p:r.route.Component?V.createElement(r.route.Component,null):r.route.element?r.route.element:e,V.createElement(Ih,{match:r,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?V.createElement(Ah,{location:n.location,revalidation:n.revalidation,component:d,error:s,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()},null)}(f&&f.map(e=>Object.assign({},e,{params:Object.assign({},o,e.params),pathname:ch([l,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:ch([l,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,n,r);if(t&&m)return V.createElement(xh.Provider,{value:{location:gh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ip.Pop}},m);return m}(e,t)}function Nh(){let e=function(){var e;let t=V.useContext(kh),n=function(){let e=V.useContext(vh);return e||Fp(!1),e}(),r=Oh();if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),n?V.createElement("pre",{style:r},n):null,null)}const jh=V.createElement(Nh,null);class Ah extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){}render(){return void 0!==this.state.error?V.createElement(wh.Provider,{value:this.props.routeContext},V.createElement(kh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ih(e){let{routeContext:t,match:n,children:r}=e,a=V.useContext(yh);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(wh.Provider,{value:t},r)}var Rh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Rh||{}),Mh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Mh||{});function Oh(e){let t=function(){let e=V.useContext(wh);return e||Fp(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||Fp(!1),n.route.id}const Lh={};function Dh(e){let{to:t,replace:n,state:r,relative:a}=e;Sh()||Fp(!1);let{future:s,static:i}=V.useContext(bh),{matches:o}=V.useContext(wh),{pathname:l}=_h(),u=Eh(),c=uh(t,lh(o,s.v7_relativeSplatPath),l,"path"===a),d=JSON.stringify(c);return V.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:a}),[u,d,a,n,r]),null}function Fh(e){Fp(!1)}function $h(e){let{basename:t="/",children:n=null,location:r,navigationType:a=Ip.Pop,navigator:s,static:i=!1,future:o}=e;Sh()&&Fp(!1);let l=t.replace(/^\/*/,"/"),u=V.useMemo(()=>({basename:l,navigator:s,static:i,future:gh({v7_relativeSplatPath:!1},o)}),[l,o,s,i]);"string"==typeof r&&(r=Bp(r));let{pathname:c="/",search:d="",hash:p="",state:h=null,key:f="default"}=r,m=V.useMemo(()=>{let e=ih(c,l);return null==e?null:{location:{pathname:e,search:d,hash:p,state:h,key:f},navigationType:a}},[l,c,d,p,h,f,a]);return null==m?null:V.createElement(bh.Provider,{value:u},V.createElement(xh.Provider,{children:n,value:m}))}function Vh(e){let{children:t,location:n}=e;return Ph(zh(t),n)}function zh(e,t){void 0===t&&(t=[]);let n=[];return V.Children.forEach(e,(e,r)=>{if(!V.isValidElement(e))return;let a=[...t,r];if(e.type===V.Fragment)return void n.push.apply(n,zh(e.props.children,a));e.type!==Fh&&Fp(!1),e.props.index&&e.props.children&&Fp(!1);let s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=zh(e.props.children,a)),n.push(s)}),n}
/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uh(){return Uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uh.apply(this,arguments)}function Bh(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}new Promise(()=>{});const Wh=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Hh=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(GI){}const qh=V.createContext({isTransitioning:!1}),Zh=U.startTransition;function Kh(e){let{basename:t,children:n,future:r,window:a}=e,s=V.useRef();null==s.current&&(s.current=Dp({window:a,v5Compat:!0}));let i=s.current,[o,l]=V.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},c=V.useCallback(e=>{u&&Zh?Zh(()=>l(e)):l(e)},[l,u]);return V.useLayoutEffect(()=>i.listen(c),[i,c]),V.useEffect(()=>{return null==(e=r)||e.v7_startTransition,void(null==e||e.v7_relativeSplatPath);var e},[r]),V.createElement($h,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i,future:r})}const Yh="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Jh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gh=V.forwardRef(function(e,t){let n,{onClick:r,relative:a,reloadDocument:s,replace:i,state:o,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,p=Bh(e,Wh),{basename:h}=V.useContext(bh),f=!1;if("string"==typeof u&&Jh.test(u)&&(n=u,Yh))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=ih(t.pathname,h);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:f=!0}catch(GI){}let m=function(e,t){let{relative:n}=void 0===t?{}:t;Sh()||Fp(!1);let{basename:r,navigator:a}=V.useContext(bh),{hash:s,pathname:i,search:o}=Ch(e,{relative:n}),l=i;return"/"!==r&&(l="/"===i?r:ch([r,i])),a.createHref({pathname:l,search:o,hash:s})}(u,{relative:a}),g=function(e,t){let{target:n,replace:r,state:a,preventScrollReset:s,relative:i,viewTransition:o}=void 0===t?{}:t,l=Eh(),u=_h(),c=Ch(e,{relative:i});return V.useCallback(t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,n)){t.preventDefault();let n=void 0!==r?r:Up(u)===Up(c);l(e,{replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:o})}},[u,l,c,r,a,n,e,s,i,o])}(u,{replace:i,state:o,target:l,preventScrollReset:c,relative:a,viewTransition:d});return V.createElement("a",Uh({},p,{href:n||m,onClick:f||s?r:function(e){r&&r(e),e.defaultPrevented||g(e)},ref:t,target:l}))}),Xh=V.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:a="",end:s=!1,style:i,to:o,viewTransition:l,children:u}=e,c=Bh(e,Hh),d=Ch(o,{relative:c.relative}),p=_h(),h=V.useContext(vh),{navigator:f,basename:m}=V.useContext(bh),g=null!=h&&function(e,t){void 0===t&&(t={});let n=V.useContext(qh);null==n&&Fp(!1);let{basename:r}=function(){let e=V.useContext(yh);return e||Fp(!1),e}(Qh.useViewTransitionState),a=Ch(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=ih(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=ih(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=ah(a.pathname,i)||null!=ah(a.pathname,s)}(d)&&!0===l,y=f.encodeLocation?f.encodeLocation(d).pathname:d.pathname,v=p.pathname,b=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;r||(v=v.toLowerCase(),b=b?b.toLowerCase():null,y=y.toLowerCase()),b&&m&&(b=ih(b,m)||b);const x="/"!==y&&y.endsWith("/")?y.length-1:y.length;let w,k=v===y||!s&&v.startsWith(y)&&"/"===v.charAt(x),S=null!=b&&(b===y||!s&&b.startsWith(y)&&"/"===b.charAt(y.length)),_={isActive:k,isPending:S,isTransitioning:g},T=k?n:void 0;w="function"==typeof a?a(_):[a,k?"active":null,S?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let E="function"==typeof i?i(_):i;return V.createElement(Gh,Uh({},c,{"aria-current":T,className:w,ref:t,style:E,to:o,viewTransition:l}),"function"==typeof u?u(_):u)});var Qh,ef,tf,nf;function rf(e){const t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):"number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?new Date(e):new Date(NaN)}function af(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}(ef=Qh||(Qh={})).UseScrollRestoration="useScrollRestoration",ef.UseSubmit="useSubmit",ef.UseSubmitFetcher="useSubmitFetcher",ef.UseFetcher="useFetcher",ef.useViewTransitionState="useViewTransitionState",(nf=tf||(tf={})).UseFetcher="useFetcher",nf.UseFetchers="useFetchers",nf.UseScrollRestoration="useScrollRestoration";const sf=6048e5,of=6e4,lf=36e5;let uf={};function cf(){return uf}function df(e,t){const n=cf(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=rf(e),s=a.getDay(),i=(s<r?7:0)+s-r;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function pf(e){return df(e,{weekStartsOn:1})}function hf(e){const t=rf(e),n=t.getFullYear(),r=af(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const a=pf(r),s=af(e,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const i=pf(s);return t.getTime()>=a.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function ff(e){const t=rf(e);return t.setHours(0,0,0,0),t}function mf(e){const t=rf(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function gf(e,t){const n=ff(e),r=ff(t),a=+n-mf(n),s=+r-mf(r);return Math.round((a-s)/864e5)}function yf(e){if(!(t=e,t instanceof Date||"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t)||"number"==typeof e))return!1;var t;const n=rf(e);return!isNaN(Number(n))}const vf={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function bf(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const xf={date:bf({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:bf({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:bf({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},wf={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function kf(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,a=n?.width?String(n.width):t;r=e.formattingValues[a]||e.formattingValues[t]}else{const t=e.defaultWidth,a=n?.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function Sf(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const i=s[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(o,e=>e.test(i)):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(o,e=>e.test(i));let u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;return{value:u,rest:t.slice(i.length)}}}function _f(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],s=t.match(e.parsePattern);if(!s)return null;let i=e.valueCallback?e.valueCallback(s[0]):s[0];i=n.valueCallback?n.valueCallback(i):i;return{value:i,rest:t.slice(a.length)}}}const Tf={code:"en-US",formatDistance:(e,t,n)=>{let r;const a=vf[e];return r="string"==typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:xf,formatRelative:(e,t,n,r)=>wf[e],localize:{ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:kf({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:kf({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:kf({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:kf({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:kf({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:_f({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:Sf({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Sf({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Sf({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Sf({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Sf({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ef(e){const t=rf(e),n=gf(t,function(e){const t=rf(e),n=af(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}(t));return n+1}function Cf(e){const t=rf(e),n=+pf(t)-+function(e){const t=hf(e),n=af(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),pf(n)}(t);return Math.round(n/sf)+1}function Pf(e,t){const n=rf(e),r=n.getFullYear(),a=cf(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,i=af(e,0);i.setFullYear(r+1,0,s),i.setHours(0,0,0,0);const o=df(i,t),l=af(e,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const u=df(l,t);return n.getTime()>=o.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function Nf(e,t){const n=rf(e),r=+df(n,t)-+function(e,t){const n=cf(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=Pf(e,t),s=af(e,0);return s.setFullYear(a,0,r),s.setHours(0,0,0,0),df(s,t)}(n,t);return Math.round(r/sf)+1}function jf(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const Af={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return jf("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):jf(n+1,2)},d:(e,t)=>jf(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>jf(e.getHours()%12||12,t.length),H:(e,t)=>jf(e.getHours(),t.length),m:(e,t)=>jf(e.getMinutes(),t.length),s:(e,t)=>jf(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return jf(Math.trunc(r*Math.pow(10,n-3)),t.length)}},If="midnight",Rf="noon",Mf="morning",Of="afternoon",Lf="evening",Df="night",Ff={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return Af.y(e,t)},Y:function(e,t,n,r){const a=Pf(e,r),s=a>0?a:1-a;if("YY"===t){return jf(s%100,2)}return"Yo"===t?n.ordinalNumber(s,{unit:"year"}):jf(s,t.length)},R:function(e,t){return jf(hf(e),t.length)},u:function(e,t){return jf(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return jf(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return jf(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Af.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return jf(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=Nf(e,r);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):jf(a,t.length)},I:function(e,t,n){const r=Cf(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):jf(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):Af.d(e,t)},D:function(e,t,n){const r=Ef(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):jf(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return jf(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return jf(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=0===r?7:r;switch(t){case"i":return String(a);case"ii":return jf(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(a=12===r?Rf:0===r?If:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(a=r>=17?Lf:r>=12?Of:r>=4?Mf:Df,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return Af.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):Af.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):jf(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):jf(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Af.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Af.s(e,t)},S:function(e,t){return Af.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return Vf(r);case"XXXX":case"XX":return zf(r);default:return zf(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Vf(r);case"xxxx":case"xx":return zf(r);default:return zf(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+$f(r,":");default:return"GMT"+zf(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+$f(r,":");default:return"GMT"+zf(r,":")}},t:function(e,t,n){return jf(Math.trunc(e.getTime()/1e3),t.length)},T:function(e,t,n){return jf(e.getTime(),t.length)}};function $f(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),s=r%60;return 0===s?n+String(a):n+String(a)+t+jf(s,2)}function Vf(e,t){if(e%60==0){return(e>0?"-":"+")+jf(Math.abs(e)/60,2)}return zf(e,t)}function zf(e,t=""){const n=e>0?"-":"+",r=Math.abs(e);return n+jf(Math.trunc(r/60),2)+t+jf(r%60,2)}const Uf=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Bf=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Wf={p:Bf,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return Uf(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"})}return s.replace("{{date}}",Uf(r,t)).replace("{{time}}",Bf(a,t))}},Hf=/^D+$/,qf=/^Y+$/,Zf=["D","DD","YY","YYYY"];const Kf=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Yf=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Jf=/^'([^]*?)'?$/,Gf=/''/g,Xf=/[a-zA-Z]/;function Qf(e,t,n){const r=cf(),a=n?.locale??r.locale??Tf,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=rf(e);if(!yf(o))throw new RangeError("Invalid time value");let l=t.match(Yf).map(e=>{const t=e[0];if("p"===t||"P"===t){return(0,Wf[t])(e,a.formatLong)}return e}).join("").match(Kf).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:em(e)};if(Ff[t])return{isToken:!0,value:e};if(t.match(Xf))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});a.localize.preprocessor&&(l=a.localize.preprocessor(o,l));const u={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return l.map(r=>{if(!r.isToken)return r.value;const s=r.value;(!n?.useAdditionalWeekYearTokens&&function(e){return qf.test(e)}(s)||!n?.useAdditionalDayOfYearTokens&&function(e){return Hf.test(e)}(s))&&function(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(Zf.includes(e))throw new RangeError(r)}(s,t,String(e));return(0,Ff[s[0]])(o,s,a.localize,u)}).join("")}function em(e){const t=e.match(Jf);return t?t[1].replace(Gf,"'"):e}function tm(e,t){const n=rf(e);if(isNaN(n.getTime()))throw new RangeError("Invalid time value");const r=t?.format??"extended",a=t?.representation??"complete";let s="",i="";const o="extended"===r?"-":"",l="extended"===r?":":"";if("time"!==a){const e=jf(n.getDate(),2),t=jf(n.getMonth()+1,2);s=`${jf(n.getFullYear(),4)}${o}${t}${o}${e}`}if("date"!==a){const e=n.getTimezoneOffset();if(0!==e){const t=Math.abs(e);i=`${e<0?"+":"-"}${jf(Math.trunc(t/60),2)}:${jf(t%60,2)}`}else i="Z";s=`${s}${""===s?"":"T"}${[jf(n.getHours(),2),jf(n.getMinutes(),2),jf(n.getSeconds(),2)].join(l)}${i}`}return s}function nm(e,t){const n=function(e){const t={},n=e.split(rm.dateTimeDelimiter);let r;if(n.length>2)return t;/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],rm.timeZoneDelimiter.test(t.date)&&(t.date=e.split(rm.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length)));if(r){const e=rm.timezone.exec(r);e?(t.time=r.replace(e[1],""),t.timezone=e[1]):t.time=r}return t}(e);let r;if(n.date){const e=function(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:null===s?a:100*s,restDateString:e.slice((r[1]||r[2]).length)}}(n.date,2);r=function(e,t){if(null===t)return new Date(NaN);const n=e.match(am);if(!n)return new Date(NaN);const r=!!n[4],a=om(n[1]),s=om(n[2])-1,i=om(n[3]),o=om(n[4]),l=om(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,o,l)?function(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const a=r.getUTCDay()||7,s=7*(t-1)+n+1-a;return r.setUTCDate(r.getUTCDate()+s),r}(t,o,l):new Date(NaN);{const e=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(um[t]||(cm(e)?29:28))}(t,s,i)&&function(e,t){return t>=1&&t<=(cm(e)?366:365)}(t,a)?(e.setUTCFullYear(t,s,Math.max(a,i)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!r||isNaN(r.getTime()))return new Date(NaN);const a=r.getTime();let s,i=0;if(n.time&&(i=function(e){const t=e.match(sm);if(!t)return NaN;const n=lm(t[1]),r=lm(t[2]),a=lm(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,a))return NaN;return n*lf+r*of+1e3*a}(n.time),isNaN(i)))return new Date(NaN);if(!n.timezone){const e=new Date(a+i),t=new Date(0);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}return s=function(e){if("Z"===e)return 0;const t=e.match(im);if(!t)return 0;const n="+"===t[1]?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,a))return NaN;return n*(r*lf+a*of)}(n.timezone),isNaN(s)?new Date(NaN):new Date(a+i+s)}const rm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},am=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,sm=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,im=/^([+-])(\d{2})(?::?(\d{2}))?$/;function om(e){return e?parseInt(e):1}function lm(e){return e&&parseFloat(e.replace(",","."))||0}const um=[31,null,31,30,31,30,31,31,30,31,30,31];function cm(e){return e%400==0||e%4==0&&e%100!=0}const dm={lessThanXSeconds:{one:"不到 1 秒",other:"不到 {{count}} 秒"},xSeconds:{one:"1 秒",other:"{{count}} 秒"},halfAMinute:"半分钟",lessThanXMinutes:{one:"不到 1 分钟",other:"不到 {{count}} 分钟"},xMinutes:{one:"1 分钟",other:"{{count}} 分钟"},xHours:{one:"1 小时",other:"{{count}} 小时"},aboutXHours:{one:"大约 1 小时",other:"大约 {{count}} 小时"},xDays:{one:"1 天",other:"{{count}} 天"},aboutXWeeks:{one:"大约 1 个星期",other:"大约 {{count}} 个星期"},xWeeks:{one:"1 个星期",other:"{{count}} 个星期"},aboutXMonths:{one:"大约 1 个月",other:"大约 {{count}} 个月"},xMonths:{one:"1 个月",other:"{{count}} 个月"},aboutXYears:{one:"大约 1 年",other:"大约 {{count}} 年"},xYears:{one:"1 年",other:"{{count}} 年"},overXYears:{one:"超过 1 年",other:"超过 {{count}} 年"},almostXYears:{one:"将近 1 年",other:"将近 {{count}} 年"}},pm={date:bf({formats:{full:"y'年'M'月'd'日' EEEE",long:"y'年'M'月'd'日'",medium:"yyyy-MM-dd",short:"yy-MM-dd"},defaultWidth:"full"}),time:bf({formats:{full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},defaultWidth:"full"}),dateTime:bf({formats:{full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})};function hm(e,t,n){const r="eeee p";return function(e,t,n){return+df(e,n)===+df(t,n)}(e,t,n)?r:e.getTime()>t.getTime()?"'下个'"+r:"'上个'"+r}const fm={lastWeek:hm,yesterday:"'昨天' p",today:"'今天' p",tomorrow:"'明天' p",nextWeek:hm,other:"PP p"},mm={code:"zh-CN",formatDistance:(e,t,n)=>{let r;const a=dm[e];return r="string"==typeof a?a:1===t?a.one:a.other.replace("{{count}}",String(t)),n?.addSuffix?n.comparison&&n.comparison>0?r+"内":r+"前":r},formatLong:pm,formatRelative:(e,t,n,r)=>{const a=fm[e];return"function"==typeof a?a(t,n,r):a},localize:{ordinalNumber:(e,t)=>{const n=Number(e);switch(t?.unit){case"date":return n.toString()+"日";case"hour":return n.toString()+"时";case"minute":return n.toString()+"分";case"second":return n.toString()+"秒";default:return"第 "+n.toString()}},era:kf({values:{narrow:["前","公元"],abbreviated:["前","公元"],wide:["公元前","公元"]},defaultWidth:"wide"}),quarter:kf({values:{narrow:["1","2","3","4"],abbreviated:["第一季","第二季","第三季","第四季"],wide:["第一季度","第二季度","第三季度","第四季度"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:kf({values:{narrow:["一","二","三","四","五","六","七","八","九","十","十一","十二"],abbreviated:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],wide:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},defaultWidth:"wide"}),day:kf({values:{narrow:["日","一","二","三","四","五","六"],short:["日","一","二","三","四","五","六"],abbreviated:["周日","周一","周二","周三","周四","周五","周六"],wide:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},defaultWidth:"wide"}),dayPeriod:kf({values:{narrow:{am:"上",pm:"下",midnight:"凌晨",noon:"午",morning:"早",afternoon:"下午",evening:"晚",night:"夜"},abbreviated:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"},wide:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"}},defaultWidth:"wide",formattingValues:{narrow:{am:"上",pm:"下",midnight:"凌晨",noon:"午",morning:"早",afternoon:"下午",evening:"晚",night:"夜"},abbreviated:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"},wide:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:_f({matchPattern:/^(第\s*)?\d+(日|时|分|秒)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:Sf({matchPatterns:{narrow:/^(前)/i,abbreviated:/^(前)/i,wide:/^(公元前|公元)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^(前)/i,/^(公元)/i]},defaultParseWidth:"any"}),quarter:Sf({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^第[一二三四]刻/i,wide:/^第[一二三四]刻钟/i},defaultMatchWidth:"wide",parsePatterns:{any:[/(1|一)/i,/(2|二)/i,/(3|三)/i,/(4|四)/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Sf({matchPatterns:{narrow:/^(一|二|三|四|五|六|七|八|九|十[二一])/i,abbreviated:/^(一|二|三|四|五|六|七|八|九|十[二一]|\d|1[12])月/i,wide:/^(一|二|三|四|五|六|七|八|九|十[二一])月/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^一/i,/^二/i,/^三/i,/^四/i,/^五/i,/^六/i,/^七/i,/^八/i,/^九/i,/^十(?!(一|二))/i,/^十一/i,/^十二/i],any:[/^一|1/i,/^二|2/i,/^三|3/i,/^四|4/i,/^五|5/i,/^六|6/i,/^七|7/i,/^八|8/i,/^九|9/i,/^十(?!(一|二))|10/i,/^十一|11/i,/^十二|12/i]},defaultParseWidth:"any"}),day:Sf({matchPatterns:{narrow:/^[一二三四五六日]/i,short:/^[一二三四五六日]/i,abbreviated:/^周[一二三四五六日]/i,wide:/^星期[一二三四五六日]/i},defaultMatchWidth:"wide",parsePatterns:{any:[/日/i,/一/i,/二/i,/三/i,/四/i,/五/i,/六/i]},defaultParseWidth:"any"}),dayPeriod:Sf({matchPatterns:{any:/^(上午?|下午?|午夜|[中正]午|早上?|下午|晚上?|凌晨|)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^上午?/i,pm:/^下午?/i,midnight:/^午夜/i,noon:/^[中正]午/i,morning:/^早上/i,afternoon:/^下午/i,evening:/^晚上?/i,night:/^凌晨/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:4}},gm=()=>{const{i18n:e,t:t}=St(),n=e.language.startsWith("zh")?"zh-CN":"en";return J.jsxs("label",{className:"flex flex-col items-start text-left text-xs",children:[J.jsx("span",{className:"mb-1 uppercase tracking-wide text-ink-400",children:t("language.label")}),J.jsxs("select",{value:n,onChange:t=>{e.changeLanguage(t.target.value)},className:"rounded-full border border-ink-700 bg-ink-900/70 px-3 py-1.5 text-xs font-medium text-ink-100 outline-none transition focus:border-primary-400",children:[J.jsx("option",{value:"en",children:t("language.en")}),J.jsx("option",{value:"zh-CN",children:t("language.zh")})]})]})},ym=e=>{let t;const n=new Set,r=(e,r)=>{const a="function"==typeof e?e(t):e;if(!Object.is(a,t)){const e=t;t=(null!=r?r:"object"!=typeof a||null===a)?a:Object.assign({},t,a),n.forEach(n=>n(t,e))}},a=()=>t,s={setState:r,getState:a,getInitialState:()=>i,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{n.clear()}},i=t=e(r,a,s);return s};var vm={exports:{}},bm={},xm={exports:{}},wm={},km=V;var Sm="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},_m=km.useState,Tm=km.useEffect,Em=km.useLayoutEffect,Cm=km.useDebugValue;function Pm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Sm(e,n)}catch(r){return!0}}var Nm="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=_m({inst:{value:n,getSnapshot:t}}),a=r[0].inst,s=r[1];return Em(function(){a.value=n,a.getSnapshot=t,Pm(a)&&s({inst:a})},[e,n,t]),Tm(function(){return Pm(a)&&s({inst:a}),e(function(){Pm(a)&&s({inst:a})})},[e]),Cm(n),n};wm.useSyncExternalStore=void 0!==km.useSyncExternalStore?km.useSyncExternalStore:Nm,xm.exports=wm;var jm=xm.exports,Am=V,Im=jm;
/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Mm=Im.useSyncExternalStore,Om=Am.useRef,Lm=Am.useEffect,Dm=Am.useMemo,Fm=Am.useDebugValue;bm.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var s=Om(null);if(null===s.current){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=Dm(function(){function e(e){if(!l){if(l=!0,s=e,e=r(e),void 0!==a&&i.hasValue){var t=i.value;if(a(t,e))return o=t}return o=e}if(t=o,Rm(s,e))return t;var n=r(e);return void 0!==a&&a(t,n)?(s=e,t):(s=e,o=n)}var s,o,l=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,n,r,a]);var o=Mm(e,s[0],s[1]);return Lm(function(){i.hasValue=!0,i.value=o},[o]),Fm(o),o},vm.exports=bm;const $m=t(vm.exports),Vm={},{useDebugValue:zm}=z,{useSyncExternalStoreWithSelector:Um}=$m;let Bm=!1;const Wm=e=>e;const Hm=e=>{const t="function"==typeof e?(e=>e?ym(e):ym)(e):e,n=(e,n)=>function(e,t=Wm,n){"production"!==(Vm?"production":void 0)&&n&&!Bm&&(Bm=!0);const r=Um(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return zm(r),r}(t,e,n);return Object.assign(n,t),n};function qm(e,t){let n;try{n=e()}catch(r){return}return{getItem:e=>{var t;const r=e=>null===e?null:JSON.parse(e,void 0),a=null!=(t=n.getItem(e))?t:null;return a instanceof Promise?a.then(r):r(a)},setItem:(e,t)=>n.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>n.removeItem(e)}}const Zm=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then:e=>Zm(e)(n),catch(e){return this}}}catch(GI){return{then(e){return this},catch:t=>Zm(t)(GI)}}},Km=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((e,t)=>(n,r,a)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},i=!1;const o=new Set,l=new Set;let u;try{u=s.getStorage()}catch(g){}if(!u)return e((...e)=>{n(...e)},r,a);const c=Zm(s.serialize),d=()=>{const e=s.partialize({...r()});let t;const n=c({state:e,version:s.version}).then(e=>u.setItem(s.name,e)).catch(e=>{t=e});if(t)throw t;return n},p=a.setState;a.setState=(e,t)=>{p(e,t),d()};const h=e((...e)=>{n(...e),d()},r,a);let f;const m=()=>{var e;if(!u)return;i=!1,o.forEach(e=>e(r()));const t=(null==(e=s.onRehydrateStorage)?void 0:e.call(s,r()))||void 0;return Zm(u.getItem.bind(u))(s.name).then(e=>{if(e)return s.deserialize(e)}).then(e=>{if(e){if("number"!=typeof e.version||e.version===s.version)return e.state;if(s.migrate)return s.migrate(e.state,e.version)}}).then(e=>{var t;return f=s.merge(e,null!=(t=r())?t:h),n(f,!0),d()}).then(()=>{null==t||t(f,void 0),i=!0,l.forEach(e=>e(f))}).catch(e=>{null==t||t(void 0,e)})};return a.persist={setOptions:e=>{s={...s,...e},e.getStorage&&(u=e.getStorage())},clearStorage:()=>{null==u||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>m(),hasHydrated:()=>i,onHydrate:e=>(o.add(e),()=>{o.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},m(),f||h})(e,t):((e,t)=>(n,r,a)=>{let s={storage:qm(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},i=!1;const o=new Set,l=new Set;let u=s.storage;if(!u)return e((...e)=>{n(...e)},r,a);const c=()=>{const e=s.partialize({...r()});return u.setItem(s.name,{state:e,version:s.version})},d=a.setState;a.setState=(e,t)=>{d(e,t),c()};const p=e((...e)=>{n(...e),c()},r,a);let h;a.getInitialState=()=>p;const f=()=>{var e,t;if(!u)return;i=!1,o.forEach(e=>{var t;return e(null!=(t=r())?t:p)});const a=(null==(t=s.onRehydrateStorage)?void 0:t.call(s,null!=(e=r())?e:p))||void 0;return Zm(u.getItem.bind(u))(s.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===s.version)return[!1,e.state];if(s.migrate)return[!0,s.migrate(e.state,e.version)]}return[!1,void 0]}).then(e=>{var t;const[a,i]=e;if(h=s.merge(i,null!=(t=r())?t:p),n(h,!0),a)return c()}).then(()=>{null==a||a(h,void 0),h=r(),i=!0,l.forEach(e=>e(h))}).catch(e=>{null==a||a(void 0,e)})};return a.persist={setOptions:e=>{s={...s,...e},e.storage&&(u=e.storage)},clearStorage:()=>{null==u||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>f(),hasHydrated:()=>i,onHydrate:e=>(o.add(e),()=>{o.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},s.skipHydration||f(),h||p})(e,t);var Ym,Jm="vercel.ai.error",Gm=Symbol.for(Jm),Xm=class e extends Error{constructor({name:e,message:t,cause:n}){super(t),this[Ym]=!0,this.name=e,this.cause=n}static isInstance(t){return e.hasMarker(t,Jm)}static hasMarker(e,t){const n=Symbol.for(t);return null!=e&&"object"==typeof e&&n in e&&"boolean"==typeof e[n]&&!0===e[n]}};Ym=Gm;var Qm,eg=Xm,tg="AI_APICallError",ng=`vercel.ai.error.${tg}`,rg=Symbol.for(ng),ag=class extends eg{constructor({message:e,url:t,requestBodyValues:n,statusCode:r,responseHeaders:a,responseBody:s,cause:i,isRetryable:o=null!=r&&(408===r||409===r||429===r||r>=500),data:l}){super({name:tg,message:e,cause:i}),this[Qm]=!0,this.url=t,this.requestBodyValues=n,this.statusCode=r,this.responseHeaders=a,this.responseBody=s,this.isRetryable=o,this.data=l}static isInstance(e){return eg.hasMarker(e,ng)}};Qm=rg;var sg,ig="AI_EmptyResponseBodyError",og=`vercel.ai.error.${ig}`,lg=Symbol.for(og),ug=class extends eg{constructor({message:e="Empty response body"}={}){super({name:ig,message:e}),this[sg]=!0}static isInstance(e){return eg.hasMarker(e,og)}};function cg(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}sg=lg;var dg,pg="AI_InvalidArgumentError",hg=`vercel.ai.error.${pg}`,fg=Symbol.for(hg),mg=class extends eg{constructor({message:e,cause:t,argument:n}){super({name:pg,message:e,cause:t}),this[dg]=!0,this.argument=n}static isInstance(e){return eg.hasMarker(e,hg)}};dg=fg;var gg,yg="AI_InvalidPromptError",vg=`vercel.ai.error.${yg}`,bg=Symbol.for(vg),xg=class extends eg{constructor({prompt:e,message:t,cause:n}){super({name:yg,message:`Invalid prompt: ${t}`,cause:n}),this[gg]=!0,this.prompt=e}static isInstance(e){return eg.hasMarker(e,vg)}};gg=bg;var wg,kg="AI_InvalidResponseDataError",Sg=`vercel.ai.error.${kg}`,_g=Symbol.for(Sg),Tg=class extends eg{constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:kg,message:t}),this[wg]=!0,this.data=e}static isInstance(e){return eg.hasMarker(e,Sg)}};wg=_g;var Eg,Cg="AI_JSONParseError",Pg=`vercel.ai.error.${Cg}`,Ng=Symbol.for(Pg),jg=class extends eg{constructor({text:e,cause:t}){super({name:Cg,message:`JSON parsing failed: Text: ${e}.\nError message: ${cg(t)}`,cause:t}),this[Eg]=!0,this.text=e}static isInstance(e){return eg.hasMarker(e,Pg)}};Eg=Ng;var Ag,Ig="AI_LoadAPIKeyError",Rg=`vercel.ai.error.${Ig}`,Mg=Symbol.for(Rg),Og=class extends eg{constructor({message:e}){super({name:Ig,message:e}),this[Ag]=!0}static isInstance(e){return eg.hasMarker(e,Rg)}};Ag=Mg;var Lg,Dg="AI_TooManyEmbeddingValuesForCallError",Fg=`vercel.ai.error.${Dg}`,$g=Symbol.for(Fg),Vg=class extends eg{constructor(e){super({name:Dg,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[Lg]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return eg.hasMarker(e,Fg)}};Lg=$g;var zg,Ug="AI_TypeValidationError",Bg=`vercel.ai.error.${Ug}`,Wg=Symbol.for(Bg);zg=Wg;var Hg,qg=class e extends eg{constructor({value:e,cause:t}){super({name:Ug,message:`Type validation failed: Value: ${JSON.stringify(e)}.\nError message: ${cg(t)}`,cause:t}),this[zg]=!0,this.value=e}static isInstance(e){return eg.hasMarker(e,Bg)}static wrap({value:t,cause:n}){return e.isInstance(n)&&n.value===t?n:new e({value:t,cause:n})}},Zg="AI_UnsupportedFunctionalityError",Kg=`vercel.ai.error.${Zg}`,Yg=Symbol.for(Kg),Jg=class extends eg{constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:Zg,message:t}),this[Hg]=!0,this.functionality=e}static isInstance(e){return eg.hasMarker(e,Kg)}};function Gg(e){return null===e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||(Array.isArray(e)?e.every(Gg):"object"==typeof e&&Object.entries(e).every(([e,t])=>"string"==typeof e&&Gg(t)))}function Xg(e){return Array.isArray(e)&&e.every(Gg)}function Qg(e){return null!=e&&"object"==typeof e&&Object.entries(e).every(([e,t])=>"string"==typeof e&&Gg(t))}Hg=Yg;var ey={exports:{}};const ty="undefined"!=typeof Buffer,ny=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,ry=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function ay(e,t,n){null==n&&null!==t&&"object"==typeof t&&(n=t,t=void 0),ty&&Buffer.isBuffer(e)&&(e=e.toString()),e&&65279===e.charCodeAt(0)&&(e=e.slice(1));const r=JSON.parse(e,t);if(null===r||"object"!=typeof r)return r;const a=n&&n.protoAction||"error",s=n&&n.constructorAction||"error";if("ignore"===a&&"ignore"===s)return r;if("ignore"!==a&&"ignore"!==s){if(!1===ny.test(e)&&!1===ry.test(e))return r}else if("ignore"!==a&&"ignore"===s){if(!1===ny.test(e))return r}else if(!1===ry.test(e))return r;return sy(r,{protoAction:a,constructorAction:s,safe:n&&n.safe})}function sy(e,{protoAction:t="error",constructorAction:n="error",safe:r}={}){let a=[e];for(;a.length;){const e=a;a=[];for(const s of e){if("ignore"!==t&&Object.prototype.hasOwnProperty.call(s,"__proto__")){if(!0===r)return null;if("error"===t)throw new SyntaxError("Object contains forbidden prototype property");delete s.__proto__}if("ignore"!==n&&Object.prototype.hasOwnProperty.call(s,"constructor")&&Object.prototype.hasOwnProperty.call(s.constructor,"prototype")){if(!0===r)return null;if("error"===n)throw new SyntaxError("Object contains forbidden prototype property");delete s.constructor}for(const e in s){const t=s[e];t&&"object"==typeof t&&a.push(t)}}}return e}function iy(e,t,n){const r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return ay(e,t,n)}finally{Error.stackTraceLimit=r}}ey.exports=iy,ey.exports.default=iy,ey.exports.parse=iy,ey.exports.safeParse=function(e,t){const n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return ay(e,t,{safe:!0})}catch(r){return null}finally{Error.stackTraceLimit=n}},ey.exports.scan=sy;const oy=t(ey.exports);var ly={};function uy(...e){return e.reduce((e,t)=>({...e,...null!=t?t:{}}),{})}function cy(){let e,t,n,r="",a=[];function s(e,t){if(""===e)return void i(t);if(e.startsWith(":"))return;const n=e.indexOf(":");if(-1===n)return void o(e,"");const r=n+1;o(e.slice(0,n),r<e.length&&" "===e[r]?e.slice(r+1):e.slice(r))}function i(r){a.length>0&&(r.enqueue({event:e,data:a.join("\n"),id:t,retry:n}),a=[],e=void 0,n=void 0)}function o(r,s){switch(r){case"event":e=s;break;case"data":a.push(s);break;case"id":t=s;break;case"retry":const r=parseInt(s,10);isNaN(r)||(n=r)}}return new TransformStream({transform(e,t){const{lines:n,incompleteLine:a}=function(e,t){const n=[];let r=e;for(let a=0;a<t.length;){const e=t[a++];"\n"===e?(n.push(r),r=""):"\r"===e?(n.push(r),r="","\n"===t[a]&&a++):r+=e}return{lines:n,incompleteLine:r}}(r,e);r=a;for(let r=0;r<n.length;r++)s(n[r],t)},flush(e){s(r,e),i(e)}})}function dy(e){const t={};return e.headers.forEach((e,n)=>{t[n]=e}),t}var py=({prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const a=((e,t=21)=>(n=t)=>{let r="",a=0|n;for(;a--;)r+=e[Math.random()*e.length|0];return r})(n,t);if(null==e)return a;if(n.includes(r))throw new mg({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${n}".`});return t=>`${e}${r}${a(t)}`},hy=py();function fy(e){return e instanceof Error&&("AbortError"===e.name||"TimeoutError"===e.name)}function my({apiKey:e,environmentVariableName:t,apiKeyParameterName:n="apiKey",description:r}){if("string"==typeof e)return e;if(null!=e)throw new Og({message:`${r} API key must be a string.`});if("undefined"==typeof process)throw new Og({message:`${r} API key is missing. Pass it using the '${n}' parameter. Environment variables is not supported in this environment.`});if(null==(e=ly[t]))throw new Og({message:`${r} API key is missing. Pass it using the '${n}' parameter or the ${t} environment variable.`});if("string"!=typeof e)throw new Og({message:`${r} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}var gy=Symbol.for("vercel.ai.validator");function yy(e){return function(e){return"object"==typeof e&&null!==e&&gy in e&&!0===e[gy]&&"validate"in e}(e)?e:(t=e,n=e=>{const n=t.safeParse(e);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}},{[gy]:!0,validate:n});var t,n}function vy({value:e,schema:t}){const n=yy(t);try{if(null==n.validate)return{success:!0,value:e};const t=n.validate(e);return t.success?t:{success:!1,error:qg.wrap({value:e,cause:t.error})}}catch(r){return{success:!1,error:qg.wrap({value:e,cause:r})}}}function by({text:e,schema:t}){try{const n=oy.parse(e);return null==t?n:function({value:e,schema:t}){const n=vy({value:e,schema:t});if(!n.success)throw qg.wrap({value:e,cause:n.error});return n.value}({value:n,schema:t})}catch(n){if(jg.isInstance(n)||qg.isInstance(n))throw n;throw new jg({text:e,cause:n})}}function xy({text:e,schema:t}){try{const n=oy.parse(e);if(null==t)return{success:!0,value:n,rawValue:n};const r=vy({value:n,schema:t});return r.success?{...r,rawValue:n}:r}catch(n){return{success:!1,error:jg.isInstance(n)?n:new jg({text:e,cause:n})}}}function wy(e){try{return oy.parse(e),!0}catch(GI){return!1}}function ky({provider:e,providerOptions:t,schema:n}){if(null==(null==t?void 0:t[e]))return;const r=vy({value:t[e],schema:n});if(!r.success)throw new mg({argument:"providerOptions",message:`invalid ${e} provider options`,cause:r.error});return r.value}var Sy=()=>globalThis.fetch,_y=async({url:e,headers:t,body:n,failedResponseHandler:r,successfulResponseHandler:a,abortSignal:s,fetch:i})=>Ty({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(n),values:n},failedResponseHandler:r,successfulResponseHandler:a,abortSignal:s,fetch:i}),Ty=async({url:e,headers:t={},body:n,successfulResponseHandler:r,failedResponseHandler:a,abortSignal:s,fetch:i=Sy()})=>{try{const u=await i(e,{method:"POST",headers:(o=t,Object.fromEntries(Object.entries(o).filter(([e,t])=>null!=t))),body:n.content,signal:s}),c=dy(u);if(!u.ok){let t;try{t=await a({response:u,url:e,requestBodyValues:n.values})}catch(l){if(fy(l)||ag.isInstance(l))throw l;throw new ag({message:"Failed to process error response",cause:l,statusCode:u.status,url:e,responseHeaders:c,requestBodyValues:n.values})}throw t.value}try{return await r({response:u,url:e,requestBodyValues:n.values})}catch(l){if(l instanceof Error&&(fy(l)||ag.isInstance(l)))throw l;throw new ag({message:"Failed to process successful response",cause:l,statusCode:u.status,url:e,responseHeaders:c,requestBodyValues:n.values})}}catch(l){if(fy(l))throw l;if(l instanceof TypeError&&"fetch failed"===l.message){const t=l.cause;if(null!=t)throw new ag({message:`Cannot connect to API: ${t.message}`,cause:t,url:e,requestBodyValues:n.values,isRetryable:!0})}throw l}var o},Ey=e=>async({response:t})=>{const n=dy(t);if(null==t.body)throw new ug({});return{responseHeaders:n,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(cy()).pipeThrough(new TransformStream({transform({data:t},n){"[DONE]"!==t&&n.enqueue(xy({text:t,schema:e}))}}))}},Cy=e=>async({response:t,url:n,requestBodyValues:r})=>{const a=await t.text(),s=xy({text:a,schema:e}),i=dy(t);if(!s.success)throw new ag({message:"Invalid JSON response",cause:s.error,statusCode:t.status,responseHeaders:i,responseBody:a,url:n,requestBodyValues:r});return{responseHeaders:i,value:s.value,rawValue:s.rawValue}},{btoa:Py,atob:Ny}=globalThis;function jy(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=Ny(t);return Uint8Array.from(n,e=>e.codePointAt(0))}function Ay(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCodePoint(e[n]);return Py(t)}const Iy=Symbol("Let zodToJsonSchema decide on which parser to use"),Ry={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},My=e=>{const t=(e=>"string"==typeof e?{...Ry,name:e}:{...Ry,...e})(e),n=void 0!==t.name?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,flags:{hasReferencedOpenAiAnyType:!1},currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([e,n])=>[n._def,{def:n._def,path:[...t.basePath,t.definitionPath,e],jsonSchema:void 0}]))}};function Oy(e,t,n,r){r?.errorMessages&&n&&(e.errorMessage={...e.errorMessage,[t]:n})}function Ly(e,t,n,r,a){e[t]=n,Oy(e,t,r,a)}const Dy=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")};var Fy,$y,Vy;($y=Fy||(Fy={})).assertEqual=e=>{},$y.assertIs=function(e){},$y.assertNever=function(e){throw new Error},$y.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},$y.getValidEnumValues=e=>{const t=$y.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),n={};for(const r of t)n[r]=e[r];return $y.objectValues(n)},$y.objectValues=e=>$y.objectKeys(e).map(function(t){return e[t]}),$y.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},$y.find=(e,t)=>{for(const n of e)if(t(n))return n},$y.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,$y.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},$y.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(Vy||(Vy={})).mergeShapes=(e,t)=>({...e,...t});const zy=Fy.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Uy=e=>{switch(typeof e){case"undefined":return zy.undefined;case"string":return zy.string;case"number":return Number.isNaN(e)?zy.nan:zy.number;case"boolean":return zy.boolean;case"function":return zy.function;case"bigint":return zy.bigint;case"symbol":return zy.symbol;case"object":return Array.isArray(e)?zy.array:null===e?zy.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?zy.promise:"undefined"!=typeof Map&&e instanceof Map?zy.map:"undefined"!=typeof Set&&e instanceof Set?zy.set:"undefined"!=typeof Date&&e instanceof Date?zy.date:zy.object;default:return zy.unknown}},By=Fy.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Wy extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(r);else if("invalid_return_type"===a.code)r(a.returnTypeError);else if("invalid_arguments"===a.code)r(a.argumentsError);else if(0===a.path.length)n._errors.push(t(a));else{let e=n,r=0;for(;r<a.path.length;){const n=a.path[r];r===a.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(a))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof Wy))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Fy.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const t={},n=[];for(const r of this.issues)if(r.path.length>0){const n=r.path[0];t[n]=t[n]||[],t[n].push(e(r))}else n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}Wy.create=e=>new Wy(e);const Hy=(e,t)=>{let n;switch(e.code){case By.invalid_type:n=e.received===zy.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case By.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Fy.jsonStringifyReplacer)}`;break;case By.unrecognized_keys:n=`Unrecognized key(s) in object: ${Fy.joinValues(e.keys,", ")}`;break;case By.invalid_union:n="Invalid input";break;case By.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Fy.joinValues(e.options)}`;break;case By.invalid_enum_value:n=`Invalid enum value. Expected ${Fy.joinValues(e.options)}, received '${e.received}'`;break;case By.invalid_arguments:n="Invalid function arguments";break;case By.invalid_return_type:n="Invalid function return type";break;case By.invalid_date:n="Invalid date";break;case By.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Fy.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case By.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case By.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case By.custom:n="Invalid input";break;case By.invalid_intersection_types:n="Intersection results could not be merged";break;case By.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case By.not_finite:n="Number must be finite";break;default:n=t.defaultError,Fy.assertNever(e)}return{message:n}};let qy=Hy;function Zy(e,t){const n=qy,r=(e=>{const{data:t,path:n,errorMaps:r,issueData:a}=e,s=[...n,...a.path||[]],i={...a,path:s};if(void 0!==a.message)return{...a,path:s,message:a.message};let o="";const l=r.filter(e=>!!e).slice().reverse();for(const u of l)o=u(i,{data:t,defaultError:o}).message;return{...a,path:s,message:o}})({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Hy?void 0:Hy].filter(e=>!!e)});e.common.issues.push(r)}class Ky{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return Yy;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const r of t){const e=await r.key,t=await r.value;n.push({key:e,value:t})}return Ky.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:a}=r;if("aborted"===t.status)return Yy;if("aborted"===a.status)return Yy;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"===t.value||void 0===a.value&&!r.alwaysSet||(n[t.value]=a.value)}return{status:e.value,value:n}}}const Yy=Object.freeze({status:"aborted"}),Jy=e=>({status:"dirty",value:e}),Gy=e=>({status:"valid",value:e}),Xy=e=>"aborted"===e.status,Qy=e=>"dirty"===e.status,ev=e=>"valid"===e.status,tv=e=>"undefined"!=typeof Promise&&e instanceof Promise;var nv,rv;(rv=nv||(nv={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},rv.toString=e=>"string"==typeof e?e:e?.message;class av{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const sv=(e,t)=>{if(ev(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Wy(e.common.issues);return this._error=t,this._error}}};function iv(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:a};return{errorMap:(t,a)=>{const{message:s}=e;return"invalid_enum_value"===t.code?{message:s??a.defaultError}:void 0===a.data?{message:s??r??a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:s??n??a.defaultError}},description:a}}class ov{get description(){return this._def.description}_getType(e){return Uy(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Uy(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ky,ctx:{common:e.parent.common,data:e.data,parsedType:Uy(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(tv(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){const n={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Uy(e)},r=this._parseSync({data:e,path:n.path,parent:n});return sv(n,r)}"~validate"(e){const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Uy(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:t});return ev(n)?{value:n.value}:{issues:t.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>ev(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Uy(e)},r=this._parse({data:e,path:n.path,parent:n}),a=await(tv(r)?r:Promise.resolve(r));return sv(n,a)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,r)=>{const a=e(t),s=()=>r.addIssue({code:By.custom,...n(t)});return"undefined"!=typeof Promise&&a instanceof Promise?a.then(e=>!!e||(s(),!1)):!!a||(s(),!1)})}refinement(e,t){return this._refinement((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1))}_refinement(e){return new lb({schema:this,typeName:bb.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return ub.create(this,this._def)}nullable(){return cb.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Wv.create(this)}promise(){return ob.create(this,this._def)}or(e){return Zv.create([this,e],this._def)}and(e){return Gv.create(this,e,this._def)}transform(e){return new lb({...iv(this._def),schema:this,typeName:bb.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new db({...iv(this._def),innerType:this,defaultValue:t,typeName:bb.ZodDefault})}brand(){return new fb({typeName:bb.ZodBranded,type:this,...iv(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new pb({...iv(this._def),innerType:this,catchValue:t,typeName:bb.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return mb.create(this,e)}readonly(){return gb.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const lv=/^c[^\s-]{8,}$/i,uv=/^[0-9a-z]+$/,cv=/^[0-9A-HJKMNP-TV-Z]{26}$/i,dv=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,pv=/^[a-z0-9_-]{21}$/i,hv=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,fv=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,mv=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let gv;const yv=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,vv=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,bv=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,xv=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,wv=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,kv=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Sv="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",_v=new RegExp(`^${Sv}$`);function Tv(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${e.precision?"+":"?"}`}function Ev(e){return new RegExp(`^${Tv(e)}$`)}function Cv(e){let t=`${Sv}T${Tv(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function Pv(e,t){return!("v4"!==t&&t||!yv.test(e))||!("v6"!==t&&t||!bv.test(e))}function Nv(e,t){if(!hv.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(r));return"object"==typeof a&&null!==a&&((!("typ"in a)||"JWT"===a?.typ)&&(!!a.alg&&(!t||a.alg===t)))}catch{return!1}}function jv(e,t){return!("v4"!==t&&t||!vv.test(e))||!("v6"!==t&&t||!xv.test(e))}class Av extends ov{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==zy.string){const t=this._getOrReturnCtx(e);return Zy(t,{code:By.invalid_type,expected:zy.string,received:t.parsedType}),Yy}const t=new Ky;let n;for(const r of this._def.checks)if("min"===r.kind)e.data.length<r.value&&(n=this._getOrReturnCtx(e,n),Zy(n,{code:By.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("max"===r.kind)e.data.length>r.value&&(n=this._getOrReturnCtx(e,n),Zy(n,{code:By.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("length"===r.kind){const a=e.data.length>r.value,s=e.data.length<r.value;(a||s)&&(n=this._getOrReturnCtx(e,n),a?Zy(n,{code:By.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):s&&Zy(n,{code:By.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),t.dirty())}else if("email"===r.kind)mv.test(e.data)||(n=this._getOrReturnCtx(e,n),Zy(n,{validation:"email",code:By.invalid_string,message:r.message}),t.dirty());else if("emoji"===r.kind)gv||(gv=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),gv.test(e.data)||(n=this._getOrReturnCtx(e,n),Zy(n,{validation:"emoji",code:By.invalid_string,message:r.message}),t.dirty());else if("uuid"===r.kind)dv.test(e.data)||(n=this._getOrReturnCtx(e,n),Zy(n,{validation:"uuid",code:By.invalid_string,message:r.message}),t.dirty());else if("nanoid"===r.kind)pv.test(e.data)||(n=this._getOrReturnCtx(e,n),Zy(n,{validation:"nanoid",code:By.invalid_string,message:r.message}),t.dirty());else if("cuid"===r.kind)lv.test(e.data)||(n=this._getOrReturnCtx(e,n),Zy(n,{validation:"cuid",code:By.invalid_string,message:r.message}),t.dirty());else if("cuid2"===r.kind)uv.test(e.data)||(n=this._getOrReturnCtx(e,n),Zy(n,{validation:"cuid2",code:By.invalid_string,message:r.message}),t.dirty());else if("ulid"===r.kind)cv.test(e.data)||(n=this._getOrReturnCtx(e,n),Zy(n,{validation:"ulid",code:By.invalid_string,message:r.message}),t.dirty());else if("url"===r.kind)try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),Zy(n,{validation:"url",code:By.invalid_string,message:r.message}),t.dirty()}else if("regex"===r.kind){r.regex.lastIndex=0;r.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),Zy(n,{validation:"regex",code:By.invalid_string,message:r.message}),t.dirty())}else if("trim"===r.kind)e.data=e.data.trim();else if("includes"===r.kind)e.data.includes(r.value,r.position)||(n=this._getOrReturnCtx(e,n),Zy(n,{code:By.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),t.dirty());else if("toLowerCase"===r.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===r.kind)e.data=e.data.toUpperCase();else if("startsWith"===r.kind)e.data.startsWith(r.value)||(n=this._getOrReturnCtx(e,n),Zy(n,{code:By.invalid_string,validation:{startsWith:r.value},message:r.message}),t.dirty());else if("endsWith"===r.kind)e.data.endsWith(r.value)||(n=this._getOrReturnCtx(e,n),Zy(n,{code:By.invalid_string,validation:{endsWith:r.value},message:r.message}),t.dirty());else if("datetime"===r.kind){Cv(r).test(e.data)||(n=this._getOrReturnCtx(e,n),Zy(n,{code:By.invalid_string,validation:"datetime",message:r.message}),t.dirty())}else if("date"===r.kind){_v.test(e.data)||(n=this._getOrReturnCtx(e,n),Zy(n,{code:By.invalid_string,validation:"date",message:r.message}),t.dirty())}else if("time"===r.kind){Ev(r).test(e.data)||(n=this._getOrReturnCtx(e,n),Zy(n,{code:By.invalid_string,validation:"time",message:r.message}),t.dirty())}else"duration"===r.kind?fv.test(e.data)||(n=this._getOrReturnCtx(e,n),Zy(n,{validation:"duration",code:By.invalid_string,message:r.message}),t.dirty()):"ip"===r.kind?Pv(e.data,r.version)||(n=this._getOrReturnCtx(e,n),Zy(n,{validation:"ip",code:By.invalid_string,message:r.message}),t.dirty()):"jwt"===r.kind?Nv(e.data,r.alg)||(n=this._getOrReturnCtx(e,n),Zy(n,{validation:"jwt",code:By.invalid_string,message:r.message}),t.dirty()):"cidr"===r.kind?jv(e.data,r.version)||(n=this._getOrReturnCtx(e,n),Zy(n,{validation:"cidr",code:By.invalid_string,message:r.message}),t.dirty()):"base64"===r.kind?wv.test(e.data)||(n=this._getOrReturnCtx(e,n),Zy(n,{validation:"base64",code:By.invalid_string,message:r.message}),t.dirty()):"base64url"===r.kind?kv.test(e.data)||(n=this._getOrReturnCtx(e,n),Zy(n,{validation:"base64url",code:By.invalid_string,message:r.message}),t.dirty()):Fy.assertNever(r);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement(t=>e.test(t),{validation:t,code:By.invalid_string,...nv.errToObj(n)})}_addCheck(e){return new Av({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...nv.errToObj(e)})}url(e){return this._addCheck({kind:"url",...nv.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...nv.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...nv.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...nv.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...nv.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...nv.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...nv.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...nv.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...nv.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...nv.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...nv.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...nv.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...nv.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...nv.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...nv.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...nv.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...nv.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...nv.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...nv.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...nv.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...nv.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...nv.errToObj(t)})}nonempty(e){return this.min(1,nv.errToObj(e))}trim(){return new Av({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Av({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Av({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Iv(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}Av.create=e=>new Av({checks:[],typeName:bb.ZodString,coerce:e?.coerce??!1,...iv(e)});class Rv extends ov{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==zy.number){const t=this._getOrReturnCtx(e);return Zy(t,{code:By.invalid_type,expected:zy.number,received:t.parsedType}),Yy}let t;const n=new Ky;for(const r of this._def.checks)if("int"===r.kind)Fy.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),Zy(t,{code:By.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty());else if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Zy(t,{code:By.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Zy(t,{code:By.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else"multipleOf"===r.kind?0!==Iv(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),Zy(t,{code:By.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),Zy(t,{code:By.not_finite,message:r.message}),n.dirty()):Fy.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,nv.toString(t))}gt(e,t){return this.setLimit("min",e,!1,nv.toString(t))}lte(e,t){return this.setLimit("max",e,!0,nv.toString(t))}lt(e,t){return this.setLimit("max",e,!1,nv.toString(t))}setLimit(e,t,n,r){return new Rv({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:nv.toString(r)}]})}_addCheck(e){return new Rv({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:nv.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:nv.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:nv.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:nv.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:nv.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:nv.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:nv.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:nv.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:nv.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&Fy.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Rv.create=e=>new Rv({checks:[],typeName:bb.ZodNumber,coerce:e?.coerce||!1,...iv(e)});class Mv extends ov{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==zy.bigint)return this._getInvalidInput(e);let t;const n=new Ky;for(const r of this._def.checks)if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Zy(t,{code:By.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Zy(t,{code:By.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),Zy(t,{code:By.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):Fy.assertNever(r);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return Zy(t,{code:By.invalid_type,expected:zy.bigint,received:t.parsedType}),Yy}gte(e,t){return this.setLimit("min",e,!0,nv.toString(t))}gt(e,t){return this.setLimit("min",e,!1,nv.toString(t))}lte(e,t){return this.setLimit("max",e,!0,nv.toString(t))}lt(e,t){return this.setLimit("max",e,!1,nv.toString(t))}setLimit(e,t,n,r){return new Mv({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:nv.toString(r)}]})}_addCheck(e){return new Mv({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:nv.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:nv.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:nv.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:nv.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:nv.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Mv.create=e=>new Mv({checks:[],typeName:bb.ZodBigInt,coerce:e?.coerce??!1,...iv(e)});class Ov extends ov{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==zy.boolean){const t=this._getOrReturnCtx(e);return Zy(t,{code:By.invalid_type,expected:zy.boolean,received:t.parsedType}),Yy}return Gy(e.data)}}Ov.create=e=>new Ov({typeName:bb.ZodBoolean,coerce:e?.coerce||!1,...iv(e)});class Lv extends ov{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==zy.date){const t=this._getOrReturnCtx(e);return Zy(t,{code:By.invalid_type,expected:zy.date,received:t.parsedType}),Yy}if(Number.isNaN(e.data.getTime())){return Zy(this._getOrReturnCtx(e),{code:By.invalid_date}),Yy}const t=new Ky;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),Zy(n,{code:By.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),Zy(n,{code:By.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):Fy.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Lv({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:nv.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:nv.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}Lv.create=e=>new Lv({checks:[],coerce:e?.coerce||!1,typeName:bb.ZodDate,...iv(e)});class Dv extends ov{_parse(e){if(this._getType(e)!==zy.symbol){const t=this._getOrReturnCtx(e);return Zy(t,{code:By.invalid_type,expected:zy.symbol,received:t.parsedType}),Yy}return Gy(e.data)}}Dv.create=e=>new Dv({typeName:bb.ZodSymbol,...iv(e)});class Fv extends ov{_parse(e){if(this._getType(e)!==zy.undefined){const t=this._getOrReturnCtx(e);return Zy(t,{code:By.invalid_type,expected:zy.undefined,received:t.parsedType}),Yy}return Gy(e.data)}}Fv.create=e=>new Fv({typeName:bb.ZodUndefined,...iv(e)});class $v extends ov{_parse(e){if(this._getType(e)!==zy.null){const t=this._getOrReturnCtx(e);return Zy(t,{code:By.invalid_type,expected:zy.null,received:t.parsedType}),Yy}return Gy(e.data)}}$v.create=e=>new $v({typeName:bb.ZodNull,...iv(e)});class Vv extends ov{constructor(){super(...arguments),this._any=!0}_parse(e){return Gy(e.data)}}Vv.create=e=>new Vv({typeName:bb.ZodAny,...iv(e)});class zv extends ov{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Gy(e.data)}}zv.create=e=>new zv({typeName:bb.ZodUnknown,...iv(e)});class Uv extends ov{_parse(e){const t=this._getOrReturnCtx(e);return Zy(t,{code:By.invalid_type,expected:zy.never,received:t.parsedType}),Yy}}Uv.create=e=>new Uv({typeName:bb.ZodNever,...iv(e)});class Bv extends ov{_parse(e){if(this._getType(e)!==zy.undefined){const t=this._getOrReturnCtx(e);return Zy(t,{code:By.invalid_type,expected:zy.void,received:t.parsedType}),Yy}return Gy(e.data)}}Bv.create=e=>new Bv({typeName:bb.ZodVoid,...iv(e)});class Wv extends ov{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==zy.array)return Zy(t,{code:By.invalid_type,expected:zy.array,received:t.parsedType}),Yy;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,a=t.data.length<r.exactLength.value;(e||a)&&(Zy(t,{code:e?By.too_big:By.too_small,minimum:a?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(Zy(t,{code:By.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(Zy(t,{code:By.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((e,n)=>r.type._parseAsync(new av(t,e,t.path,n)))).then(e=>Ky.mergeArray(n,e));const a=[...t.data].map((e,n)=>r.type._parseSync(new av(t,e,t.path,n)));return Ky.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new Wv({...this._def,minLength:{value:e,message:nv.toString(t)}})}max(e,t){return new Wv({...this._def,maxLength:{value:e,message:nv.toString(t)}})}length(e,t){return new Wv({...this._def,exactLength:{value:e,message:nv.toString(t)}})}nonempty(e){return this.min(1,e)}}function Hv(e){if(e instanceof qv){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=ub.create(Hv(r))}return new qv({...e._def,shape:()=>t})}return e instanceof Wv?new Wv({...e._def,type:Hv(e.element)}):e instanceof ub?ub.create(Hv(e.unwrap())):e instanceof cb?cb.create(Hv(e.unwrap())):e instanceof Xv?Xv.create(e.items.map(e=>Hv(e))):e}Wv.create=(e,t)=>new Wv({type:e,minLength:null,maxLength:null,exactLength:null,typeName:bb.ZodArray,...iv(t)});class qv extends ov{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=Fy.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==zy.object){const t=this._getOrReturnCtx(e);return Zy(t,{code:By.invalid_type,expected:zy.object,received:t.parsedType}),Yy}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:a}=this._getCached(),s=[];if(!(this._def.catchall instanceof Uv&&"strip"===this._def.unknownKeys))for(const o in n.data)a.includes(o)||s.push(o);const i=[];for(const o of a){const e=r[o],t=n.data[o];i.push({key:{status:"valid",value:o},value:e._parse(new av(n,t,n.path,o)),alwaysSet:o in n.data})}if(this._def.catchall instanceof Uv){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of s)i.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)s.length>0&&(Zy(n,{code:By.unrecognized_keys,keys:s}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of s){const r=n.data[t];i.push({key:{status:"valid",value:t},value:e._parse(new av(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const e=[];for(const t of i){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e}).then(e=>Ky.mergeObjectSync(t,e)):Ky.mergeObjectSync(t,i)}get shape(){return this._def.shape()}strict(e){return nv.errToObj,new qv({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{const r=this._def.errorMap?.(t,n).message??n.defaultError;return"unrecognized_keys"===t.code?{message:nv.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new qv({...this._def,unknownKeys:"strip"})}passthrough(){return new qv({...this._def,unknownKeys:"passthrough"})}extend(e){return new qv({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new qv({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:bb.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new qv({...this._def,catchall:e})}pick(e){const t={};for(const n of Fy.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new qv({...this._def,shape:()=>t})}omit(e){const t={};for(const n of Fy.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new qv({...this._def,shape:()=>t})}deepPartial(){return Hv(this)}partial(e){const t={};for(const n of Fy.objectKeys(this.shape)){const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()}return new qv({...this._def,shape:()=>t})}required(e){const t={};for(const n of Fy.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof ub;)e=e._def.innerType;t[n]=e}return new qv({...this._def,shape:()=>t})}keyof(){return ab(Fy.objectKeys(this.shape))}}qv.create=(e,t)=>new qv({shape:()=>e,unknownKeys:"strip",catchall:Uv.create(),typeName:bb.ZodObject,...iv(t)}),qv.strictCreate=(e,t)=>new qv({shape:()=>e,unknownKeys:"strict",catchall:Uv.create(),typeName:bb.ZodObject,...iv(t)}),qv.lazycreate=(e,t)=>new qv({shape:e,unknownKeys:"strip",catchall:Uv.create(),typeName:bb.ZodObject,...iv(t)});class Zv extends ov{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map(async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}})).then(function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const n=e.map(e=>new Wy(e.ctx.common.issues));return Zy(t,{code:By.invalid_union,unionErrors:n}),Yy});{let e;const r=[];for(const s of n){const n={...t,common:{...t.common,issues:[]},parent:null},a=s._parseSync({data:t.data,path:t.path,parent:n});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const a=r.map(e=>new Wy(e));return Zy(t,{code:By.invalid_union,unionErrors:a}),Yy}}get options(){return this._def.options}}Zv.create=(e,t)=>new Zv({options:e,typeName:bb.ZodUnion,...iv(t)});const Kv=e=>e instanceof nb?Kv(e.schema):e instanceof lb?Kv(e.innerType()):e instanceof rb?[e.value]:e instanceof sb?e.options:e instanceof ib?Fy.objectValues(e.enum):e instanceof db?Kv(e._def.innerType):e instanceof Fv?[void 0]:e instanceof $v?[null]:e instanceof ub?[void 0,...Kv(e.unwrap())]:e instanceof cb?[null,...Kv(e.unwrap())]:e instanceof fb||e instanceof gb?Kv(e.unwrap()):e instanceof pb?Kv(e._def.innerType):[];class Yv extends ov{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==zy.object)return Zy(t,{code:By.invalid_type,expected:zy.object,received:t.parsedType}),Yy;const n=this.discriminator,r=t.data[n],a=this.optionsMap.get(r);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(Zy(t,{code:By.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Yy)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const a of t){const t=Kv(a.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const n of t){if(r.has(n))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);r.set(n,a)}}return new Yv({typeName:bb.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...iv(n)})}}function Jv(e,t){const n=Uy(e),r=Uy(t);if(e===t)return{valid:!0,data:e};if(n===zy.object&&r===zy.object){const n=Fy.objectKeys(t),r=Fy.objectKeys(e).filter(e=>-1!==n.indexOf(e)),a={...e,...t};for(const s of r){const n=Jv(e[s],t[s]);if(!n.valid)return{valid:!1};a[s]=n.data}return{valid:!0,data:a}}if(n===zy.array&&r===zy.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const a=Jv(e[r],t[r]);if(!a.valid)return{valid:!1};n.push(a.data)}return{valid:!0,data:n}}return n===zy.date&&r===zy.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class Gv extends ov{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(Xy(e)||Xy(r))return Yy;const a=Jv(e.value,r.value);return a.valid?((Qy(e)||Qy(r))&&t.dirty(),{status:t.value,value:a.data}):(Zy(n,{code:By.invalid_intersection_types}),Yy)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([e,t])=>r(e,t)):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Gv.create=(e,t,n)=>new Gv({left:e,right:t,typeName:bb.ZodIntersection,...iv(n)});class Xv extends ov{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==zy.array)return Zy(n,{code:By.invalid_type,expected:zy.array,received:n.parsedType}),Yy;if(n.data.length<this._def.items.length)return Zy(n,{code:By.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Yy;!this._def.rest&&n.data.length>this._def.items.length&&(Zy(n,{code:By.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new av(n,e,n.path,t)):null}).filter(e=>!!e);return n.common.async?Promise.all(r).then(e=>Ky.mergeArray(t,e)):Ky.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new Xv({...this._def,rest:e})}}Xv.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Xv({items:e,typeName:bb.ZodTuple,rest:null,...iv(t)})};class Qv extends ov{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==zy.object)return Zy(n,{code:By.invalid_type,expected:zy.object,received:n.parsedType}),Yy;const r=[],a=this._def.keyType,s=this._def.valueType;for(const i in n.data)r.push({key:a._parse(new av(n,i,n.path,i)),value:s._parse(new av(n,n.data[i],n.path,i)),alwaysSet:i in n.data});return n.common.async?Ky.mergeObjectAsync(t,r):Ky.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new Qv(t instanceof ov?{keyType:e,valueType:t,typeName:bb.ZodRecord,...iv(n)}:{keyType:Av.create(),valueType:e,typeName:bb.ZodRecord,...iv(t)})}}class eb extends ov{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==zy.map)return Zy(n,{code:By.invalid_type,expected:zy.map,received:n.parsedType}),Yy;const r=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map(([e,t],s)=>({key:r._parse(new av(n,e,n.path,[s,"key"])),value:a._parse(new av(n,t,n.path,[s,"value"]))}));if(n.common.async){const e=new Map;return Promise.resolve().then(async()=>{for(const n of s){const r=await n.key,a=await n.value;if("aborted"===r.status||"aborted"===a.status)return Yy;"dirty"!==r.status&&"dirty"!==a.status||t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}})}{const e=new Map;for(const n of s){const r=n.key,a=n.value;if("aborted"===r.status||"aborted"===a.status)return Yy;"dirty"!==r.status&&"dirty"!==a.status||t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}}}eb.create=(e,t,n)=>new eb({valueType:t,keyType:e,typeName:bb.ZodMap,...iv(n)});class tb extends ov{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==zy.set)return Zy(n,{code:By.invalid_type,expected:zy.set,received:n.parsedType}),Yy;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(Zy(n,{code:By.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(Zy(n,{code:By.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const a=this._def.valueType;function s(e){const n=new Set;for(const r of e){if("aborted"===r.status)return Yy;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const i=[...n.data.values()].map((e,t)=>a._parse(new av(n,e,n.path,t)));return n.common.async?Promise.all(i).then(e=>s(e)):s(i)}min(e,t){return new tb({...this._def,minSize:{value:e,message:nv.toString(t)}})}max(e,t){return new tb({...this._def,maxSize:{value:e,message:nv.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}tb.create=(e,t)=>new tb({valueType:e,minSize:null,maxSize:null,typeName:bb.ZodSet,...iv(t)});class nb extends ov{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}nb.create=(e,t)=>new nb({getter:e,typeName:bb.ZodLazy,...iv(t)});class rb extends ov{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Zy(t,{received:t.data,code:By.invalid_literal,expected:this._def.value}),Yy}return{status:"valid",value:e.data}}get value(){return this._def.value}}function ab(e,t){return new sb({values:e,typeName:bb.ZodEnum,...iv(t)})}rb.create=(e,t)=>new rb({value:e,typeName:bb.ZodLiteral,...iv(t)});class sb extends ov{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return Zy(t,{expected:Fy.joinValues(n),received:t.parsedType,code:By.invalid_type}),Yy}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return Zy(t,{received:t.data,code:By.invalid_enum_value,options:n}),Yy}return Gy(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return sb.create(e,{...this._def,...t})}exclude(e,t=this._def){return sb.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}sb.create=ab;class ib extends ov{_parse(e){const t=Fy.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==zy.string&&n.parsedType!==zy.number){const e=Fy.objectValues(t);return Zy(n,{expected:Fy.joinValues(e),received:n.parsedType,code:By.invalid_type}),Yy}if(this._cache||(this._cache=new Set(Fy.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const e=Fy.objectValues(t);return Zy(n,{received:n.data,code:By.invalid_enum_value,options:e}),Yy}return Gy(e.data)}get enum(){return this._def.values}}ib.create=(e,t)=>new ib({values:e,typeName:bb.ZodNativeEnum,...iv(t)});class ob extends ov{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==zy.promise&&!1===t.common.async)return Zy(t,{code:By.invalid_type,expected:zy.promise,received:t.parsedType}),Yy;const n=t.parsedType===zy.promise?t.data:Promise.resolve(t.data);return Gy(n.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}ob.create=(e,t)=>new ob({type:e,typeName:bb.ZodPromise,...iv(t)});class lb extends ov{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===bb.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,a={addIssue:e=>{Zy(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===r.type){const e=r.transform(n.data,a);if(n.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return Yy;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?Yy:"dirty"===r.status||"dirty"===t.value?Jy(r.value):r});{if("aborted"===t.value)return Yy;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?Yy:"dirty"===r.status||"dirty"===t.value?Jy(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,a);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?Yy:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(n=>"aborted"===n.status?Yy:("dirty"===n.status&&t.dirty(),e(n.value).then(()=>({status:t.value,value:n.value}))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ev(e))return Yy;const s=r.transform(e.value,a);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(e=>ev(e)?Promise.resolve(r.transform(e.value,a)).then(e=>({status:t.value,value:e})):Yy)}Fy.assertNever(r)}}lb.create=(e,t,n)=>new lb({schema:e,typeName:bb.ZodEffects,effect:t,...iv(n)}),lb.createWithPreprocess=(e,t,n)=>new lb({schema:t,effect:{type:"preprocess",transform:e},typeName:bb.ZodEffects,...iv(n)});class ub extends ov{_parse(e){return this._getType(e)===zy.undefined?Gy(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ub.create=(e,t)=>new ub({innerType:e,typeName:bb.ZodOptional,...iv(t)});class cb extends ov{_parse(e){return this._getType(e)===zy.null?Gy(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}cb.create=(e,t)=>new cb({innerType:e,typeName:bb.ZodNullable,...iv(t)});class db extends ov{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===zy.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}db.create=(e,t)=>new db({innerType:e,typeName:bb.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...iv(t)});class pb extends ov{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return tv(r)?r.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new Wy(n.common.issues)},input:n.data})})):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new Wy(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}pb.create=(e,t)=>new pb({innerType:e,typeName:bb.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...iv(t)});class hb extends ov{_parse(e){if(this._getType(e)!==zy.nan){const t=this._getOrReturnCtx(e);return Zy(t,{code:By.invalid_type,expected:zy.nan,received:t.parsedType}),Yy}return{status:"valid",value:e.data}}}hb.create=e=>new hb({typeName:bb.ZodNaN,...iv(e)});class fb extends ov{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class mb extends ov{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Yy:"dirty"===e.status?(t.dirty(),Jy(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Yy:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new mb({in:e,out:t,typeName:bb.ZodPipeline})}}class gb extends ov{_parse(e){const t=this._def.innerType._parse(e),n=e=>(ev(e)&&(e.value=Object.freeze(e.value)),e);return tv(t)?t.then(e=>n(e)):n(t)}unwrap(){return this._def.innerType}}function yb(e,t){const n="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof n?{message:n}:n}function vb(e,t={},n){return e?Vv.create().superRefine((r,a)=>{const s=e(r);if(s instanceof Promise)return s.then(e=>{if(!e){const e=yb(t,r),s=e.fatal??n??!0;a.addIssue({code:"custom",...e,fatal:s})}});if(!s){const e=yb(t,r),s=e.fatal??n??!0;a.addIssue({code:"custom",...e,fatal:s})}}):Vv.create()}var bb,xb;gb.create=(e,t)=>new gb({innerType:e,typeName:bb.ZodReadonly,...iv(t)}),(xb=bb||(bb={})).ZodString="ZodString",xb.ZodNumber="ZodNumber",xb.ZodNaN="ZodNaN",xb.ZodBigInt="ZodBigInt",xb.ZodBoolean="ZodBoolean",xb.ZodDate="ZodDate",xb.ZodSymbol="ZodSymbol",xb.ZodUndefined="ZodUndefined",xb.ZodNull="ZodNull",xb.ZodAny="ZodAny",xb.ZodUnknown="ZodUnknown",xb.ZodNever="ZodNever",xb.ZodVoid="ZodVoid",xb.ZodArray="ZodArray",xb.ZodObject="ZodObject",xb.ZodUnion="ZodUnion",xb.ZodDiscriminatedUnion="ZodDiscriminatedUnion",xb.ZodIntersection="ZodIntersection",xb.ZodTuple="ZodTuple",xb.ZodRecord="ZodRecord",xb.ZodMap="ZodMap",xb.ZodSet="ZodSet",xb.ZodFunction="ZodFunction",xb.ZodLazy="ZodLazy",xb.ZodLiteral="ZodLiteral",xb.ZodEnum="ZodEnum",xb.ZodEffects="ZodEffects",xb.ZodNativeEnum="ZodNativeEnum",xb.ZodOptional="ZodOptional",xb.ZodNullable="ZodNullable",xb.ZodDefault="ZodDefault",xb.ZodCatch="ZodCatch",xb.ZodPromise="ZodPromise",xb.ZodBranded="ZodBranded",xb.ZodPipeline="ZodPipeline",xb.ZodReadonly="ZodReadonly";const wb=(e,t={message:`Input not instance of ${e.name}`})=>vb(t=>t instanceof e,t),kb=Av.create,Sb=Rv.create,_b=Ov.create,Tb=$v.create,Eb=Vv.create,Cb=zv.create;Uv.create;const Pb=Wv.create,Nb=qv.create,jb=Zv.create,Ab=Yv.create;Gv.create,Xv.create;const Ib=Qv.create,Rb=nb.create,Mb=rb.create,Ob=sb.create;ob.create;const Lb=ub.create;function Db(e){if("openAi"!==e.target)return{};const t=[...e.basePath,e.definitionPath,e.openAiAnyTypeName];return e.flags.hasReferencedOpenAiAnyType=!0,{$ref:"relative"===e.$refStrategy?Dy(t,e.currentPath):t.join("/")}}function Fb(e,t){return dx(e.type._def,t)}cb.create;function $b(e,t,n){const r=n??t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((n,r)=>$b(e,t,n))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return Vb(e,t)}}const Vb=(e,t)=>{const n={type:"integer",format:"unix-time"};if("openApi3"===t.target)return n;for(const r of e.checks)switch(r.kind){case"min":Ly(n,"minimum",r.value,r.message,t);break;case"max":Ly(n,"maximum",r.value,r.message,t)}return n};let zb;const Ub=/^[cC][^\s-]{8,}$/,Bb=/^[0-9a-z]+$/,Wb=/^[0-9A-HJKMNP-TV-Z]{26}$/,Hb=/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,qb=()=>(void 0===zb&&(zb=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),zb),Zb=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Kb=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Yb=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Jb=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Gb=/^[a-zA-Z0-9_-]{21}$/,Xb=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/;function Qb(e,t){const n={type:"string"};if(e.checks)for(const r of e.checks)switch(r.kind){case"min":Ly(n,"minLength","number"==typeof n.minLength?Math.max(n.minLength,r.value):r.value,r.message,t);break;case"max":Ly(n,"maxLength","number"==typeof n.maxLength?Math.min(n.maxLength,r.value):r.value,r.message,t);break;case"email":switch(t.emailStrategy){case"format:email":nx(n,"email",r.message,t);break;case"format:idn-email":nx(n,"idn-email",r.message,t);break;case"pattern:zod":rx(n,Hb,r.message,t)}break;case"url":nx(n,"uri",r.message,t);break;case"uuid":nx(n,"uuid",r.message,t);break;case"regex":rx(n,r.regex,r.message,t);break;case"cuid":rx(n,Ub,r.message,t);break;case"cuid2":rx(n,Bb,r.message,t);break;case"startsWith":rx(n,RegExp(`^${ex(r.value,t)}`),r.message,t);break;case"endsWith":rx(n,RegExp(`${ex(r.value,t)}$`),r.message,t);break;case"datetime":nx(n,"date-time",r.message,t);break;case"date":nx(n,"date",r.message,t);break;case"time":nx(n,"time",r.message,t);break;case"duration":nx(n,"duration",r.message,t);break;case"length":Ly(n,"minLength","number"==typeof n.minLength?Math.max(n.minLength,r.value):r.value,r.message,t),Ly(n,"maxLength","number"==typeof n.maxLength?Math.min(n.maxLength,r.value):r.value,r.message,t);break;case"includes":rx(n,RegExp(ex(r.value,t)),r.message,t);break;case"ip":"v6"!==r.version&&nx(n,"ipv4",r.message,t),"v4"!==r.version&&nx(n,"ipv6",r.message,t);break;case"base64url":rx(n,Jb,r.message,t);break;case"jwt":rx(n,Xb,r.message,t);break;case"cidr":"v6"!==r.version&&rx(n,Zb,r.message,t),"v4"!==r.version&&rx(n,Kb,r.message,t);break;case"emoji":rx(n,qb(),r.message,t);break;case"ulid":rx(n,Wb,r.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":nx(n,"binary",r.message,t);break;case"contentEncoding:base64":Ly(n,"contentEncoding","base64",r.message,t);break;case"pattern:zod":rx(n,Yb,r.message,t)}break;case"nanoid":rx(n,Gb,r.message,t)}return n}function ex(e,t){return"escape"===t.patternStrategy?function(e){let t="";for(let n=0;n<e.length;n++)tx.has(e[n])||(t+="\\"),t+=e[n];return t}(e):e}const tx=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function nx(e,t,n,r){e.format||e.anyOf?.some(e=>e.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&r.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):Ly(e,"format",t,n,r)}function rx(e,t,n,r){e.pattern||e.allOf?.some(e=>e.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&r.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.allOf.push({pattern:ax(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):Ly(e,"pattern",ax(t,r),n,r)}function ax(e,t){if(!t.applyRegexFlags||!e.flags)return e.source;const n=e.flags.includes("i"),r=e.flags.includes("m"),a=e.flags.includes("s"),s=n?e.source.toLowerCase():e.source;let i="",o=!1,l=!1,u=!1;for(let c=0;c<s.length;c++)if(o)i+=s[c],o=!1;else{if(n)if(l){if(s[c].match(/[a-z]/)){u?(i+=s[c],i+=`${s[c-2]}-${s[c]}`.toUpperCase(),u=!1):"-"===s[c+1]&&s[c+2]?.match(/[a-z]/)?(i+=s[c],u=!0):i+=`${s[c]}${s[c].toUpperCase()}`;continue}}else if(s[c].match(/[a-z]/)){i+=`[${s[c]}${s[c].toUpperCase()}]`;continue}if(r){if("^"===s[c]){i+="(^|(?<=[\r\n]))";continue}if("$"===s[c]){i+="($|(?=[\r\n]))";continue}}a&&"."===s[c]?i+=l?`${s[c]}\r\n`:`[${s[c]}\r\n]`:(i+=s[c],"\\"===s[c]?o=!0:l&&"]"===s[c]?l=!1:l||"["!==s[c]||(l=!0))}try{new RegExp(i)}catch{return e.source}return i}function sx(e,t){if(t.target,"openApi3"===t.target&&e.keyType?._def.typeName===bb.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((n,r)=>({...n,[r]:dx(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",r]})??Db(t)}),{}),additionalProperties:t.rejectedAdditionalProperties};const n={type:"object",additionalProperties:dx(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??t.allowedAdditionalProperties};if("openApi3"===t.target)return n;if(e.keyType?._def.typeName===bb.ZodString&&e.keyType._def.checks?.length){const{type:r,...a}=Qb(e.keyType._def,t);return{...n,propertyNames:a}}if(e.keyType?._def.typeName===bb.ZodEnum)return{...n,propertyNames:{enum:e.keyType._def.values}};if(e.keyType?._def.typeName===bb.ZodBranded&&e.keyType._def.type._def.typeName===bb.ZodString&&e.keyType._def.type._def.checks?.length){const{type:r,...a}=Fb(e.keyType._def,t);return{...n,propertyNames:a}}return n}const ix={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};const ox=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((e,n)=>dx(e._def,{...t,currentPath:[...t.currentPath,"anyOf",`${n}`]})).filter(e=>!!e&&(!t.strictUnions||"object"==typeof e&&Object.keys(e).length>0));return n.length?{anyOf:n}:void 0};function lx(e,t){const n="openAi"===t.target,r={type:"object",properties:{}},a=[],s=e.shape();for(const o in s){let e=s[o];if(void 0===e||void 0===e._def)continue;let i=ux(e);i&&n&&("ZodOptional"===e._def.typeName&&(e=e._def.innerType),e.isNullable()||(e=e.nullable()),i=!1);const l=dx(e._def,{...t,currentPath:[...t.currentPath,"properties",o],propertyPath:[...t.currentPath,"properties",o]});void 0!==l&&(r.properties[o]=l,i||a.push(o))}a.length&&(r.required=a);const i=function(e,t){if("ZodNever"!==e.catchall._def.typeName)return dx(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return"strict"===t.removeAdditionalStrategy?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}(e,t);return void 0!==i&&(r.additionalProperties=i),r}function ux(e){try{return e.isOptional()}catch{return!0}}const cx=(e,t,n)=>{switch(t){case bb.ZodString:return Qb(e,n);case bb.ZodNumber:return function(e,t){const n={type:"number"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"int":n.type="integer",Oy(n,"type",r.message,t);break;case"min":"jsonSchema7"===t.target?r.inclusive?Ly(n,"minimum",r.value,r.message,t):Ly(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),Ly(n,"minimum",r.value,r.message,t));break;case"max":"jsonSchema7"===t.target?r.inclusive?Ly(n,"maximum",r.value,r.message,t):Ly(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),Ly(n,"maximum",r.value,r.message,t));break;case"multipleOf":Ly(n,"multipleOf",r.value,r.message,t)}return n}(e,n);case bb.ZodObject:return lx(e,n);case bb.ZodBigInt:return function(e,t){const n={type:"integer",format:"int64"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"min":"jsonSchema7"===t.target?r.inclusive?Ly(n,"minimum",r.value,r.message,t):Ly(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),Ly(n,"minimum",r.value,r.message,t));break;case"max":"jsonSchema7"===t.target?r.inclusive?Ly(n,"maximum",r.value,r.message,t):Ly(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),Ly(n,"maximum",r.value,r.message,t));break;case"multipleOf":Ly(n,"multipleOf",r.value,r.message,t)}return n}(e,n);case bb.ZodBoolean:return{type:"boolean"};case bb.ZodDate:return $b(e,n);case bb.ZodUndefined:return function(e){return{not:Db(e)}}(n);case bb.ZodNull:return function(e){return"openApi3"===e.target?{enum:["null"],nullable:!0}:{type:"null"}}(n);case bb.ZodArray:return function(e,t){const n={type:"array"};return e.type?._def&&e.type?._def?.typeName!==bb.ZodAny&&(n.items=dx(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&Ly(n,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&Ly(n,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(Ly(n,"minItems",e.exactLength.value,e.exactLength.message,t),Ly(n,"maxItems",e.exactLength.value,e.exactLength.message,t)),n}(e,n);case bb.ZodUnion:case bb.ZodDiscriminatedUnion:return function(e,t){if("openApi3"===t.target)return ox(e,t);const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(e=>e._def.typeName in ix&&(!e._def.checks||!e._def.checks.length))){const e=n.reduce((e,t)=>{const n=ix[t._def.typeName];return n&&!e.includes(n)?[...e,n]:e},[]);return{type:e.length>1?e:e[0]}}if(n.every(e=>"ZodLiteral"===e._def.typeName&&!e.description)){const e=n.reduce((e,t)=>{const n=typeof t._def.value;switch(n){case"string":case"number":case"boolean":return[...e,n];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}},[]);if(e.length===n.length){const t=e.filter((e,t,n)=>n.indexOf(e)===t);return{type:t.length>1?t:t[0],enum:n.reduce((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value],[])}}}else if(n.every(e=>"ZodEnum"===e._def.typeName))return{type:"string",enum:n.reduce((e,t)=>[...e,...t._def.values.filter(t=>!e.includes(t))],[])};return ox(e,t)}(e,n);case bb.ZodIntersection:return function(e,t){const n=[dx(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),dx(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(e=>!!e);let r="jsonSchema2019-09"===t.target?{unevaluatedProperties:!1}:void 0;const a=[];return n.forEach(e=>{if("type"in(t=e)&&"string"===t.type||!("allOf"in t)){let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){const{additionalProperties:n,...r}=e;t=r}else r=void 0;a.push(t)}else a.push(...e.allOf),void 0===e.unevaluatedProperties&&(r=void 0);var t}),a.length?{allOf:a,...r}:void 0}(e,n);case bb.ZodTuple:return function(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((e,n)=>dx(e._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[]),additionalItems:dx(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((e,n)=>dx(e._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[])}}(e,n);case bb.ZodRecord:return sx(e,n);case bb.ZodLiteral:return function(e,t){const n=typeof e.value;return"bigint"!==n&&"number"!==n&&"boolean"!==n&&"string"!==n?{type:Array.isArray(e.value)?"array":"object"}:"openApi3"===t.target?{type:"bigint"===n?"integer":n,enum:[e.value]}:{type:"bigint"===n?"integer":n,const:e.value}}(e,n);case bb.ZodEnum:return function(e){return{type:"string",enum:Array.from(e.values)}}(e);case bb.ZodNativeEnum:return function(e){const t=e.values,n=Object.keys(e.values).filter(e=>"number"!=typeof t[t[e]]).map(e=>t[e]),r=Array.from(new Set(n.map(e=>typeof e)));return{type:1===r.length?"string"===r[0]?"string":"number":["string","number"],enum:n}}(e);case bb.ZodNullable:return function(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return"openApi3"===t.target?{type:ix[e.innerType._def.typeName],nullable:!0}:{type:[ix[e.innerType._def.typeName],"null"]};if("openApi3"===t.target){const n=dx(e.innerType._def,{...t,currentPath:[...t.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}const n=dx(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}(e,n);case bb.ZodOptional:return((e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return dx(e.innerType._def,t);const n=dx(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:Db(t)},n]}:Db(t)})(e,n);case bb.ZodMap:return function(e,t){return"record"===t.mapStrategy?sx(e,t):{type:"array",maxItems:125,items:{type:"array",items:[dx(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||Db(t),dx(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||Db(t)],minItems:2,maxItems:2}}}(e,n);case bb.ZodSet:return function(e,t){const n={type:"array",uniqueItems:!0,items:dx(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&Ly(n,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&Ly(n,"maxItems",e.maxSize.value,e.maxSize.message,t),n}(e,n);case bb.ZodLazy:return()=>e.getter()._def;case bb.ZodPromise:return function(e,t){return dx(e.type._def,t)}(e,n);case bb.ZodNaN:case bb.ZodNever:return function(e){return"openAi"===e.target?void 0:{not:Db({...e,currentPath:[...e.currentPath,"not"]})}}(n);case bb.ZodEffects:return function(e,t){return"input"===t.effectStrategy?dx(e.schema._def,t):Db(t)}(e,n);case bb.ZodAny:return Db(n);case bb.ZodUnknown:return function(e){return Db(e)}(n);case bb.ZodDefault:return function(e,t){return{...dx(e.innerType._def,t),default:e.defaultValue()}}(e,n);case bb.ZodBranded:return Fb(e,n);case bb.ZodReadonly:case bb.ZodCatch:return((e,t)=>dx(e.innerType._def,t))(e,n);case bb.ZodPipeline:return((e,t)=>{if("input"===t.pipeStrategy)return dx(e.in._def,t);if("output"===t.pipeStrategy)return dx(e.out._def,t);const n=dx(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]});return{allOf:[n,dx(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]})].filter(e=>void 0!==e)}})(e,n);case bb.ZodFunction:case bb.ZodVoid:case bb.ZodSymbol:default:return}};function dx(e,t,n=!1){const r=t.seen.get(e);if(t.override){const a=t.override?.(e,t,r,n);if(a!==Iy)return a}if(r&&!n){const e=px(r,t);if(void 0!==e)return e}const a={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,a);const s=cx(e,e.typeName,t),i="function"==typeof s?dx(s(),t):s;if(i&&hx(e,t,i),t.postProcess){const n=t.postProcess(i,e,t);return a.jsonSchema=i,n}return a.jsonSchema=i,i}const px=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:Dy(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((e,n)=>t.currentPath[n]===e)||"seen"===t.$refStrategy?Db(t):void 0}},hx=(e,t,n)=>(e.description&&(n.description=e.description,t.markdownDescription&&(n.markdownDescription=e.description)),n);var fx={code:"0",name:"text",parse:e=>{if("string"!=typeof e)throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},mx={code:"3",name:"error",parse:e=>{if("string"!=typeof e)throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},gx={code:"4",name:"assistant_message",parse:e=>{if(!(null!=e&&"object"==typeof e&&"id"in e&&"role"in e&&"content"in e&&"string"==typeof e.id&&"string"==typeof e.role&&"assistant"===e.role&&Array.isArray(e.content)&&e.content.every(e=>null!=e&&"object"==typeof e&&"type"in e&&"text"===e.type&&"text"in e&&null!=e.text&&"object"==typeof e.text&&"value"in e.text&&"string"==typeof e.text.value)))throw new Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},yx={code:"5",name:"assistant_control_data",parse:e=>{if(null==e||"object"!=typeof e||!("threadId"in e)||!("messageId"in e)||"string"!=typeof e.threadId||"string"!=typeof e.messageId)throw new Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},vx={code:"6",name:"data_message",parse:e=>{if(null==e||"object"!=typeof e||!("role"in e)||!("data"in e)||"string"!=typeof e.role||"data"!==e.role)throw new Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}};function bx(e){const t=["ROOT"];let n=-1,r=null;function a(e,a,s){switch(e){case'"':n=a,t.pop(),t.push(s),t.push("INSIDE_STRING");break;case"f":case"t":case"n":n=a,r=a,t.pop(),t.push(s),t.push("INSIDE_LITERAL");break;case"-":t.pop(),t.push(s),t.push("INSIDE_NUMBER");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=a,t.pop(),t.push(s),t.push("INSIDE_NUMBER");break;case"{":n=a,t.pop(),t.push(s),t.push("INSIDE_OBJECT_START");break;case"[":n=a,t.pop(),t.push(s),t.push("INSIDE_ARRAY_START")}}function s(e,r){switch(e){case",":t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":n=r,t.pop()}}function i(e,r){switch(e){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":n=r,t.pop()}}for(let l=0;l<e.length;l++){const o=e[l];switch(t[t.length-1]){case"ROOT":a(o,l,"FINISH");break;case"INSIDE_OBJECT_START":switch(o){case'"':t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"}":n=l,t.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":if('"'===o)t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"INSIDE_OBJECT_KEY":if('"'===o)t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break;case"INSIDE_OBJECT_AFTER_KEY":if(":"===o)t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break;case"INSIDE_OBJECT_BEFORE_VALUE":a(o,l,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":s(o,l);break;case"INSIDE_STRING":switch(o){case'"':t.pop(),n=l;break;case"\\":t.push("INSIDE_STRING_ESCAPE");break;default:n=l}break;case"INSIDE_ARRAY_START":if("]"===o)n=l,t.pop();else n=l,a(o,l,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_ARRAY_AFTER_VALUE":switch(o){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":n=l,t.pop();break;default:n=l}break;case"INSIDE_ARRAY_AFTER_COMMA":a(o,l,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":t.pop(),n=l;break;case"INSIDE_NUMBER":switch(o){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=l;break;case"e":case"E":case"-":case".":break;case",":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&i(o,l),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&s(o,l);break;case"}":t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&s(o,l);break;case"]":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&i(o,l);break;default:t.pop()}break;case"INSIDE_LITERAL":{const a=e.substring(r,l+1);"false".startsWith(a)||"true".startsWith(a)||"null".startsWith(a)?n=l:(t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]?s(o,l):"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&i(o,l));break}}}let o=e.slice(0,n+1);for(let l=t.length-1;l>=0;l--){switch(t[l]){case"INSIDE_STRING":o+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":o+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":o+="]";break;case"INSIDE_LITERAL":{const t=e.substring(r,e.length);"true".startsWith(t)?o+="true".slice(t.length):"false".startsWith(t)?o+="false".slice(t.length):"null".startsWith(t)&&(o+="null".slice(t.length))}}}return o}[fx,mx,gx,yx,vx].map(e=>e.code);var xx=[{code:"0",name:"text",parse:e=>{if("string"!=typeof e)throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},{code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw new Error('"data" parts expect an array value.');return{type:"data",value:e}}},{code:"3",name:"error",parse:e=>{if("string"!=typeof e)throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},{code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw new Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},{code:"9",name:"tool_call",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("toolName"in e)||"string"!=typeof e.toolName||!("args"in e)||"object"!=typeof e.args)throw new Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}}},{code:"a",name:"tool_result",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("result"in e))throw new Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}}},{code:"b",name:"tool_call_streaming_start",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("toolName"in e)||"string"!=typeof e.toolName)throw new Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}}},{code:"c",name:"tool_call_delta",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("argsTextDelta"in e)||"string"!=typeof e.argsTextDelta)throw new Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}}},{code:"d",name:"finish_message",parse:e=>{if(null==e||"object"!=typeof e||!("finishReason"in e)||"string"!=typeof e.finishReason)throw new Error('"finish_message" parts expect an object with a "finishReason" property.');const t={finishReason:e.finishReason};return"usage"in e&&null!=e.usage&&"object"==typeof e.usage&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:"number"==typeof e.usage.promptTokens?e.usage.promptTokens:Number.NaN,completionTokens:"number"==typeof e.usage.completionTokens?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:t}}},{code:"e",name:"finish_step",parse:e=>{if(null==e||"object"!=typeof e||!("finishReason"in e)||"string"!=typeof e.finishReason)throw new Error('"finish_step" parts expect an object with a "finishReason" property.');const t={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&null!=e.usage&&"object"==typeof e.usage&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:"number"==typeof e.usage.promptTokens?e.usage.promptTokens:Number.NaN,completionTokens:"number"==typeof e.usage.completionTokens?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&"boolean"==typeof e.isContinued&&(t.isContinued=e.isContinued),{type:"finish_step",value:t}}},{code:"f",name:"start_step",parse:e=>{if(null==e||"object"!=typeof e||!("messageId"in e)||"string"!=typeof e.messageId)throw new Error('"start_step" parts expect an object with an "id" property.');return{type:"start_step",value:{messageId:e.messageId}}}},{code:"g",name:"reasoning",parse:e=>{if("string"!=typeof e)throw new Error('"reasoning" parts expect a string value.');return{type:"reasoning",value:e}}},{code:"h",name:"source",parse:e=>{if(null==e||"object"!=typeof e)throw new Error('"source" parts expect a Source object.');return{type:"source",value:e}}},{code:"i",name:"redacted_reasoning",parse:e=>{if(null==e||"object"!=typeof e||!("data"in e)||"string"!=typeof e.data)throw new Error('"redacted_reasoning" parts expect an object with a "data" property.');return{type:"redacted_reasoning",value:{data:e.data}}}},{code:"j",name:"reasoning_signature",parse:e=>{if(null==e||"object"!=typeof e||!("signature"in e)||"string"!=typeof e.signature)throw new Error('"reasoning_signature" parts expect an object with a "signature" property.');return{type:"reasoning_signature",value:{signature:e.signature}}}},{code:"k",name:"file",parse:e=>{if(null==e||"object"!=typeof e||!("data"in e)||"string"!=typeof e.data||!("mimeType"in e)||"string"!=typeof e.mimeType)throw new Error('"file" parts expect an object with a "data" and "mimeType" property.');return{type:"file",value:e}}}];function wx(e,t){const n=xx.find(t=>t.name===e);if(!n)throw new Error(`Invalid stream part type: ${e}`);return`${n.code}:${JSON.stringify(t)}\n`}function kx(e,t){const n=null!=void 0&&undefined;return function(e,{validate:t}={}){return{[Sx]:!0,_type:void 0,[gy]:!0,jsonSchema:e,validate:t}}(((e,t)=>{const n=My(t);let r="object"==typeof t&&t.definitions?Object.entries(t.definitions).reduce((e,[t,r])=>({...e,[t]:dx(r._def,{...n,currentPath:[...n.basePath,n.definitionPath,t]},!0)??Db(n)}),{}):void 0;const a="string"==typeof t?t:"title"===t?.nameStrategy?void 0:t?.name,s=dx(e._def,void 0===a?n:{...n,currentPath:[...n.basePath,n.definitionPath,a]},!1)??Db(n),i="object"==typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==i&&(s.title=i),n.flags.hasReferencedOpenAiAnyType&&(r||(r={}),r[n.openAiAnyTypeName]||(r[n.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:"relative"===n.$refStrategy?"1":[...n.basePath,n.definitionPath,n.openAiAnyTypeName].join("/")}}));const o=void 0===a?r?{...s,[n.definitionPath]:r}:s:{$ref:[..."relative"===n.$refStrategy?[]:n.basePath,n.definitionPath,a].join("/"),[n.definitionPath]:{...r,[a]:s}};return"jsonSchema7"===n.target?o.$schema="http://json-schema.org/draft-07/schema#":"jsonSchema2019-09"!==n.target&&"openAi"!==n.target||(o.$schema="https://json-schema.org/draft/2019-09/schema#"),"openAi"===n.target&&("anyOf"in o||"oneOf"in o||"allOf"in o||"type"in o&&Array.isArray(o.type)),o})(e,{$refStrategy:n?"root":"none",target:"jsonSchema7"}),{validate:t=>{const n=e.safeParse(t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}}})}Object.fromEntries(xx.map(e=>[e.code,e])),Object.fromEntries(xx.map(e=>[e.name,e.code])),xx.map(e=>e.code);var Sx=Symbol.for("vercel.ai.schema");function _x(e){return"object"==typeof(t=e)&&null!==t&&Sx in t&&!0===t[Sx]&&"jsonSchema"in t&&"validate"in t?e:kx(e);var t}var Tx="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof global?global:{},Ex="1.9.0",Cx=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;var Px=function(e){var t=new Set([e]),n=new Set,r=e.match(Cx);if(!r)return function(){return!1};var a=+r[1],s=+r[2],i=+r[3];if(null!=r[4])return function(t){return t===e};function o(e){return n.add(e),!1}function l(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(n.has(e))return!1;var r=e.match(Cx);if(!r)return o(e);var u=+r[1],c=+r[2],d=+r[3];return null!=r[4]||a!==u?o(e):0===a?s===c&&i<=d?l(e):o(e):s<=c?l(e):o(e)}}(Ex),Nx=Ex.split(".")[0],jx=Symbol.for("opentelemetry.js.api."+Nx),Ax=Tx;function Ix(e,t,n,r){var a;void 0===r&&(r=!1);var s=Ax[jx]=null!==(a=Ax[jx])&&void 0!==a?a:{version:Ex};if(!r&&s[e]){var i=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(i.stack||i.message),!1}if(s.version!==Ex){i=new Error("@opentelemetry/api: Registration of version v"+s.version+" for "+e+" does not match previously registered API v"+Ex);return n.error(i.stack||i.message),!1}return s[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+Ex+"."),!0}function Rx(e){var t,n,r=null===(t=Ax[jx])||void 0===t?void 0:t.version;if(r&&Px(r))return null===(n=Ax[jx])||void 0===n?void 0:n[e]}function Mx(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+Ex+".");var n=Ax[jx];n&&delete n[e]}var Ox,Lx,Dx=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Fx("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Fx("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Fx("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Fx("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Fx("verbose",this._namespace,e)},e}();function Fx(e,t,n){var r=Rx("diag");if(r)return n.unshift(t),r[e].apply(r,function(e,t,n){if(n||2===arguments.length)for(var r,a=0,s=t.length;a<s;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,s=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch(o){a={error:o}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(a)throw a.error}}return i}(n),!1))}(Lx=Ox||(Ox={}))[Lx.NONE=0]="NONE",Lx[Lx.ERROR=30]="ERROR",Lx[Lx.WARN=50]="WARN",Lx[Lx.INFO=60]="INFO",Lx[Lx.DEBUG=70]="DEBUG",Lx[Lx.VERBOSE=80]="VERBOSE",Lx[Lx.ALL=9999]="ALL";var $x=function(){function e(){function e(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Rx("diag");if(r)return r[e].apply(r,function(e,t,n){if(n||2===arguments.length)for(var r,a=0,s=t.length;a<s;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,s=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch(o){a={error:o}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(a)throw a.error}}return i}(t),!1))}}var t=this;t.setLogger=function(e,n){var r,a,s;if(void 0===n&&(n={logLevel:Ox.INFO}),e===t){var i=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(r=i.stack)&&void 0!==r?r:i.message),!1}"number"==typeof n&&(n={logLevel:n});var o=Rx("diag"),l=function(e,t){function n(n,r){var a=t[n];return"function"==typeof a&&e>=r?a.bind(t):function(){}}return e<Ox.NONE?e=Ox.NONE:e>Ox.ALL&&(e=Ox.ALL),t=t||{},{error:n("error",Ox.ERROR),warn:n("warn",Ox.WARN),info:n("info",Ox.INFO),debug:n("debug",Ox.DEBUG),verbose:n("verbose",Ox.VERBOSE)}}(null!==(a=n.logLevel)&&void 0!==a?a:Ox.INFO,e);if(o&&!n.suppressOverrideMessage){var u=null!==(s=(new Error).stack)&&void 0!==s?s:"<failed to generate stacktrace>";o.warn("Current logger will be overwritten from "+u),l.warn("Current logger will overwrite one already registered from "+u)}return Ix("diag",l,t,!0)},t.disable=function(){Mx("diag",t)},t.createComponentLogger=function(e){return new Dx(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();var Vx,zx,Ux=new(function(){return function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(e){return n._currentContext.get(e)},n.setValue=function(t,r){var a=new e(n._currentContext);return a._currentContext.set(t,r),a},n.deleteValue=function(t){var r=new e(n._currentContext);return r._currentContext.delete(t),r}}}()),Bx=function(){function e(){}return e.prototype.active=function(){return Ux},e.prototype.with=function(e,t,n){for(var r=[],a=3;a<arguments.length;a++)r[a-3]=arguments[a];return t.call.apply(t,function(e,t,n){if(n||2===arguments.length)for(var r,a=0,s=t.length;a<s;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}([n],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,s=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch(o){a={error:o}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(a)throw a.error}}return i}(r),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),Wx="context",Hx=new Bx,qx=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return Ix(Wx,e,$x.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,n){for(var r,a=[],s=3;s<arguments.length;s++)a[s-3]=arguments[s];return(r=this._getContextManager()).with.apply(r,function(e,t,n){if(n||2===arguments.length)for(var r,a=0,s=t.length;a<s;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}([e,t,n],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,s=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch(o){a={error:o}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(a)throw a.error}}return i}(a),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return Rx(Wx)||Hx},e.prototype.disable=function(){this._getContextManager().disable(),Mx(Wx,$x.instance())},e}();(zx=Vx||(Vx={}))[zx.NONE=0]="NONE",zx[zx.SAMPLED=1]="SAMPLED";var Zx,Kx="0000000000000000",Yx="00000000000000000000000000000000",Jx={traceId:Yx,spanId:Kx,traceFlags:Vx.NONE},Gx=function(){function e(e){void 0===e&&(e=Jx),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.addLink=function(e){return this},e.prototype.addLinks=function(e){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}(),Xx=(Zx="OpenTelemetry Context Key SPAN",Symbol.for(Zx));function Qx(e){return e.getValue(Xx)||void 0}function ew(){return Qx(qx.getInstance().active())}function tw(e,t){return e.setValue(Xx,t)}function nw(e){return e.deleteValue(Xx)}function rw(e,t){return tw(e,new Gx(t))}function aw(e){var t;return null===(t=Qx(e))||void 0===t?void 0:t.spanContext()}var sw=/^([0-9a-f]{32})$/i,iw=/^[0-9a-f]{16}$/i;function ow(e){return n=e.traceId,sw.test(n)&&n!==Yx&&(t=e.spanId,iw.test(t)&&t!==Kx);var t,n}function lw(e){return new Gx(e)}var uw=qx.getInstance(),cw=function(){function e(){}return e.prototype.startSpan=function(e,t,n){if(void 0===n&&(n=uw.active()),Boolean(null==t?void 0:t.root))return new Gx;var r,a=n&&aw(n);return"object"==typeof(r=a)&&"string"==typeof r.spanId&&"string"==typeof r.traceId&&"number"==typeof r.traceFlags&&ow(a)?new Gx(a):new Gx},e.prototype.startActiveSpan=function(e,t,n,r){var a,s,i;if(!(arguments.length<2)){2===arguments.length?i=t:3===arguments.length?(a=t,i=n):(a=t,s=n,i=r);var o=null!=s?s:uw.active(),l=this.startSpan(e,a,o),u=tw(o,l);return uw.with(u,i,void 0,l)}},e}();var dw,pw,hw=new cw,fw=function(){function e(e,t,n,r){this._provider=e,this.name=t,this.version=n,this.options=r}return e.prototype.startSpan=function(e,t,n){return this._getTracer().startSpan(e,t,n)},e.prototype.startActiveSpan=function(e,t,n,r){var a=this._getTracer();return Reflect.apply(a.startActiveSpan,a,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):hw},e}(),mw=new(function(){function e(){}return e.prototype.getTracer=function(e,t,n){return new cw},e}()),gw=function(){function e(){}return e.prototype.getTracer=function(e,t,n){var r;return null!==(r=this.getDelegateTracer(e,t,n))&&void 0!==r?r:new fw(this,e,t,n)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:mw},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,n){var r;return null===(r=this._delegate)||void 0===r?void 0:r.getTracer(e,t,n)},e}();(pw=dw||(dw={}))[pw.UNSET=0]="UNSET",pw[pw.OK=1]="OK",pw[pw.ERROR=2]="ERROR";var yw="trace",vw=function(){function e(){this._proxyTracerProvider=new gw,this.wrapSpanContext=lw,this.isSpanContextValid=ow,this.deleteSpan=nw,this.getSpan=Qx,this.getActiveSpan=ew,this.getSpanContext=aw,this.setSpan=tw,this.setSpanContext=rw}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=Ix(yw,this._proxyTracerProvider,$x.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return Rx(yw)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){Mx(yw,$x.instance()),this._proxyTracerProvider=new gw},e}().getInstance(),bw=Object.defineProperty,xw=(e,t)=>{for(var n in t)bw(e,n,{get:t[n],enumerable:!0})};function ww(e,{contentType:t,dataStreamVersion:n}){const r=new Headers(null!=e?e:{});return r.has("Content-Type")||r.set("Content-Type",t),void 0!==n&&r.set("X-Vercel-AI-Data-Stream",n),r}var kw,Sw=class extends eg{constructor(){super({name:"AI_UnsupportedModelVersionError",message:'Unsupported model version. AI SDK 4 only supports models that implement specification version "v1". Please upgrade to AI SDK 5 to use this model.'})}},_w="AI_InvalidArgumentError",Tw=`vercel.ai.error.${_w}`,Ew=Symbol.for(Tw),Cw=class extends eg{constructor({parameter:e,value:t,message:n}){super({name:_w,message:`Invalid argument for parameter ${e}: ${n}`}),this[kw]=!0,this.parameter=e,this.value=t}static isInstance(e){return eg.hasMarker(e,Tw)}};kw=Ew;var Pw,Nw="AI_RetryError",jw=`vercel.ai.error.${Nw}`,Aw=Symbol.for(jw),Iw=class extends eg{constructor({message:e,reason:t,errors:n}){super({name:Nw,message:e}),this[Pw]=!0,this.reason=t,this.errors=n,this.lastError=n[n.length-1]}static isInstance(e){return eg.hasMarker(e,jw)}};Pw=Aw;var Rw=({maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:n=2}={})=>async r=>Mw(r,{maxRetries:e,delayInMs:t,backoffFactor:n});async function Mw(e,{maxRetries:t,delayInMs:n,backoffFactor:r},a=[]){try{return await e()}catch(s){if(fy(s))throw s;if(0===t)throw s;const i=function(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}(s),o=[...a,s],l=o.length;if(l>t)throw new Iw({message:`Failed after ${l} attempts. Last error: ${i}`,reason:"maxRetriesExceeded",errors:o});if(s instanceof Error&&ag.isInstance(s)&&!0===s.isRetryable&&l<=t)return await async function(e){return null==e?Promise.resolve():new Promise(t=>setTimeout(t,e))}(n),Mw(e,{maxRetries:t,delayInMs:r*n,backoffFactor:r},o);if(1===l)throw s;throw new Iw({message:`Failed after ${l} attempts with non-retryable error: '${i}'`,reason:"errorNotRetryable",errors:o})}}function Ow({operationId:e,telemetry:t}){return{"operation.name":`${e}${null!=(null==t?void 0:t.functionId)?` ${t.functionId}`:""}`,"resource.name":null==t?void 0:t.functionId,"ai.operationId":e,"ai.telemetry.functionId":null==t?void 0:t.functionId}}var Lw={startSpan:()=>Dw,startActiveSpan:(e,t,n,r)=>"function"==typeof t?t(Dw):"function"==typeof n?n(Dw):"function"==typeof r?r(Dw):void 0},Dw={spanContext:()=>Fw,setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording:()=>!1,recordException(){return this}},Fw={traceId:"",spanId:"",traceFlags:0};function $w({name:e,tracer:t,attributes:n,fn:r,endWhenDone:a=!0}){return t.startActiveSpan(e,{attributes:n},async e=>{try{const t=await r(e);return a&&e.end(),t}catch(t){try{!function(e,t){t instanceof Error?(e.recordException({name:t.name,message:t.message,stack:t.stack}),e.setStatus({code:dw.ERROR,message:t.message})):e.setStatus({code:dw.ERROR})}(e,t)}finally{e.end()}throw t}})}function Vw({telemetry:e,attributes:t}){return!0!==(null==e?void 0:e.isEnabled)?{}:Object.entries(t).reduce((t,[n,r])=>{if(void 0===r)return t;if("object"==typeof r&&"input"in r&&"function"==typeof r.input){if(!1===(null==e?void 0:e.recordInputs))return t;const a=r.input();return void 0===a?t:{...t,[n]:a}}if("object"==typeof r&&"output"in r&&"function"==typeof r.output){if(!1===(null==e?void 0:e.recordOutputs))return t;const a=r.output();return void 0===a?t:{...t,[n]:a}}return{...t,[n]:r}},{})}var zw=[{mimeType:"image/gif",bytesPrefix:[71,73,70],base64Prefix:"R0lG"},{mimeType:"image/png",bytesPrefix:[137,80,78,71],base64Prefix:"iVBORw"},{mimeType:"image/jpeg",bytesPrefix:[255,216],base64Prefix:"/9j/"},{mimeType:"image/webp",bytesPrefix:[82,73,70,70],base64Prefix:"UklGRg"},{mimeType:"image/bmp",bytesPrefix:[66,77],base64Prefix:"Qk"},{mimeType:"image/tiff",bytesPrefix:[73,73,42,0],base64Prefix:"SUkqAA"},{mimeType:"image/tiff",bytesPrefix:[77,77,0,42],base64Prefix:"TU0AKg"},{mimeType:"image/avif",bytesPrefix:[0,0,0,32,102,116,121,112,97,118,105,102],base64Prefix:"AAAAIGZ0eXBhdmlm"},{mimeType:"image/heic",bytesPrefix:[0,0,0,32,102,116,121,112,104,101,105,99],base64Prefix:"AAAAIGZ0eXBoZWlj"}];function Uw(e){return"string"==typeof e&&e.startsWith("SUQz")||"string"!=typeof e&&e.length>10&&73===e[0]&&68===e[1]&&51===e[2]?(e=>{const t="string"==typeof e?jy(e):e,n=(127&t[6])<<21|(127&t[7])<<14|(127&t[8])<<7|127&t[9];return t.slice(n+10)})(e):e}var Bw,Ww="AI_NoObjectGeneratedError",Hw=`vercel.ai.error.${Ww}`,qw=Symbol.for(Hw),Zw=class extends eg{constructor({message:e="No object generated.",cause:t,text:n,response:r,usage:a,finishReason:s}){super({name:Ww,message:e,cause:t}),this[Bw]=!0,this.text=n,this.response=r,this.usage=a,this.finishReason=s}static isInstance(e){return eg.hasMarker(e,Hw)}};Bw=qw;var Kw,Yw="AI_DownloadError",Jw=`vercel.ai.error.${Yw}`,Gw=Symbol.for(Jw),Xw=class extends eg{constructor({url:e,statusCode:t,statusText:n,cause:r,message:a=(null==r?`Failed to download ${e}: ${t} ${n}`:`Failed to download ${e}: ${r}`)}){super({name:Yw,message:a,cause:r}),this[Kw]=!0,this.url=e,this.statusCode=t,this.statusText=n}static isInstance(e){return eg.hasMarker(e,Jw)}};async function Qw({url:e}){var t;const n=e.toString();try{const e=await fetch(n);if(!e.ok)throw new Xw({url:n,statusCode:e.status,statusText:e.statusText});return{data:new Uint8Array(await e.arrayBuffer()),mimeType:null!=(t=e.headers.get("content-type"))?t:void 0}}catch(r){if(Xw.isInstance(r))throw r;throw new Xw({url:n,cause:r})}}Kw=Gw;var ek,tk="AI_InvalidDataContentError",nk=`vercel.ai.error.${tk}`,rk=Symbol.for(nk),ak=class extends eg{constructor({content:e,cause:t,message:n=`Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof e}.`}){super({name:tk,message:n,cause:t}),this[ek]=!0,this.content=e}static isInstance(e){return eg.hasMarker(e,nk)}};ek=rk;var sk=jb([kb(),wb(Uint8Array),wb(ArrayBuffer),vb(e=>{var t,n;return null!=(n=null==(t=globalThis.Buffer)?void 0:t.isBuffer(e))&&n},{message:"Must be a Buffer"})]);function ik(e){return"string"==typeof e?e:e instanceof ArrayBuffer?Ay(new Uint8Array(e)):Ay(e)}function ok(e){if(e instanceof Uint8Array)return e;if("string"==typeof e)try{return jy(e)}catch(t){throw new ak({message:"Invalid data content. Content string is not a base64-encoded media.",content:e,cause:t})}if(e instanceof ArrayBuffer)return new Uint8Array(e);throw new ak({content:e})}function lk(e){try{return(new TextDecoder).decode(e)}catch(t){throw new Error("Error decoding Uint8Array to text")}}var uk,ck="AI_InvalidMessageRoleError",dk=`vercel.ai.error.${ck}`,pk=Symbol.for(dk),hk=class extends eg{constructor({role:e,message:t=`Invalid message role: '${e}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:ck,message:t}),this[uk]=!0,this.role=e}static isInstance(e){return eg.hasMarker(e,dk)}};async function fk({prompt:e,modelSupportsImageUrls:t=!0,modelSupportsUrl:n=()=>!1,downloadImplementation:r=Qw}){const a=await async function(e,t,n,r){const a=e.filter(e=>"user"===e.role).map(e=>e.content).filter(e=>Array.isArray(e)).flat().filter(e=>"image"===e.type||"file"===e.type).filter(e=>!("image"===e.type&&!0===n)).map(e=>"image"===e.type?e.image:e.data).map(e=>"string"==typeof e&&(e.startsWith("http:")||e.startsWith("https:"))?new URL(e):e).filter(e=>e instanceof URL).filter(e=>!r(e)),s=await Promise.all(a.map(async e=>({url:e,data:await t({url:e})})));return Object.fromEntries(s.map(({url:e,data:t})=>[e.toString(),t]))}(e.messages,r,t,n);return[...null!=e.system?[{role:"system",content:e.system}]:[],...e.messages.map(e=>function(e,t){var n,r,a,s,i,o;const l=e.role;switch(l){case"system":return{role:"system",content:e.content,providerMetadata:null!=(n=e.providerOptions)?n:e.experimental_providerMetadata};case"user":return"string"==typeof e.content?{role:"user",content:[{type:"text",text:e.content}],providerMetadata:null!=(r=e.providerOptions)?r:e.experimental_providerMetadata}:{role:"user",content:e.content.map(e=>function(e,t){var n,r,a,s;if("text"===e.type)return{type:"text",text:e.text,providerMetadata:null!=(n=e.providerOptions)?n:e.experimental_providerMetadata};let i,o,l,u=e.mimeType;const c=e.type;switch(c){case"image":i=e.image;break;case"file":i=e.data;break;default:throw new Error(`Unsupported part type: ${c}`)}try{o="string"==typeof i?new URL(i):i}catch(d){o=i}if(o instanceof URL)if("data:"===o.protocol){const{mimeType:e,base64Content:t}=function(e){try{const[t,n]=e.split(",");return{mimeType:t.split(";")[0].split(":")[1],base64Content:n}}catch(d){return{mimeType:void 0,base64Content:void 0}}}(o.toString());if(null==e||null==t)throw new Error(`Invalid data URL format in part ${c}`);u=e,l=ok(t)}else{const e=t[o.toString()];e?(l=e.data,null!=u||(u=e.mimeType)):l=o}else l=ok(o);switch(c){case"image":return l instanceof Uint8Array&&(u=null!=(r=function({data:e,signatures:t}){const n=Uw(e);for(const r of t)if("string"==typeof n?n.startsWith(r.base64Prefix):n.length>=r.bytesPrefix.length&&r.bytesPrefix.every((e,t)=>n[t]===e))return r.mimeType}({data:l,signatures:zw}))?r:u),{type:"image",image:l,mimeType:u,providerMetadata:null!=(a=e.providerOptions)?a:e.experimental_providerMetadata};case"file":if(null==u)throw new Error("Mime type is missing for file part");return{type:"file",data:l instanceof Uint8Array?ik(l):l,filename:e.filename,mimeType:u,providerMetadata:null!=(s=e.providerOptions)?s:e.experimental_providerMetadata}}}(e,t)).filter(e=>"text"!==e.type||""!==e.text),providerMetadata:null!=(a=e.providerOptions)?a:e.experimental_providerMetadata};case"assistant":return"string"==typeof e.content?{role:"assistant",content:[{type:"text",text:e.content}],providerMetadata:null!=(s=e.providerOptions)?s:e.experimental_providerMetadata}:{role:"assistant",content:e.content.filter(e=>"text"!==e.type||""!==e.text).map(e=>{var t;const n=null!=(t=e.providerOptions)?t:e.experimental_providerMetadata;switch(e.type){case"file":return{type:"file",data:e.data instanceof URL?e.data:ik(e.data),filename:e.filename,mimeType:e.mimeType,providerMetadata:n};case"reasoning":return{type:"reasoning",text:e.text,signature:e.signature,providerMetadata:n};case"redacted-reasoning":return{type:"redacted-reasoning",data:e.data,providerMetadata:n};case"text":return{type:"text",text:e.text,providerMetadata:n};case"tool-call":return{type:"tool-call",toolCallId:e.toolCallId,toolName:e.toolName,args:e.args,providerMetadata:n}}}),providerMetadata:null!=(i=e.providerOptions)?i:e.experimental_providerMetadata};case"tool":return{role:"tool",content:e.content.map(e=>{var t;return{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,result:e.result,content:e.experimental_content,isError:e.isError,providerMetadata:null!=(t=e.providerOptions)?t:e.experimental_providerMetadata}}),providerMetadata:null!=(o=e.providerOptions)?o:e.experimental_providerMetadata};default:throw new hk({role:l})}}(e,a))]}function mk({maxTokens:e,temperature:t,topP:n,topK:r,presencePenalty:a,frequencyPenalty:s,stopSequences:i,seed:o}){if(null!=e){if(!Number.isInteger(e))throw new Cw({parameter:"maxTokens",value:e,message:"maxTokens must be an integer"});if(e<1)throw new Cw({parameter:"maxTokens",value:e,message:"maxTokens must be >= 1"})}if(null!=t&&"number"!=typeof t)throw new Cw({parameter:"temperature",value:t,message:"temperature must be a number"});if(null!=n&&"number"!=typeof n)throw new Cw({parameter:"topP",value:n,message:"topP must be a number"});if(null!=r&&"number"!=typeof r)throw new Cw({parameter:"topK",value:r,message:"topK must be a number"});if(null!=a&&"number"!=typeof a)throw new Cw({parameter:"presencePenalty",value:a,message:"presencePenalty must be a number"});if(null!=s&&"number"!=typeof s)throw new Cw({parameter:"frequencyPenalty",value:s,message:"frequencyPenalty must be a number"});if(null!=o&&!Number.isInteger(o))throw new Cw({parameter:"seed",value:o,message:"seed must be an integer"});return{maxTokens:e,temperature:null!=t?t:0,topP:n,topK:r,presencePenalty:a,frequencyPenalty:s,stopSequences:null!=i&&i.length>0?i:void 0,seed:o}}function gk(e){var t,n,r;const a=[];for(const i of e){let e;try{e=new URL(i.url)}catch(s){throw new Error(`Invalid URL: ${i.url}`)}switch(e.protocol){case"http:":case"https:":if(null==(t=i.contentType)?void 0:t.startsWith("image/"))a.push({type:"image",image:e});else{if(!i.contentType)throw new Error("If the attachment is not an image, it must specify a content type");a.push({type:"file",data:e,mimeType:i.contentType})}break;case"data:":{let e,t,o;try{[e,t]=i.url.split(","),o=e.split(";")[0].split(":")[1]}catch(s){throw new Error(`Error processing data URL: ${i.url}`)}if(null==o||null==t)throw new Error(`Invalid data URL format: ${i.url}`);if(null==(n=i.contentType)?void 0:n.startsWith("image/"))a.push({type:"image",image:ok(t)});else if(null==(r=i.contentType)?void 0:r.startsWith("text/"))a.push({type:"text",text:lk(ok(t))});else{if(!i.contentType)throw new Error("If the attachment is not an image or text, it must specify a content type");a.push({type:"file",data:t,mimeType:i.contentType})}break}default:throw new Error(`Unsupported URL protocol: ${e.protocol}`)}}return a}uk=pk;var yk,vk="AI_MessageConversionError",bk=`vercel.ai.error.${vk}`,xk=Symbol.for(bk),wk=class extends eg{constructor({originalMessage:e,message:t}){super({name:vk,message:t}),this[yk]=!0,this.originalMessage=e}static isInstance(e){return eg.hasMarker(e,bk)}};yk=xk;var kk=Rb(()=>jb([Tb(),kb(),Sb(),_b(),Ib(kb(),kk),Pb(kk)])),Sk=Ib(kb(),Ib(kb(),kk)),_k=Pb(jb([Nb({type:Mb("text"),text:kb()}),Nb({type:Mb("image"),data:kb(),mimeType:kb().optional()})])),Tk=Nb({type:Mb("text"),text:kb(),providerOptions:Sk.optional(),experimental_providerMetadata:Sk.optional()}),Ek=Nb({type:Mb("image"),image:jb([sk,wb(URL)]),mimeType:kb().optional(),providerOptions:Sk.optional(),experimental_providerMetadata:Sk.optional()}),Ck=Nb({type:Mb("file"),data:jb([sk,wb(URL)]),filename:kb().optional(),mimeType:kb(),providerOptions:Sk.optional(),experimental_providerMetadata:Sk.optional()}),Pk=Nb({type:Mb("reasoning"),text:kb(),providerOptions:Sk.optional(),experimental_providerMetadata:Sk.optional()}),Nk=Nb({type:Mb("redacted-reasoning"),data:kb(),providerOptions:Sk.optional(),experimental_providerMetadata:Sk.optional()}),jk=Nb({type:Mb("tool-call"),toolCallId:kb(),toolName:kb(),args:Cb(),providerOptions:Sk.optional(),experimental_providerMetadata:Sk.optional()}),Ak=Nb({type:Mb("tool-result"),toolCallId:kb(),toolName:kb(),result:Cb(),content:_k.optional(),isError:_b().optional(),providerOptions:Sk.optional(),experimental_providerMetadata:Sk.optional()}),Ik=Nb({role:Mb("system"),content:kb(),providerOptions:Sk.optional(),experimental_providerMetadata:Sk.optional()}),Rk=Nb({role:Mb("user"),content:jb([kb(),Pb(jb([Tk,Ek,Ck]))]),providerOptions:Sk.optional(),experimental_providerMetadata:Sk.optional()}),Mk=Nb({role:Mb("assistant"),content:jb([kb(),Pb(jb([Tk,Ck,Pk,Nk,jk]))]),providerOptions:Sk.optional(),experimental_providerMetadata:Sk.optional()}),Ok=Nb({role:Mb("tool"),content:Pb(Ak),providerOptions:Sk.optional(),experimental_providerMetadata:Sk.optional()}),Lk=jb([Ik,Rk,Mk,Ok]);function Dk({prompt:e,tools:t}){if(null==e.prompt&&null==e.messages)throw new xg({prompt:e,message:"prompt or messages must be defined"});if(null!=e.prompt&&null!=e.messages)throw new xg({prompt:e,message:"prompt and messages cannot be defined at the same time"});if(null!=e.system&&"string"!=typeof e.system)throw new xg({prompt:e,message:"system must be a string"});if(null!=e.prompt){if("string"!=typeof e.prompt)throw new xg({prompt:e,message:"prompt must be a string"});return{type:"prompt",system:e.system,messages:[{role:"user",content:e.prompt}]}}if(null!=e.messages){const n=function(e){if(!Array.isArray(e))throw new xg({prompt:e,message:["messages must be an array of CoreMessage or UIMessage",`Received non-array value: ${JSON.stringify(e)}`].join("\n"),cause:e});if(0===e.length)return"messages";const t=e.map(Fk);if(t.some(e=>"has-ui-specific-parts"===e))return"ui-messages";const n=t.findIndex(e=>"has-core-specific-parts"!==e&&"message"!==e);if(-1===n)return"messages";throw new xg({prompt:e,message:["messages must be an array of CoreMessage or UIMessage",`Received message of type: "${t[n]}" at index ${n}`,`messages[${n}]: ${JSON.stringify(e[n])}`].join("\n"),cause:e})}(e.messages),r="ui-messages"===n?function(e,t){var n,r;const a=null!=(n=null==t?void 0:t.tools)?n:{},s=[];for(let i=0;i<e.length;i++){const t=e[i],n=i===e.length-1,{role:o,content:l,experimental_attachments:u}=t;switch(o){case"system":s.push({role:"system",content:l});break;case"user":if(null==t.parts)s.push({role:"user",content:u?[{type:"text",text:l},...gk(u)]:l});else{const e=t.parts.filter(e=>"text"===e.type).map(e=>({type:"text",text:e.text}));s.push({role:"user",content:u?[...e,...gk(u)]:e})}break;case"assistant":{if(null!=t.parts){let e=function(){const e=[];for(const t of o)switch(t.type){case"file":case"text":e.push(t);break;case"reasoning":for(const n of t.details)switch(n.type){case"text":e.push({type:"reasoning",text:n.text,signature:n.signature});break;case"redacted":e.push({type:"redacted-reasoning",data:n.data})}break;case"tool-invocation":e.push({type:"tool-call",toolCallId:t.toolInvocation.toolCallId,toolName:t.toolInvocation.toolName,args:t.toolInvocation.args});break;default:throw new Error(`Unsupported part: ${t}`)}s.push({role:"assistant",content:e});const r=o.filter(e=>"tool-invocation"===e.type).map(e=>e.toolInvocation);r.length>0&&s.push({role:"tool",content:r.map(e=>{if(!("result"in e))throw new wk({originalMessage:t,message:"ToolInvocation must have a result: "+JSON.stringify(e)});const{toolCallId:n,toolName:r,result:s}=e,i=a[r];return null!=(null==i?void 0:i.experimental_toToolResultContent)?{type:"tool-result",toolCallId:n,toolName:r,result:i.experimental_toToolResultContent(s),experimental_content:i.experimental_toToolResultContent(s)}:{type:"tool-result",toolCallId:n,toolName:r,result:s}})}),o=[],i=!1,n++},n=0,i=!1,o=[];for(const a of t.parts)switch(a.type){case"text":i&&e(),o.push(a);break;case"file":case"reasoning":o.push(a);break;case"tool-invocation":(null!=(r=a.toolInvocation.step)?r:0)!==n&&e(),o.push(a),i=!0}e();break}const e=t.toolInvocations;if(null==e||0===e.length){s.push({role:"assistant",content:l});break}const i=e.reduce((e,t)=>{var n;return Math.max(e,null!=(n=t.step)?n:0)},0);for(let r=0;r<=i;r++){const i=e.filter(e=>{var t;return(null!=(t=e.step)?t:0)===r});0!==i.length&&(s.push({role:"assistant",content:[...n&&l&&0===r?[{type:"text",text:l}]:[],...i.map(({toolCallId:e,toolName:t,args:n})=>({type:"tool-call",toolCallId:e,toolName:t,args:n}))]}),s.push({role:"tool",content:i.map(e=>{if(!("result"in e))throw new wk({originalMessage:t,message:"ToolInvocation must have a result: "+JSON.stringify(e)});const{toolCallId:n,toolName:r,result:s}=e,i=a[r];return null!=(null==i?void 0:i.experimental_toToolResultContent)?{type:"tool-result",toolCallId:n,toolName:r,result:i.experimental_toToolResultContent(s),experimental_content:i.experimental_toToolResultContent(s)}:{type:"tool-result",toolCallId:n,toolName:r,result:s}})}))}l&&!n&&s.push({role:"assistant",content:l});break}case"data":break;default:throw new wk({originalMessage:t,message:`Unsupported role: ${o}`})}}return s}(e.messages,{tools:t}):e.messages;if(0===r.length)throw new xg({prompt:e,message:"messages must not be empty"});const a=vy({value:r,schema:Pb(Lk)});if(!a.success)throw new xg({prompt:e,message:["message must be a CoreMessage or a UI message",`Validation error: ${a.error.message}`].join("\n"),cause:a.error});return{type:"messages",messages:r,system:e.system}}throw new Error("unreachable")}function Fk(e){return"object"==typeof e&&null!==e&&("function"===e.role||"data"===e.role||"toolInvocations"in e||"parts"in e||"experimental_attachments"in e)?"has-ui-specific-parts":"object"==typeof e&&null!==e&&"content"in e&&(Array.isArray(e.content)||"experimental_providerMetadata"in e||"providerOptions"in e)?"has-core-specific-parts":"object"==typeof e&&null!==e&&"role"in e&&"content"in e&&"string"==typeof e.content&&["system","user","assistant","tool"].includes(e.role)?"message":"other"}function $k({promptTokens:e,completionTokens:t}){return{promptTokens:e,completionTokens:t,totalTokens:e+t}}function Vk({prompt:e,schema:t,schemaPrefix:n=(null!=t?"JSON schema:":void 0),schemaSuffix:r=(null!=t?"You MUST answer with a JSON object that matches the JSON schema above.":"You MUST answer with JSON.")}){return[null!=e&&e.length>0?e:void 0,null!=e&&e.length>0?"":void 0,n,null!=t?JSON.stringify(t):void 0,r].filter(e=>null!=e).join("\n")}var zk={type:"no-schema",jsonSchema:void 0,validatePartialResult:({value:e,textDelta:t})=>({success:!0,value:{partial:e,textDelta:t}}),validateFinalResult:(e,t)=>void 0===e?{success:!1,error:new Zw({message:"No object generated: response did not match schema.",text:t.text,response:t.response,usage:t.usage,finishReason:t.finishReason})}:{success:!0,value:e},createElementStream(){throw new Jg({functionality:"element streams in no-schema mode"})}},Uk=e=>{const{$schema:t,...n}=e.jsonSchema;return{type:"enum",jsonSchema:{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{elements:{type:"array",items:n}},required:["elements"],additionalProperties:!1},validatePartialResult({value:t,latestObject:n,isFirstDelta:r,isFinalDelta:a}){var s;if(!Qg(t)||!Xg(t.elements))return{success:!1,error:new qg({value:t,cause:"value must be an object that contains an array of elements"})};const i=t.elements,o=[];for(let c=0;c<i.length;c++){const t=vy({value:i[c],schema:e});if(c!==i.length-1||a){if(!t.success)return t;o.push(t.value)}}const l=null!=(s=null==n?void 0:n.length)?s:0;let u="";return r&&(u+="["),l>0&&(u+=","),u+=o.slice(l).map(e=>JSON.stringify(e)).join(","),a&&(u+="]"),{success:!0,value:{partial:o,textDelta:u}}},validateFinalResult(t){if(!Qg(t)||!Xg(t.elements))return{success:!1,error:new qg({value:t,cause:"value must be an object that contains an array of elements"})};const n=t.elements;for(const r of n){const t=vy({value:r,schema:e});if(!t.success)return t}return{success:!0,value:n}},createElementStream(e){let t=0;return function(e){const t=e.pipeThrough(new TransformStream);return t[Symbol.asyncIterator]=()=>{const e=t.getReader();return{async next(){const{done:t,value:n}=await e.read();return t?{done:!0,value:void 0}:{done:!1,value:n}}}},t}(e.pipeThrough(new TransformStream({transform(e,n){switch(e.type){case"object":{const r=e.object;for(;t<r.length;t++)n.enqueue(r[t]);break}case"text-delta":case"finish":case"error":break;default:throw new Error(`Unsupported chunk type: ${e}`)}}})))}}};function Bk({output:e,schema:t,enumValues:n}){switch(e){case"object":return(e=>({type:"object",jsonSchema:e.jsonSchema,validatePartialResult:({value:e,textDelta:t})=>({success:!0,value:{partial:e,textDelta:t}}),validateFinalResult:t=>vy({value:t,schema:e}),createElementStream(){throw new Jg({functionality:"element streams in object mode"})}}))(_x(t));case"array":return Uk(_x(t));case"enum":return(e=>({type:"enum",jsonSchema:{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{result:{type:"string",enum:e}},required:["result"],additionalProperties:!1},validateFinalResult(t){if(!Qg(t)||"string"!=typeof t.result)return{success:!1,error:new qg({value:t,cause:'value must be an object that contains a string in the "result" property.'})};const n=t.result;return e.includes(n)?{success:!0,value:n}:{success:!1,error:new qg({value:t,cause:"value must be a string in the enum"})}},validatePartialResult(){throw new Jg({functionality:"partial results in enum mode"})},createElementStream(){throw new Jg({functionality:"element streams in enum mode"})}}))(n);case"no-schema":return zk;default:throw new Error(`Unsupported output: ${e}`)}}function Wk(e){return"image"===e.type?{...e,image:e.image instanceof Uint8Array?ik(e.image):e.image}:e}var Hk=py({prefix:"aiobj",size:24});async function qk({model:e,enum:t,schema:n,schemaName:r,schemaDescription:a,mode:s,output:i="object",system:o,prompt:l,messages:u,maxRetries:c,abortSignal:d,headers:p,experimental_repairText:h,experimental_telemetry:f,experimental_providerMetadata:m,providerOptions:g=m,_internal:{generateId:y=Hk,currentDate:v=()=>new Date}={},...b}){if("string"==typeof e||"v1"!==e.specificationVersion)throw new Sw;!function({output:e,mode:t,schema:n,schemaName:r,schemaDescription:a,enumValues:s}){if(null!=e&&"object"!==e&&"array"!==e&&"enum"!==e&&"no-schema"!==e)throw new Cw({parameter:"output",value:e,message:"Invalid output type."});if("no-schema"===e){if("auto"===t||"tool"===t)throw new Cw({parameter:"mode",value:t,message:'Mode must be "json" for no-schema output.'});if(null!=n)throw new Cw({parameter:"schema",value:n,message:"Schema is not supported for no-schema output."});if(null!=a)throw new Cw({parameter:"schemaDescription",value:a,message:"Schema description is not supported for no-schema output."});if(null!=r)throw new Cw({parameter:"schemaName",value:r,message:"Schema name is not supported for no-schema output."});if(null!=s)throw new Cw({parameter:"enumValues",value:s,message:"Enum values are not supported for no-schema output."})}if("object"===e){if(null==n)throw new Cw({parameter:"schema",value:n,message:"Schema is required for object output."});if(null!=s)throw new Cw({parameter:"enumValues",value:s,message:"Enum values are not supported for object output."})}if("array"===e){if(null==n)throw new Cw({parameter:"schema",value:n,message:"Element schema is required for array output."});if(null!=s)throw new Cw({parameter:"enumValues",value:s,message:"Enum values are not supported for array output."})}if("enum"===e){if(null!=n)throw new Cw({parameter:"schema",value:n,message:"Schema is not supported for enum output."});if(null!=a)throw new Cw({parameter:"schemaDescription",value:a,message:"Schema description is not supported for enum output."});if(null!=r)throw new Cw({parameter:"schemaName",value:r,message:"Schema name is not supported for enum output."});if(null==s)throw new Cw({parameter:"enumValues",value:s,message:"Enum values are required for enum output."});for(const e of s)if("string"!=typeof e)throw new Cw({parameter:"enumValues",value:e,message:"Enum values must be strings."})}}({output:i,mode:s,schema:n,schemaName:r,schemaDescription:a,enumValues:t});const{maxRetries:x,retry:w}=function({maxRetries:e}){if(null!=e){if(!Number.isInteger(e))throw new Cw({parameter:"maxRetries",value:e,message:"maxRetries must be an integer"});if(e<0)throw new Cw({parameter:"maxRetries",value:e,message:"maxRetries must be >= 0"})}const t=null!=e?e:2;return{maxRetries:t,retry:Rw({maxRetries:t})}}({maxRetries:c}),k=Bk({output:i,schema:n,enumValues:t});"no-schema"===k.type&&void 0===s&&(s="json");const S=function({model:e,settings:t,telemetry:n,headers:r}){var a;return{"ai.model.provider":e.provider,"ai.model.id":e.modelId,...Object.entries(t).reduce((e,[t,n])=>(e[`ai.settings.${t}`]=n,e),{}),...Object.entries(null!=(a=null==n?void 0:n.metadata)?a:{}).reduce((e,[t,n])=>(e[`ai.telemetry.metadata.${t}`]=n,e),{}),...Object.entries(null!=r?r:{}).reduce((e,[t,n])=>(void 0!==n&&(e[`ai.request.headers.${t}`]=n),e),{})}}({model:e,telemetry:f,headers:p,settings:{...b,maxRetries:x}}),_=function({isEnabled:e=!1,tracer:t}={}){return e?t||vw.getTracer("ai"):Lw}(f);return $w({name:"ai.generateObject",attributes:Vw({telemetry:f,attributes:{...Ow({operationId:"ai.generateObject",telemetry:f}),...S,"ai.prompt":{input:()=>JSON.stringify({system:o,prompt:l,messages:u})},"ai.schema":null!=k.jsonSchema?{input:()=>JSON.stringify(k.jsonSchema)}:void 0,"ai.schema.name":r,"ai.schema.description":a,"ai.settings.output":k.type,"ai.settings.mode":s}}),tracer:_,fn:async t=>{var n,i,c,m;let x,T,E,C,P,N,j,A,I,R;switch("auto"!==s&&null!=s||(s=e.defaultObjectGenerationMode),s){case"json":{const t=Dk({prompt:{system:null==k.jsonSchema?Vk({prompt:o}):e.supportsStructuredOutputs?o:Vk({prompt:o,schema:k.jsonSchema}),prompt:l,messages:u},tools:void 0}),c=await fk({prompt:t,modelSupportsImageUrls:e.supportsImageUrls,modelSupportsUrl:null==(n=e.supportsUrl)?void 0:n.bind(e)}),h=await w(()=>$w({name:"ai.generateObject.doGenerate",attributes:Vw({telemetry:f,attributes:{...Ow({operationId:"ai.generateObject.doGenerate",telemetry:f}),...S,"ai.prompt.format":{input:()=>t.type},"ai.prompt.messages":{input:()=>JSON.stringify(c)},"ai.settings.mode":s,"gen_ai.system":e.provider,"gen_ai.request.model":e.modelId,"gen_ai.request.frequency_penalty":b.frequencyPenalty,"gen_ai.request.max_tokens":b.maxTokens,"gen_ai.request.presence_penalty":b.presencePenalty,"gen_ai.request.temperature":b.temperature,"gen_ai.request.top_k":b.topK,"gen_ai.request.top_p":b.topP}}),tracer:_,fn:async n=>{var s,i,o,l,u,h;const m=await e.doGenerate({mode:{type:"object-json",schema:k.jsonSchema,name:r,description:a},...mk(b),inputFormat:t.type,prompt:c,providerMetadata:g,abortSignal:d,headers:p}),x={id:null!=(i=null==(s=m.response)?void 0:s.id)?i:y(),timestamp:null!=(l=null==(o=m.response)?void 0:o.timestamp)?l:v(),modelId:null!=(h=null==(u=m.response)?void 0:u.modelId)?h:e.modelId};if(void 0===m.text)throw new Zw({message:"No object generated: the model did not return a response.",response:x,usage:$k(m.usage),finishReason:m.finishReason});return n.setAttributes(Vw({telemetry:f,attributes:{"ai.response.finishReason":m.finishReason,"ai.response.object":{output:()=>m.text},"ai.response.id":x.id,"ai.response.model":x.modelId,"ai.response.timestamp":x.timestamp.toISOString(),"ai.response.providerMetadata":JSON.stringify(m.providerMetadata),"ai.usage.promptTokens":m.usage.promptTokens,"ai.usage.completionTokens":m.usage.completionTokens,"gen_ai.response.finish_reasons":[m.finishReason],"gen_ai.response.id":x.id,"gen_ai.response.model":x.modelId,"gen_ai.usage.prompt_tokens":m.usage.promptTokens,"gen_ai.usage.completion_tokens":m.usage.completionTokens}})),{...m,objectText:m.text,responseData:x}}}));x=h.objectText,T=h.finishReason,E=h.usage,C=h.warnings,P=h.rawResponse,A=h.logprobs,I=h.providerMetadata,j=null!=(i=h.request)?i:{},N=h.responseData;break}case"tool":{const t=Dk({prompt:{system:o,prompt:l,messages:u},tools:void 0}),n=await fk({prompt:t,modelSupportsImageUrls:e.supportsImageUrls,modelSupportsUrl:null==(c=e.supportsUrl)?void 0:c.bind(e)}),i=t.type,h=await w(()=>$w({name:"ai.generateObject.doGenerate",attributes:Vw({telemetry:f,attributes:{...Ow({operationId:"ai.generateObject.doGenerate",telemetry:f}),...S,"ai.prompt.format":{input:()=>i},"ai.prompt.messages":{input:()=>function(e){const t=e.map(e=>({...e,content:"string"==typeof e.content?e.content:e.content.map(Wk)}));return JSON.stringify(t)}(n)},"ai.settings.mode":s,"gen_ai.system":e.provider,"gen_ai.request.model":e.modelId,"gen_ai.request.frequency_penalty":b.frequencyPenalty,"gen_ai.request.max_tokens":b.maxTokens,"gen_ai.request.presence_penalty":b.presencePenalty,"gen_ai.request.temperature":b.temperature,"gen_ai.request.top_k":b.topK,"gen_ai.request.top_p":b.topP}}),tracer:_,fn:async t=>{var s,o,l,u,c,h,m,x;const w=await e.doGenerate({mode:{type:"object-tool",tool:{type:"function",name:null!=r?r:"json",description:null!=a?a:"Respond with a JSON object.",parameters:k.jsonSchema}},...mk(b),inputFormat:i,prompt:n,providerMetadata:g,abortSignal:d,headers:p}),S=null==(o=null==(s=w.toolCalls)?void 0:s[0])?void 0:o.args,_={id:null!=(u=null==(l=w.response)?void 0:l.id)?u:y(),timestamp:null!=(h=null==(c=w.response)?void 0:c.timestamp)?h:v(),modelId:null!=(x=null==(m=w.response)?void 0:m.modelId)?x:e.modelId};if(void 0===S)throw new Zw({message:"No object generated: the tool was not called.",response:_,usage:$k(w.usage),finishReason:w.finishReason});return t.setAttributes(Vw({telemetry:f,attributes:{"ai.response.finishReason":w.finishReason,"ai.response.object":{output:()=>S},"ai.response.id":_.id,"ai.response.model":_.modelId,"ai.response.timestamp":_.timestamp.toISOString(),"ai.response.providerMetadata":JSON.stringify(w.providerMetadata),"ai.usage.promptTokens":w.usage.promptTokens,"ai.usage.completionTokens":w.usage.completionTokens,"gen_ai.response.finish_reasons":[w.finishReason],"gen_ai.response.id":_.id,"gen_ai.response.model":_.modelId,"gen_ai.usage.input_tokens":w.usage.promptTokens,"gen_ai.usage.output_tokens":w.usage.completionTokens}})),{...w,objectText:S,responseData:_}}}));x=h.objectText,T=h.finishReason,E=h.usage,C=h.warnings,P=h.rawResponse,A=h.logprobs,I=h.providerMetadata,j=null!=(m=h.request)?m:{},N=h.responseData;break}case void 0:throw new Error("Model does not have a default object generation mode.");default:throw new Error(`Unsupported mode: ${s}`)}function M(e){const t=xy({text:e});if(!t.success)throw new Zw({message:"No object generated: could not parse the response.",cause:t.error,text:e,response:N,usage:$k(E),finishReason:T});const n=k.validateFinalResult(t.value,{text:e,response:N,usage:$k(E)});if(!n.success)throw new Zw({message:"No object generated: response did not match schema.",cause:n.error,text:e,response:N,usage:$k(E),finishReason:T});return n.value}try{R=M(x)}catch(O){if(null==h||!Zw.isInstance(O)||!jg.isInstance(O.cause)&&!qg.isInstance(O.cause))throw O;{const e=await h({text:x,error:O.cause});if(null===e)throw O;R=M(e)}}return t.setAttributes(Vw({telemetry:f,attributes:{"ai.response.finishReason":T,"ai.response.object":{output:()=>JSON.stringify(R)},"ai.usage.promptTokens":E.promptTokens,"ai.usage.completionTokens":E.completionTokens}})),new Zk({object:R,finishReason:T,usage:$k(E),warnings:C,request:j,response:{...N,headers:null==P?void 0:P.headers,body:null==P?void 0:P.body},logprobs:A,providerMetadata:I})}})}var Zk=class{constructor(e){this.object=e.object,this.finishReason=e.finishReason,this.usage=e.usage,this.warnings=e.warnings,this.providerMetadata=e.providerMetadata,this.experimental_providerMetadata=e.providerMetadata,this.response=e.response,this.request=e.request,this.logprobs=e.logprobs}toJsonResponse(e){var t;return new Response(JSON.stringify(this.object),{status:null!=(t=null==e?void 0:e.status)?t:200,headers:ww(null==e?void 0:e.headers,{contentType:"application/json; charset=utf-8"})})}};py({prefix:"aiobj",size:24}),py({prefix:"aitxt",size:24}),py({prefix:"msg",size:24});xw({},{object:()=>Yk,text:()=>Kk});var Kk=()=>({type:"text",responseFormat:()=>({type:"text"}),injectIntoSystemPrompt:({system:e})=>e,parsePartial:({text:e})=>({partial:e}),parseOutput:({text:e})=>e}),Yk=({schema:e})=>{const t=_x(e);return{type:"object",responseFormat:({model:e})=>({type:"json",schema:e.supportsStructuredOutputs?t.jsonSchema:void 0}),injectIntoSystemPrompt:({system:e,model:n})=>n.supportsStructuredOutputs?e:Vk({prompt:e,schema:t.jsonSchema}),parsePartial({text:e}){const t=function(e){if(void 0===e)return{value:void 0,state:"undefined-input"};let t=xy({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=xy({text:bx(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}(e);switch(t.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:t.value};default:{const e=t.state;throw new Error(`Unsupported parse state: ${e}`)}}},parseOutput({text:e},n){const r=xy({text:e});if(!r.success)throw new Zw({message:"No object generated: could not parse the response.",cause:r.error,text:e,response:n.response,usage:n.usage,finishReason:n.finishReason});const a=vy({value:r.value,schema:t});if(!a.success)throw new Zw({message:"No object generated: response did not match schema.",cause:a.error,text:e,response:n.response,usage:n.usage,finishReason:n.finishReason});return a.value}}};function Jk(e,t){const n=e.getReader(),r=t.getReader();let a,s,i=!1,o=!1;async function l(e){try{null==a&&(a=n.read());const t=await a;a=void 0,t.done?e.close():e.enqueue(t.value)}catch(t){e.error(t)}}async function u(e){try{null==s&&(s=r.read());const t=await s;s=void 0,t.done?e.close():e.enqueue(t.value)}catch(t){e.error(t)}}return new ReadableStream({async pull(e){try{if(i)return void(await u(e));if(o)return void(await l(e));null==a&&(a=n.read()),null==s&&(s=r.read());const{result:t,reader:c}=await Promise.race([a.then(e=>({result:e,reader:n})),s.then(e=>({result:e,reader:r}))]);t.done||e.enqueue(t.value),c===n?(a=void 0,t.done&&(await u(e),i=!0)):(s=void 0,t.done&&(o=!0,await l(e)))}catch(t){e.error(t)}},cancel(){n.cancel(),r.cancel()}})}py({prefix:"aitxt",size:24}),py({prefix:"msg",size:24});var Gk=Nb({name:kb(),version:kb()}).passthrough(),Xk=Nb({_meta:Lb(Nb({}).passthrough())}).passthrough(),Qk=Xk,eS=Nb({method:kb(),params:Lb(Xk)}),tS=Nb({experimental:Lb(Nb({}).passthrough()),logging:Lb(Nb({}).passthrough()),prompts:Lb(Nb({listChanged:Lb(_b())}).passthrough()),resources:Lb(Nb({subscribe:Lb(_b()),listChanged:Lb(_b())}).passthrough()),tools:Lb(Nb({listChanged:Lb(_b())}).passthrough())}).passthrough();Qk.extend({protocolVersion:kb(),capabilities:tS,serverInfo:Gk,instructions:Lb(kb())});var nS=Qk.extend({nextCursor:Lb(kb())}),rS=Nb({name:kb(),description:Lb(kb()),inputSchema:Nb({type:Mb("object"),properties:Lb(Nb({}).passthrough())}).passthrough()}).passthrough();nS.extend({tools:Pb(rS)});var aS=Nb({type:Mb("text"),text:kb()}).passthrough(),sS=Nb({type:Mb("image"),data:kb().base64(),mimeType:kb()}).passthrough(),iS=Nb({uri:kb(),mimeType:Lb(kb())}).passthrough(),oS=iS.extend({text:kb()}),lS=iS.extend({blob:kb().base64()}),uS=Nb({type:Mb("resource"),resource:jb([oS,lS])}).passthrough();Qk.extend({content:Pb(jb([aS,sS,uS])),isError:_b().default(!1).optional()}).or(Qk.extend({toolResult:Cb()}));var cS="2.0",dS=Nb({jsonrpc:Mb(cS),id:jb([kb(),Sb().int()])}).merge(eS).strict(),pS=Nb({jsonrpc:Mb(cS),id:jb([kb(),Sb().int()]),result:Qk}).strict(),hS=Nb({jsonrpc:Mb(cS),id:jb([kb(),Sb().int()]),error:Nb({code:Sb().int(),message:kb(),data:Lb(Cb())})}).strict(),fS=Nb({jsonrpc:Mb(cS)}).merge(Nb({method:kb(),params:Lb(Xk)})).strict();jb([dS,fS,pS,hS]);function mS(e={}){const t=new TextEncoder;let n="";return new TransformStream({async start(){e.onStart&&await e.onStart()},async transform(r,a){a.enqueue(t.encode(r)),n+=r,e.onToken&&await e.onToken(r),e.onText&&"string"==typeof r&&await e.onText(r)},async flush(){e.onCompletion&&await e.onCompletion(n),e.onFinal&&await e.onFinal(n)}})}function gS(e,t){return e.pipeThrough(new TransformStream({transform:async(e,t)=>{var n;"string"!=typeof e?"event"in e?"on_chat_model_stream"===e.event&&xS(null==(n=e.data)?void 0:n.chunk,t):xS(e,t):t.enqueue(e)}})).pipeThrough(mS(t)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(e,t)=>{t.enqueue(wx("text",e))}}))}function yS(e,t){return gS(e,t).pipeThrough(new TextEncoderStream)}function vS(e,t){var n;const r=gS(e,null==t?void 0:t.callbacks).pipeThrough(new TextEncoderStream),a=null==t?void 0:t.data,s=null==t?void 0:t.init,i=a?Jk(a.stream,r):r;return new Response(i,{status:null!=(n=null==s?void 0:s.status)?n:200,statusText:null==s?void 0:s.statusText,headers:ww(null==s?void 0:s.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function bS(e,t){t.dataStream.merge(gS(e,t.callbacks))}function xS(e,t){if("string"==typeof e.content)t.enqueue(e.content);else{const n=e.content;for(const e of n)"text"===e.type&&t.enqueue(e.text)}}xw({},{mergeIntoDataStream:()=>bS,toDataStream:()=>yS,toDataStreamResponse:()=>vS});function wS(e,t){const n=function(){let e=!0;return t=>(e&&(t=t.trimStart())&&(e=!1),t)}();return(r=e[Symbol.asyncIterator](),new ReadableStream({async pull(e){try{const{value:t,done:n}=await r.next();n?e.close():e.enqueue(t)}catch(t){e.error(t)}},cancel(){}})).pipeThrough(new TransformStream({async transform(e,t){t.enqueue(n(e.delta))}})).pipeThrough(mS(t)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(e,t)=>{t.enqueue(wx("text",e))}}));var r}function kS(e,t){return wS(e,t).pipeThrough(new TextEncoderStream)}function SS(e,t={}){var n;const{init:r,data:a,callbacks:s}=t,i=wS(e,s).pipeThrough(new TextEncoderStream),o=a?Jk(a.stream,i):i;return new Response(o,{status:null!=(n=null==r?void 0:r.status)?n:200,statusText:null==r?void 0:r.statusText,headers:ww(null==r?void 0:r.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function _S(e,t){t.dataStream.merge(wS(e,t.callbacks))}xw({},{mergeIntoDataStream:()=>_S,toDataStream:()=>kS,toDataStreamResponse:()=>SS});const TS="AI Insights - ";function ES(e){var t,n;return null!=(n=null==(t=null==e?void 0:e.content)?void 0:t.map(({token:e,logprob:t,top_logprobs:n})=>({token:e,logprob:t,topLogprobs:n?n.map(({token:e,logprob:t})=>({token:e,logprob:t})):[]})))?n:void 0}function CS(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var PS=Nb({error:Nb({message:kb(),type:kb().nullish(),param:Eb().nullish(),code:jb([kb(),Sb()]).nullish()})}),NS=(({errorSchema:e,errorToMessage:t,isRetryable:n})=>async({response:r,url:a,requestBodyValues:s})=>{const i=await r.text(),o=dy(r);if(""===i.trim())return{responseHeaders:o,value:new ag({message:r.statusText,url:a,requestBodyValues:s,statusCode:r.status,responseHeaders:o,responseBody:i,isRetryable:null==n?void 0:n(r)})};try{const l=by({text:i,schema:e});return{responseHeaders:o,value:new ag({message:t(l),url:a,requestBodyValues:s,statusCode:r.status,responseHeaders:o,responseBody:i,data:l,isRetryable:null==n?void 0:n(r,l)})}}catch(l){return{responseHeaders:o,value:new ag({message:r.statusText,url:a,requestBodyValues:s,statusCode:r.status,responseHeaders:o,responseBody:i,isRetryable:null==n?void 0:n(r)})}}})({errorSchema:PS,errorToMessage:e=>e.error.message});function jS({id:e,model:t,created:n}){return{id:null!=e?e:void 0,modelId:null!=t?t:void 0,timestamp:null!=n?new Date(1e3*n):void 0}}var AS=class{constructor(e,t,n){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=n}get supportsStructuredOutputs(){var e;return null!=(e=this.settings.structuredOutputs)?e:OS(this.modelId)}get defaultObjectGenerationMode(){return this.modelId.startsWith("gpt-4o-audio-preview")?"tool":this.supportsStructuredOutputs?"json":"tool"}get provider(){return this.config.provider}get supportsImageUrls(){return!this.settings.downloadImages}getArgs({mode:e,prompt:t,maxTokens:n,temperature:r,topP:a,topK:s,frequencyPenalty:i,presencePenalty:o,stopSequences:l,responseFormat:u,seed:c,providerMetadata:d}){var p,h,f,m,g,y,v,b;const x=e.type,w=[];null!=s&&w.push({type:"unsupported-setting",setting:"topK"}),"json"!==(null==u?void 0:u.type)||null==u.schema||this.supportsStructuredOutputs||w.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});const k=this.settings.useLegacyFunctionCalling;if(k&&!0===this.settings.parallelToolCalls)throw new Jg({functionality:"useLegacyFunctionCalling with parallelToolCalls"});if(k&&this.supportsStructuredOutputs)throw new Jg({functionality:"structuredOutputs with useLegacyFunctionCalling"});const{messages:S,warnings:_}=function({prompt:e,useLegacyFunctionCalling:t=!1,systemMessageMode:n="system"}){const r=[],a=[];for(const{role:s,content:i}of e)switch(s){case"system":switch(n){case"system":r.push({role:"system",content:i});break;case"developer":r.push({role:"developer",content:i});break;case"remove":a.push({type:"other",message:"system messages are removed for this model"});break;default:throw new Error(`Unsupported system message mode: ${n}`)}break;case"user":if(1===i.length&&"text"===i[0].type){r.push({role:"user",content:i[0].text});break}r.push({role:"user",content:i.map((e,t)=>{var n,r,a,s;switch(e.type){case"text":return{type:"text",text:e.text};case"image":return{type:"image_url",image_url:{url:e.image instanceof URL?e.image.toString():`data:${null!=(n=e.mimeType)?n:"image/jpeg"};base64,${Ay(e.image)}`,detail:null==(a=null==(r=e.providerMetadata)?void 0:r.openai)?void 0:a.imageDetail}};case"file":if(e.data instanceof URL)throw new Jg({functionality:"'File content parts with URL data' functionality not supported."});switch(e.mimeType){case"audio/wav":return{type:"input_audio",input_audio:{data:e.data,format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:e.data,format:"mp3"}};case"application/pdf":return{type:"file",file:{filename:null!=(s=e.filename)?s:`part-${t}.pdf`,file_data:`data:application/pdf;base64,${e.data}`}};default:throw new Jg({functionality:`File content part type ${e.mimeType} in user messages`})}}})});break;case"assistant":{let e="";const n=[];for(const t of i)switch(t.type){case"text":e+=t.text;break;case"tool-call":n.push({id:t.toolCallId,type:"function",function:{name:t.toolName,arguments:JSON.stringify(t.args)}})}if(t){if(n.length>1)throw new Jg({functionality:"useLegacyFunctionCalling with multiple tool calls in one message"});r.push({role:"assistant",content:e,function_call:n.length>0?n[0].function:void 0})}else r.push({role:"assistant",content:e,tool_calls:n.length>0?n:void 0});break}case"tool":for(const e of i)t?r.push({role:"function",name:e.toolName,content:JSON.stringify(e.result)}):r.push({role:"tool",tool_call_id:e.toolCallId,content:JSON.stringify(e.result)});break;default:throw new Error(`Unsupported role: ${s}`)}return{messages:r,warnings:a}}({prompt:t,useLegacyFunctionCalling:k,systemMessageMode:LS(this.modelId)});w.push(..._);const T={model:this.modelId,logit_bias:this.settings.logitBias,logprobs:!0===this.settings.logprobs||"number"==typeof this.settings.logprobs||void 0,top_logprobs:"number"==typeof this.settings.logprobs?this.settings.logprobs:"boolean"==typeof this.settings.logprobs&&this.settings.logprobs?0:void 0,user:this.settings.user,parallel_tool_calls:this.settings.parallelToolCalls,max_tokens:n,temperature:r,top_p:a,frequency_penalty:i,presence_penalty:o,response_format:"json"===(null==u?void 0:u.type)?this.supportsStructuredOutputs&&null!=u.schema?{type:"json_schema",json_schema:{schema:u.schema,strict:!0,name:null!=(p=u.name)?p:"response",description:u.description}}:{type:"json_object"}:void 0,stop:l,seed:c,max_completion_tokens:null==(h=null==d?void 0:d.openai)?void 0:h.maxCompletionTokens,store:null==(f=null==d?void 0:d.openai)?void 0:f.store,metadata:null==(m=null==d?void 0:d.openai)?void 0:m.metadata,prediction:null==(g=null==d?void 0:d.openai)?void 0:g.prediction,reasoning_effort:null!=(v=null==(y=null==d?void 0:d.openai)?void 0:y.reasoningEffort)?v:this.settings.reasoningEffort,messages:S};switch(OS(this.modelId)?(null!=T.temperature&&(T.temperature=void 0,w.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),null!=T.top_p&&(T.top_p=void 0,w.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"})),null!=T.frequency_penalty&&(T.frequency_penalty=void 0,w.push({type:"unsupported-setting",setting:"frequencyPenalty",details:"frequencyPenalty is not supported for reasoning models"})),null!=T.presence_penalty&&(T.presence_penalty=void 0,w.push({type:"unsupported-setting",setting:"presencePenalty",details:"presencePenalty is not supported for reasoning models"})),null!=T.logit_bias&&(T.logit_bias=void 0,w.push({type:"other",message:"logitBias is not supported for reasoning models"})),null!=T.logprobs&&(T.logprobs=void 0,w.push({type:"other",message:"logprobs is not supported for reasoning models"})),null!=T.top_logprobs&&(T.top_logprobs=void 0,w.push({type:"other",message:"topLogprobs is not supported for reasoning models"})),null!=T.max_tokens&&(null==T.max_completion_tokens&&(T.max_completion_tokens=T.max_tokens),T.max_tokens=void 0)):(this.modelId.startsWith("gpt-4o-search-preview")||this.modelId.startsWith("gpt-4o-mini-search-preview"))&&null!=T.temperature&&(T.temperature=void 0,w.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for the search preview models and has been removed."})),x){case"regular":{const{tools:t,tool_choice:n,functions:r,function_call:a,toolWarnings:s}=function({mode:e,useLegacyFunctionCalling:t=!1,structuredOutputs:n}){var r;const a=(null==(r=e.tools)?void 0:r.length)?e.tools:void 0,s=[];if(null==a)return{tools:void 0,tool_choice:void 0,toolWarnings:s};const i=e.toolChoice;if(t){const e=[];for(const t of a)"provider-defined"===t.type?s.push({type:"unsupported-tool",tool:t}):e.push({name:t.name,description:t.description,parameters:t.parameters});if(null==i)return{functions:e,function_call:void 0,toolWarnings:s};switch(i.type){case"auto":case"none":case void 0:return{functions:e,function_call:void 0,toolWarnings:s};case"required":throw new Jg({functionality:"useLegacyFunctionCalling and toolChoice: required"});default:return{functions:e,function_call:{name:i.toolName},toolWarnings:s}}}const o=[];for(const u of a)"provider-defined"===u.type?s.push({type:"unsupported-tool",tool:u}):o.push({type:"function",function:{name:u.name,description:u.description,parameters:u.parameters,strict:!!n||void 0}});if(null==i)return{tools:o,tool_choice:void 0,toolWarnings:s};const l=i.type;switch(l){case"auto":case"none":case"required":return{tools:o,tool_choice:l,toolWarnings:s};case"tool":return{tools:o,tool_choice:{type:"function",function:{name:i.toolName}},toolWarnings:s};default:throw new Jg({functionality:`Unsupported tool choice type: ${l}`})}}({mode:e,useLegacyFunctionCalling:k,structuredOutputs:this.supportsStructuredOutputs});return{args:{...T,tools:t,tool_choice:n,functions:r,function_call:a},warnings:[...w,...s]}}case"object-json":return{args:{...T,response_format:this.supportsStructuredOutputs&&null!=e.schema?{type:"json_schema",json_schema:{schema:e.schema,strict:!0,name:null!=(b=e.name)?b:"response",description:e.description}}:{type:"json_object"}},warnings:w};case"object-tool":return{args:k?{...T,function_call:{name:e.tool.name},functions:[{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters}]}:{...T,tool_choice:{type:"function",function:{name:e.tool.name}},tools:[{type:"function",function:{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters,strict:!!this.supportsStructuredOutputs||void 0}}]},warnings:w};default:throw new Error(`Unsupported type: ${x}`)}}async doGenerate(e){var t,n,r,a,s,i,o,l;const{args:u,warnings:c}=this.getArgs(e),{responseHeaders:d,value:p,rawValue:h}=await _y({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:uy(this.config.headers(),e.headers),body:u,failedResponseHandler:NS,successfulResponseHandler:Cy(RS),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:f,...m}=u,g=p.choices[0],y=null==(t=p.usage)?void 0:t.completion_tokens_details,v=null==(n=p.usage)?void 0:n.prompt_tokens_details,b={openai:{}};return null!=(null==y?void 0:y.reasoning_tokens)&&(b.openai.reasoningTokens=null==y?void 0:y.reasoning_tokens),null!=(null==y?void 0:y.accepted_prediction_tokens)&&(b.openai.acceptedPredictionTokens=null==y?void 0:y.accepted_prediction_tokens),null!=(null==y?void 0:y.rejected_prediction_tokens)&&(b.openai.rejectedPredictionTokens=null==y?void 0:y.rejected_prediction_tokens),null!=(null==v?void 0:v.cached_tokens)&&(b.openai.cachedPromptTokens=null==v?void 0:v.cached_tokens),{text:null!=(r=g.message.content)?r:void 0,toolCalls:this.settings.useLegacyFunctionCalling&&g.message.function_call?[{toolCallType:"function",toolCallId:hy(),toolName:g.message.function_call.name,args:g.message.function_call.arguments}]:null==(a=g.message.tool_calls)?void 0:a.map(e=>{var t;return{toolCallType:"function",toolCallId:null!=(t=e.id)?t:hy(),toolName:e.function.name,args:e.function.arguments}}),finishReason:CS(g.finish_reason),usage:{promptTokens:null!=(i=null==(s=p.usage)?void 0:s.prompt_tokens)?i:NaN,completionTokens:null!=(l=null==(o=p.usage)?void 0:o.completion_tokens)?l:NaN},rawCall:{rawPrompt:f,rawSettings:m},rawResponse:{headers:d,body:h},request:{body:JSON.stringify(u)},response:jS(p),warnings:c,logprobs:ES(g.logprobs),providerMetadata:b}}async doStream(e){if(this.settings.simulateStreaming){const t=await this.doGenerate(e);return{stream:new ReadableStream({start(e){if(e.enqueue({type:"response-metadata",...t.response}),t.text&&e.enqueue({type:"text-delta",textDelta:t.text}),t.toolCalls)for(const n of t.toolCalls)e.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:n.toolCallId,toolName:n.toolName,argsTextDelta:n.args}),e.enqueue({type:"tool-call",...n});e.enqueue({type:"finish",finishReason:t.finishReason,usage:t.usage,logprobs:t.logprobs,providerMetadata:t.providerMetadata}),e.close()}}),rawCall:t.rawCall,rawResponse:t.rawResponse,warnings:t.warnings}}const{args:t,warnings:n}=this.getArgs(e),r={...t,stream:!0,stream_options:"strict"===this.config.compatibility?{include_usage:!0}:void 0},{responseHeaders:a,value:s}=await _y({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:uy(this.config.headers(),e.headers),body:r,failedResponseHandler:NS,successfulResponseHandler:Ey(MS),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:i,...o}=t,l=[];let u,c="unknown",d={promptTokens:void 0,completionTokens:void 0},p=!0;const{useLegacyFunctionCalling:h}=this.settings,f={openai:{}};return{stream:s.pipeThrough(new TransformStream({transform(e,t){var n,r,a,s,i,o,m,g,y,v,b,x;if(!e.success)return c="error",void t.enqueue({type:"error",error:e.error});const w=e.value;if("error"in w)return c="error",void t.enqueue({type:"error",error:w.error});if(p&&(p=!1,t.enqueue({type:"response-metadata",...jS(w)})),null!=w.usage){const{prompt_tokens:e,completion_tokens:t,prompt_tokens_details:n,completion_tokens_details:r}=w.usage;d={promptTokens:null!=e?e:void 0,completionTokens:null!=t?t:void 0},null!=(null==r?void 0:r.reasoning_tokens)&&(f.openai.reasoningTokens=null==r?void 0:r.reasoning_tokens),null!=(null==r?void 0:r.accepted_prediction_tokens)&&(f.openai.acceptedPredictionTokens=null==r?void 0:r.accepted_prediction_tokens),null!=(null==r?void 0:r.rejected_prediction_tokens)&&(f.openai.rejectedPredictionTokens=null==r?void 0:r.rejected_prediction_tokens),null!=(null==n?void 0:n.cached_tokens)&&(f.openai.cachedPromptTokens=null==n?void 0:n.cached_tokens)}const k=w.choices[0];if(null!=(null==k?void 0:k.finish_reason)&&(c=CS(k.finish_reason)),null==(null==k?void 0:k.delta))return;const S=k.delta;null!=S.content&&t.enqueue({type:"text-delta",textDelta:S.content});const _=ES(null==k?void 0:k.logprobs);(null==_?void 0:_.length)&&(void 0===u&&(u=[]),u.push(..._));const T=h&&null!=S.function_call?[{type:"function",id:hy(),function:S.function_call,index:0}]:S.tool_calls;if(null!=T)for(const u of T){const e=u.index;if(null==l[e]){if("function"!==u.type)throw new Tg({data:u,message:"Expected 'function' type."});if(null==u.id)throw new Tg({data:u,message:"Expected 'id' to be a string."});if(null==(null==(n=u.function)?void 0:n.name))throw new Tg({data:u,message:"Expected 'function.name' to be a string."});l[e]={id:u.id,type:"function",function:{name:u.function.name,arguments:null!=(r=u.function.arguments)?r:""},hasFinished:!1};const o=l[e];null!=(null==(a=o.function)?void 0:a.name)&&null!=(null==(s=o.function)?void 0:s.arguments)&&(o.function.arguments.length>0&&t.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:o.id,toolName:o.function.name,argsTextDelta:o.function.arguments}),wy(o.function.arguments)&&(t.enqueue({type:"tool-call",toolCallType:"function",toolCallId:null!=(i=o.id)?i:hy(),toolName:o.function.name,args:o.function.arguments}),o.hasFinished=!0));continue}const c=l[e];c.hasFinished||(null!=(null==(o=u.function)?void 0:o.arguments)&&(c.function.arguments+=null!=(g=null==(m=u.function)?void 0:m.arguments)?g:""),t.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:c.id,toolName:c.function.name,argsTextDelta:null!=(y=u.function.arguments)?y:""}),null!=(null==(v=c.function)?void 0:v.name)&&null!=(null==(b=c.function)?void 0:b.arguments)&&wy(c.function.arguments)&&(t.enqueue({type:"tool-call",toolCallType:"function",toolCallId:null!=(x=c.id)?x:hy(),toolName:c.function.name,args:c.function.arguments}),c.hasFinished=!0))}},flush(e){var t,n;e.enqueue({type:"finish",finishReason:c,logprobs:u,usage:{promptTokens:null!=(t=d.promptTokens)?t:NaN,completionTokens:null!=(n=d.completionTokens)?n:NaN},...null!=f?{providerMetadata:f}:{}})}})),rawCall:{rawPrompt:i,rawSettings:o},rawResponse:{headers:a},request:{body:JSON.stringify(r)},warnings:n}}},IS=Nb({prompt_tokens:Sb().nullish(),completion_tokens:Sb().nullish(),prompt_tokens_details:Nb({cached_tokens:Sb().nullish()}).nullish(),completion_tokens_details:Nb({reasoning_tokens:Sb().nullish(),accepted_prediction_tokens:Sb().nullish(),rejected_prediction_tokens:Sb().nullish()}).nullish()}).nullish(),RS=Nb({id:kb().nullish(),created:Sb().nullish(),model:kb().nullish(),choices:Pb(Nb({message:Nb({role:Mb("assistant").nullish(),content:kb().nullish(),function_call:Nb({arguments:kb(),name:kb()}).nullish(),tool_calls:Pb(Nb({id:kb().nullish(),type:Mb("function"),function:Nb({name:kb(),arguments:kb()})})).nullish()}),index:Sb(),logprobs:Nb({content:Pb(Nb({token:kb(),logprob:Sb(),top_logprobs:Pb(Nb({token:kb(),logprob:Sb()}))})).nullable()}).nullish(),finish_reason:kb().nullish()})),usage:IS}),MS=jb([Nb({id:kb().nullish(),created:Sb().nullish(),model:kb().nullish(),choices:Pb(Nb({delta:Nb({role:Ob(["assistant"]).nullish(),content:kb().nullish(),function_call:Nb({name:kb().optional(),arguments:kb().optional()}).nullish(),tool_calls:Pb(Nb({index:Sb(),id:kb().nullish(),type:Mb("function").nullish(),function:Nb({name:kb().nullish(),arguments:kb().nullish()})})).nullish()}).nullish(),logprobs:Nb({content:Pb(Nb({token:kb(),logprob:Sb(),top_logprobs:Pb(Nb({token:kb(),logprob:Sb()}))})).nullable()}).nullish(),finish_reason:kb().nullish(),index:Sb()})),usage:IS}),PS]);function OS(e){return e.startsWith("o")||e.startsWith("gpt-5")}function LS(e){var t,n;return OS(e)?null!=(n=null==(t=DS[e])?void 0:t.systemMessageMode)?n:"developer":"system"}var DS={"o1-mini":{systemMessageMode:"remove"},"o1-mini-2024-09-12":{systemMessageMode:"remove"},"o1-preview":{systemMessageMode:"remove"},"o1-preview-2024-09-12":{systemMessageMode:"remove"},o3:{systemMessageMode:"developer"},"o3-2025-04-16":{systemMessageMode:"developer"},"o3-mini":{systemMessageMode:"developer"},"o3-mini-2025-01-31":{systemMessageMode:"developer"},"o4-mini":{systemMessageMode:"developer"},"o4-mini-2025-04-16":{systemMessageMode:"developer"}};function FS(e){return null==e?void 0:e.tokens.map((t,n)=>({token:t,logprob:e.token_logprobs[n],topLogprobs:e.top_logprobs?Object.entries(e.top_logprobs[n]).map(([e,t])=>({token:e,logprob:t})):[]}))}var $S=class{constructor(e,t,n){this.specificationVersion="v1",this.defaultObjectGenerationMode=void 0,this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}getArgs({mode:e,inputFormat:t,prompt:n,maxTokens:r,temperature:a,topP:s,topK:i,frequencyPenalty:o,presencePenalty:l,stopSequences:u,responseFormat:c,seed:d}){var p;const h=e.type,f=[];null!=i&&f.push({type:"unsupported-setting",setting:"topK"}),null!=c&&"text"!==c.type&&f.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});const{prompt:m,stopSequences:g}=function({prompt:e,inputFormat:t,user:n="user",assistant:r="assistant"}){if("prompt"===t&&1===e.length&&"user"===e[0].role&&1===e[0].content.length&&"text"===e[0].content[0].type)return{prompt:e[0].content[0].text};let a="";"system"===e[0].role&&(a+=`${e[0].content}\n\n`,e=e.slice(1));for(const{role:s,content:i}of e)switch(s){case"system":throw new xg({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":a+=`${n}:\n${i.map(e=>{switch(e.type){case"text":return e.text;case"image":throw new Jg({functionality:"images"})}}).join("")}\n\n`;break;case"assistant":a+=`${r}:\n${i.map(e=>{switch(e.type){case"text":return e.text;case"tool-call":throw new Jg({functionality:"tool-call messages"})}}).join("")}\n\n`;break;case"tool":throw new Jg({functionality:"tool messages"});default:throw new Error(`Unsupported role: ${s}`)}return a+=`${r}:\n`,{prompt:a,stopSequences:[`\n${n}:`]}}({prompt:n,inputFormat:t}),y=[...null!=g?g:[],...null!=u?u:[]],v={model:this.modelId,echo:this.settings.echo,logit_bias:this.settings.logitBias,logprobs:"number"==typeof this.settings.logprobs?this.settings.logprobs:"boolean"==typeof this.settings.logprobs&&this.settings.logprobs?0:void 0,suffix:this.settings.suffix,user:this.settings.user,max_tokens:r,temperature:a,top_p:s,frequency_penalty:o,presence_penalty:l,seed:d,prompt:m,stop:y.length>0?y:void 0};switch(h){case"regular":if(null==(p=e.tools)?void 0:p.length)throw new Jg({functionality:"tools"});if(e.toolChoice)throw new Jg({functionality:"toolChoice"});return{args:v,warnings:f};case"object-json":throw new Jg({functionality:"object-json mode"});case"object-tool":throw new Jg({functionality:"object-tool mode"});default:throw new Error(`Unsupported type: ${h}`)}}async doGenerate(e){const{args:t,warnings:n}=this.getArgs(e),{responseHeaders:r,value:a,rawValue:s}=await _y({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:uy(this.config.headers(),e.headers),body:t,failedResponseHandler:NS,successfulResponseHandler:Cy(VS),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:i,...o}=t,l=a.choices[0];return{text:l.text,usage:{promptTokens:a.usage.prompt_tokens,completionTokens:a.usage.completion_tokens},finishReason:CS(l.finish_reason),logprobs:FS(l.logprobs),rawCall:{rawPrompt:i,rawSettings:o},rawResponse:{headers:r,body:s},response:jS(a),warnings:n,request:{body:JSON.stringify(t)}}}async doStream(e){const{args:t,warnings:n}=this.getArgs(e),r={...t,stream:!0,stream_options:"strict"===this.config.compatibility?{include_usage:!0}:void 0},{responseHeaders:a,value:s}=await _y({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:uy(this.config.headers(),e.headers),body:r,failedResponseHandler:NS,successfulResponseHandler:Ey(zS),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:i,...o}=t;let l,u="unknown",c={promptTokens:Number.NaN,completionTokens:Number.NaN},d=!0;return{stream:s.pipeThrough(new TransformStream({transform(e,t){if(!e.success)return u="error",void t.enqueue({type:"error",error:e.error});const n=e.value;if("error"in n)return u="error",void t.enqueue({type:"error",error:n.error});d&&(d=!1,t.enqueue({type:"response-metadata",...jS(n)})),null!=n.usage&&(c={promptTokens:n.usage.prompt_tokens,completionTokens:n.usage.completion_tokens});const r=n.choices[0];null!=(null==r?void 0:r.finish_reason)&&(u=CS(r.finish_reason)),null!=(null==r?void 0:r.text)&&t.enqueue({type:"text-delta",textDelta:r.text});const a=FS(null==r?void 0:r.logprobs);(null==a?void 0:a.length)&&(void 0===l&&(l=[]),l.push(...a))},flush(e){e.enqueue({type:"finish",finishReason:u,logprobs:l,usage:c})}})),rawCall:{rawPrompt:i,rawSettings:o},rawResponse:{headers:a},warnings:n,request:{body:JSON.stringify(r)}}}},VS=Nb({id:kb().nullish(),created:Sb().nullish(),model:kb().nullish(),choices:Pb(Nb({text:kb(),finish_reason:kb(),logprobs:Nb({tokens:Pb(kb()),token_logprobs:Pb(Sb()),top_logprobs:Pb(Ib(kb(),Sb())).nullable()}).nullish()})),usage:Nb({prompt_tokens:Sb(),completion_tokens:Sb()})}),zS=jb([Nb({id:kb().nullish(),created:Sb().nullish(),model:kb().nullish(),choices:Pb(Nb({text:kb(),finish_reason:kb().nullish(),index:Sb(),logprobs:Nb({tokens:Pb(kb()),token_logprobs:Pb(Sb()),top_logprobs:Pb(Ib(kb(),Sb())).nullable()}).nullish()})),usage:Nb({prompt_tokens:Sb(),completion_tokens:Sb()}).nullish()}),PS]),US=class{constructor(e,t,n){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return null!=(e=this.settings.maxEmbeddingsPerCall)?e:2048}get supportsParallelCalls(){var e;return null==(e=this.settings.supportsParallelCalls)||e}async doEmbed({values:e,headers:t,abortSignal:n}){if(e.length>this.maxEmbeddingsPerCall)throw new Vg({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});const{responseHeaders:r,value:a}=await _y({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:uy(this.config.headers(),t),body:{model:this.modelId,input:e,encoding_format:"float",dimensions:this.settings.dimensions,user:this.settings.user},failedResponseHandler:NS,successfulResponseHandler:Cy(BS),abortSignal:n,fetch:this.config.fetch});return{embeddings:a.data.map(e=>e.embedding),usage:a.usage?{tokens:a.usage.prompt_tokens}:void 0,rawResponse:{headers:r}}}},BS=Nb({data:Pb(Nb({embedding:Pb(Sb())})),usage:Nb({prompt_tokens:Sb()}).nullish()}),WS={"dall-e-3":1,"dall-e-2":10,"gpt-image-1":10},HS=new Set(["gpt-image-1"]),qS=class{constructor(e,t,n){this.modelId=e,this.settings=t,this.config=n,this.specificationVersion="v1"}get maxImagesPerCall(){var e,t;return null!=(t=null!=(e=this.settings.maxImagesPerCall)?e:WS[this.modelId])?t:1}get provider(){return this.config.provider}async doGenerate({prompt:e,n:t,size:n,aspectRatio:r,seed:a,providerOptions:s,headers:i,abortSignal:o}){var l,u,c,d;const p=[];null!=r&&p.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),null!=a&&p.push({type:"unsupported-setting",setting:"seed"});const h=null!=(c=null==(u=null==(l=this.config._internal)?void 0:l.currentDate)?void 0:u.call(l))?c:new Date,{value:f,responseHeaders:m}=await _y({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:uy(this.config.headers(),i),body:{model:this.modelId,prompt:e,n:t,size:n,...null!=(d=s.openai)?d:{},...HS.has(this.modelId)?{}:{response_format:"b64_json"}},failedResponseHandler:NS,successfulResponseHandler:Cy(ZS),abortSignal:o,fetch:this.config.fetch});return{images:f.data.map(e=>e.b64_json),warnings:p,response:{timestamp:h,modelId:this.modelId,headers:m}}}},ZS=Nb({data:Pb(Nb({b64_json:kb()}))}),KS=Nb({include:Pb(kb()).nullish(),language:kb().nullish(),prompt:kb().nullish(),temperature:Sb().min(0).max(1).nullish().default(0),timestampGranularities:Pb(Ob(["word","segment"])).nullish().default(["segment"])}),YS={afrikaans:"af",arabic:"ar",armenian:"hy",azerbaijani:"az",belarusian:"be",bosnian:"bs",bulgarian:"bg",catalan:"ca",chinese:"zh",croatian:"hr",czech:"cs",danish:"da",dutch:"nl",english:"en",estonian:"et",finnish:"fi",french:"fr",galician:"gl",german:"de",greek:"el",hebrew:"he",hindi:"hi",hungarian:"hu",icelandic:"is",indonesian:"id",italian:"it",japanese:"ja",kannada:"kn",kazakh:"kk",korean:"ko",latvian:"lv",lithuanian:"lt",macedonian:"mk",malay:"ms",marathi:"mr",maori:"mi",nepali:"ne",norwegian:"no",persian:"fa",polish:"pl",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"sr",slovak:"sk",slovenian:"sl",spanish:"es",swahili:"sw",swedish:"sv",tagalog:"tl",tamil:"ta",thai:"th",turkish:"tr",ukrainian:"uk",urdu:"ur",vietnamese:"vi",welsh:"cy"},JS=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v1"}get provider(){return this.config.provider}getArgs({audio:e,mediaType:t,providerOptions:n}){var r,a,s,i,o;const l=ky({provider:"openai",providerOptions:n,schema:KS}),u=new FormData,c=e instanceof Uint8Array?new Blob([e]):new Blob([jy(e)]);if(u.append("model",this.modelId),u.append("file",new File([c],"audio",{type:t})),l){const e={include:null!=(r=l.include)?r:void 0,language:null!=(a=l.language)?a:void 0,prompt:null!=(s=l.prompt)?s:void 0,temperature:null!=(i=l.temperature)?i:void 0,timestamp_granularities:null!=(o=l.timestampGranularities)?o:void 0};for(const t in e){const n=e[t];void 0!==n&&u.append(t,String(n))}}return{formData:u,warnings:[]}}async doGenerate(e){var t,n,r,a,s,i;const o=null!=(r=null==(n=null==(t=this.config._internal)?void 0:t.currentDate)?void 0:n.call(t))?r:new Date,{formData:l,warnings:u}=this.getArgs(e),{value:c,responseHeaders:d,rawValue:p}=await(async({url:e,headers:t,formData:n,failedResponseHandler:r,successfulResponseHandler:a,abortSignal:s,fetch:i})=>Ty({url:e,headers:t,body:{content:n,values:Object.fromEntries(n.entries())},failedResponseHandler:r,successfulResponseHandler:a,abortSignal:s,fetch:i}))({url:this.config.url({path:"/audio/transcriptions",modelId:this.modelId}),headers:uy(this.config.headers(),e.headers),formData:l,failedResponseHandler:NS,successfulResponseHandler:Cy(GS),abortSignal:e.abortSignal,fetch:this.config.fetch}),h=null!=c.language&&c.language in YS?YS[c.language]:void 0;return{text:c.text,segments:null!=(s=null==(a=c.words)?void 0:a.map(e=>({text:e.word,startSecond:e.start,endSecond:e.end})))?s:[],language:h,durationInSeconds:null!=(i=c.duration)?i:void 0,warnings:u,response:{timestamp:o,modelId:this.modelId,headers:d,body:p}}}},GS=Nb({text:kb(),language:kb().nullish(),duration:Sb().nullish(),words:Pb(Nb({word:kb(),start:Sb(),end:Sb()})).nullish()});function XS({finishReason:e,hasToolCalls:t}){switch(e){case void 0:case null:return t?"tool-calls":"stop";case"max_output_tokens":return"length";case"content_filter":return"content-filter";default:return t?"tool-calls":"unknown"}}var QS=class{constructor(e,t){this.specificationVersion="v1",this.defaultObjectGenerationMode="json",this.supportsStructuredOutputs=!0,this.modelId=e,this.config=t}get provider(){return this.config.provider}getArgs({mode:e,maxTokens:t,temperature:n,stopSequences:r,topP:a,topK:s,presencePenalty:i,frequencyPenalty:o,seed:l,prompt:u,providerMetadata:c,responseFormat:d}){var p,h,f;const m=[],g=function(e){if(e.startsWith("o")||e.startsWith("gpt-5"))return e.startsWith("o1-mini")||e.startsWith("o1-preview")?{isReasoningModel:!0,systemMessageMode:"remove",requiredAutoTruncation:!1}:{isReasoningModel:!0,systemMessageMode:"developer",requiredAutoTruncation:!1};return{isReasoningModel:!1,systemMessageMode:"system",requiredAutoTruncation:!1}}(this.modelId),y=e.type;null!=s&&m.push({type:"unsupported-setting",setting:"topK"}),null!=l&&m.push({type:"unsupported-setting",setting:"seed"}),null!=i&&m.push({type:"unsupported-setting",setting:"presencePenalty"}),null!=o&&m.push({type:"unsupported-setting",setting:"frequencyPenalty"}),null!=r&&m.push({type:"unsupported-setting",setting:"stopSequences"});const{messages:v,warnings:b}=function({prompt:e,systemMessageMode:t}){const n=[],r=[];for(const{role:a,content:s}of e)switch(a){case"system":switch(t){case"system":n.push({role:"system",content:s});break;case"developer":n.push({role:"developer",content:s});break;case"remove":r.push({type:"other",message:"system messages are removed for this model"});break;default:throw new Error(`Unsupported system message mode: ${t}`)}break;case"user":n.push({role:"user",content:s.map((e,t)=>{var n,r,a,s;switch(e.type){case"text":return{type:"input_text",text:e.text};case"image":return{type:"input_image",image_url:e.image instanceof URL?e.image.toString():`data:${null!=(n=e.mimeType)?n:"image/jpeg"};base64,${Ay(e.image)}`,detail:null==(a=null==(r=e.providerMetadata)?void 0:r.openai)?void 0:a.imageDetail};case"file":if(e.data instanceof URL)throw new Jg({functionality:"File URLs in user messages"});if("application/pdf"===e.mimeType)return{type:"input_file",filename:null!=(s=e.filename)?s:`part-${t}.pdf`,file_data:`data:application/pdf;base64,${e.data}`};throw new Jg({functionality:"Only PDF files are supported in user messages"})}})});break;case"assistant":for(const e of s)switch(e.type){case"text":n.push({role:"assistant",content:[{type:"output_text",text:e.text}]});break;case"tool-call":n.push({type:"function_call",call_id:e.toolCallId,name:e.toolName,arguments:JSON.stringify(e.args)})}break;case"tool":for(const e of s)n.push({type:"function_call_output",call_id:e.toolCallId,output:JSON.stringify(e.result)});break;default:throw new Error(`Unsupported role: ${a}`)}return{messages:n,warnings:r}}({prompt:u,systemMessageMode:g.systemMessageMode});m.push(...b);const x=ky({provider:"openai",providerOptions:c,schema:d_}),w=null==(p=null==x?void 0:x.strictSchemas)||p,k={model:this.modelId,input:v,temperature:n,top_p:a,max_output_tokens:t,..."json"===(null==d?void 0:d.type)&&{text:{format:null!=d.schema?{type:"json_schema",strict:w,name:null!=(h=d.name)?h:"response",description:d.description,schema:d.schema}:{type:"json_object"}}},metadata:null==x?void 0:x.metadata,parallel_tool_calls:null==x?void 0:x.parallelToolCalls,previous_response_id:null==x?void 0:x.previousResponseId,store:null==x?void 0:x.store,user:null==x?void 0:x.user,instructions:null==x?void 0:x.instructions,...g.isReasoningModel&&(null!=(null==x?void 0:x.reasoningEffort)||null!=(null==x?void 0:x.reasoningSummary))&&{reasoning:{...null!=(null==x?void 0:x.reasoningEffort)&&{effort:x.reasoningEffort},...null!=(null==x?void 0:x.reasoningSummary)&&{summary:x.reasoningSummary}}},...g.requiredAutoTruncation&&{truncation:"auto"}};switch(g.isReasoningModel&&(null!=k.temperature&&(k.temperature=void 0,m.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),null!=k.top_p&&(k.top_p=void 0,m.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"}))),y){case"regular":{const{tools:t,tool_choice:n,toolWarnings:r}=function({mode:e,strict:t}){var n;const r=(null==(n=e.tools)?void 0:n.length)?e.tools:void 0,a=[];if(null==r)return{tools:void 0,tool_choice:void 0,toolWarnings:a};const s=e.toolChoice,i=[];for(const l of r)switch(l.type){case"function":i.push({type:"function",name:l.name,description:l.description,parameters:l.parameters,strict:!!t||void 0});break;case"provider-defined":"openai.web_search_preview"===l.id?i.push({type:"web_search_preview",search_context_size:l.args.searchContextSize,user_location:l.args.userLocation}):a.push({type:"unsupported-tool",tool:l});break;default:a.push({type:"unsupported-tool",tool:l})}if(null==s)return{tools:i,tool_choice:void 0,toolWarnings:a};const o=s.type;switch(o){case"auto":case"none":case"required":return{tools:i,tool_choice:o,toolWarnings:a};case"tool":return"web_search_preview"===s.toolName?{tools:i,tool_choice:{type:"web_search_preview"},toolWarnings:a}:{tools:i,tool_choice:{type:"function",name:s.toolName},toolWarnings:a};default:throw new Jg({functionality:`Unsupported tool choice type: ${o}`})}}({mode:e,strict:w});return{args:{...k,tools:t,tool_choice:n},warnings:[...m,...r]}}case"object-json":return{args:{...k,text:{format:null!=e.schema?{type:"json_schema",strict:w,name:null!=(f=e.name)?f:"response",description:e.description,schema:e.schema}:{type:"json_object"}}},warnings:m};case"object-tool":return{args:{...k,tool_choice:{type:"function",name:e.tool.name},tools:[{type:"function",name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters,strict:w}]},warnings:m};default:throw new Error(`Unsupported type: ${y}`)}}async doGenerate(e){var t,n,r,a,s,i,o;const{args:l,warnings:u}=this.getArgs(e),c=this.config.url({path:"/responses",modelId:this.modelId}),{responseHeaders:d,value:p,rawValue:h}=await _y({url:c,headers:uy(this.config.headers(),e.headers),body:l,failedResponseHandler:NS,successfulResponseHandler:Cy(Nb({id:kb(),created_at:Sb(),error:Nb({message:kb(),code:kb()}).nullish(),model:kb(),output:Pb(Ab("type",[Nb({type:Mb("message"),role:Mb("assistant"),content:Pb(Nb({type:Mb("output_text"),text:kb(),annotations:Pb(Nb({type:Mb("url_citation"),start_index:Sb(),end_index:Sb(),url:kb(),title:kb()}))}))}),Nb({type:Mb("function_call"),call_id:kb(),name:kb(),arguments:kb()}),Nb({type:Mb("web_search_call")}),Nb({type:Mb("computer_call")}),Nb({type:Mb("reasoning"),summary:Pb(Nb({type:Mb("summary_text"),text:kb()}))})])),incomplete_details:Nb({reason:kb()}).nullable(),usage:e_})),abortSignal:e.abortSignal,fetch:this.config.fetch});if(p.error)throw new ag({message:p.error.message,url:c,requestBodyValues:l,statusCode:400,responseHeaders:d,responseBody:h,isRetryable:!1});const f=p.output.filter(e=>"message"===e.type).flatMap(e=>e.content).filter(e=>"output_text"===e.type),m=p.output.filter(e=>"function_call"===e.type).map(e=>({toolCallType:"function",toolCallId:e.call_id,toolName:e.name,args:e.arguments})),g=null!=(n=null==(t=p.output.find(e=>"reasoning"===e.type))?void 0:t.summary)?n:null;return{text:f.map(e=>e.text).join("\n"),sources:f.flatMap(e=>e.annotations.map(e=>{var t,n,r;return{sourceType:"url",id:null!=(r=null==(n=(t=this.config).generateId)?void 0:n.call(t))?r:hy(),url:e.url,title:e.title}})),finishReason:XS({finishReason:null==(r=p.incomplete_details)?void 0:r.reason,hasToolCalls:m.length>0}),toolCalls:m.length>0?m:void 0,reasoning:g?g.map(e=>({type:"text",text:e.text})):void 0,usage:{promptTokens:p.usage.input_tokens,completionTokens:p.usage.output_tokens},rawCall:{rawPrompt:void 0,rawSettings:{}},rawResponse:{headers:d,body:h},request:{body:JSON.stringify(l)},response:{id:p.id,timestamp:new Date(1e3*p.created_at),modelId:p.model},providerMetadata:{openai:{responseId:p.id,cachedPromptTokens:null!=(s=null==(a=p.usage.input_tokens_details)?void 0:a.cached_tokens)?s:null,reasoningTokens:null!=(o=null==(i=p.usage.output_tokens_details)?void 0:i.reasoning_tokens)?o:null}},warnings:u}}async doStream(e){const{args:t,warnings:n}=this.getArgs(e),{responseHeaders:r,value:a}=await _y({url:this.config.url({path:"/responses",modelId:this.modelId}),headers:uy(this.config.headers(),e.headers),body:{...t,stream:!0},failedResponseHandler:NS,successfulResponseHandler:Ey(c_),abortSignal:e.abortSignal,fetch:this.config.fetch}),s=this;let i="unknown",o=NaN,l=NaN,u=null,c=null,d=null;const p={};let h=!1;return{stream:a.pipeThrough(new TransformStream({transform(e,t){var n,r,a,f,m,g,y,v;if(!e.success)return i="error",void t.enqueue({type:"error",error:e.error});const b=e.value;if(function(e){return"response.output_item.added"===e.type}(b))"function_call"===b.item.type&&(p[b.output_index]={toolName:b.item.name,toolCallId:b.item.call_id},t.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:b.item.call_id,toolName:b.item.name,argsTextDelta:b.item.arguments}));else if(function(e){return"response.function_call_arguments.delta"===e.type}(b)){const e=p[b.output_index];null!=e&&t.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:e.toolCallId,toolName:e.toolName,argsTextDelta:b.delta})}else!function(e){return"response.created"===e.type}(b)?!function(e){return"response.output_text.delta"===e.type}(b)?!function(e){return"response.reasoning_summary_text.delta"===e.type}(b)?!function(e){return"response.output_item.done"===e.type}(b)||"function_call"!==b.item.type?!function(e){return"response.completed"===e.type||"response.incomplete"===e.type}(b)?!function(e){return"response.output_text.annotation.added"===e.type}(b)?function(e){return"error"===e.type}(b)&&t.enqueue({type:"error",error:b}):t.enqueue({type:"source",source:{sourceType:"url",id:null!=(v=null==(y=(g=s.config).generateId)?void 0:y.call(g))?v:hy(),url:b.annotation.url,title:b.annotation.title}}):(i=XS({finishReason:null==(n=b.response.incomplete_details)?void 0:n.reason,hasToolCalls:h}),o=b.response.usage.input_tokens,l=b.response.usage.output_tokens,u=null!=(a=null==(r=b.response.usage.input_tokens_details)?void 0:r.cached_tokens)?a:u,c=null!=(m=null==(f=b.response.usage.output_tokens_details)?void 0:f.reasoning_tokens)?m:c):(p[b.output_index]=void 0,h=!0,t.enqueue({type:"tool-call",toolCallType:"function",toolCallId:b.item.call_id,toolName:b.item.name,args:b.item.arguments})):t.enqueue({type:"reasoning",textDelta:b.delta}):t.enqueue({type:"text-delta",textDelta:b.delta}):(d=b.response.id,t.enqueue({type:"response-metadata",id:b.response.id,timestamp:new Date(1e3*b.response.created_at),modelId:b.response.model}))},flush(e){e.enqueue({type:"finish",finishReason:i,usage:{promptTokens:o,completionTokens:l},...(null!=u||null!=c)&&{providerMetadata:{openai:{responseId:d,cachedPromptTokens:u,reasoningTokens:c}}}})}})),rawCall:{rawPrompt:void 0,rawSettings:{}},rawResponse:{headers:r},request:{body:JSON.stringify(t)},warnings:n}}},e_=Nb({input_tokens:Sb(),input_tokens_details:Nb({cached_tokens:Sb().nullish()}).nullish(),output_tokens:Sb(),output_tokens_details:Nb({reasoning_tokens:Sb().nullish()}).nullish()}),t_=Nb({type:Mb("response.output_text.delta"),delta:kb()}),n_=Nb({type:Ob(["response.completed","response.incomplete"]),response:Nb({incomplete_details:Nb({reason:kb()}).nullish(),usage:e_})}),r_=Nb({type:Mb("response.created"),response:Nb({id:kb(),created_at:Sb(),model:kb()})}),a_=Nb({type:Mb("response.output_item.done"),output_index:Sb(),item:Ab("type",[Nb({type:Mb("message")}),Nb({type:Mb("function_call"),id:kb(),call_id:kb(),name:kb(),arguments:kb(),status:Mb("completed")})])}),s_=Nb({type:Mb("response.function_call_arguments.delta"),item_id:kb(),output_index:Sb(),delta:kb()}),i_=Nb({type:Mb("response.output_item.added"),output_index:Sb(),item:Ab("type",[Nb({type:Mb("message")}),Nb({type:Mb("function_call"),id:kb(),call_id:kb(),name:kb(),arguments:kb()})])}),o_=Nb({type:Mb("response.output_text.annotation.added"),annotation:Nb({type:Mb("url_citation"),url:kb(),title:kb()})}),l_=Nb({type:Mb("response.reasoning_summary_text.delta"),item_id:kb(),output_index:Sb(),summary_index:Sb(),delta:kb()}),u_=Nb({type:Mb("error"),code:kb(),message:kb(),param:kb().nullish(),sequence_number:Sb()}),c_=jb([t_,n_,r_,a_,s_,i_,o_,l_,u_,Nb({type:kb()}).passthrough()]);var d_=Nb({metadata:Eb().nullish(),parallelToolCalls:_b().nullish(),previousResponseId:kb().nullish(),store:_b().nullish(),user:kb().nullish(),reasoningEffort:kb().nullish(),strictSchemas:_b().nullish(),instructions:kb().nullish(),reasoningSummary:kb().nullish()}),p_=Nb({});var h_={webSearchPreview:function({searchContextSize:e,userLocation:t}={}){return{type:"provider-defined",id:"openai.web_search_preview",args:{searchContextSize:e,userLocation:t},parameters:p_}}},f_=Nb({instructions:kb().nullish(),speed:Sb().min(.25).max(4).default(1).nullish()}),m_=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v1"}get provider(){return this.config.provider}getArgs({text:e,voice:t="alloy",outputFormat:n="mp3",speed:r,instructions:a,providerOptions:s}){const i=[],o=ky({provider:"openai",providerOptions:s,schema:f_}),l={model:this.modelId,input:e,voice:t,response_format:"mp3",speed:r,instructions:a};if(n&&(["mp3","opus","aac","flac","wav","pcm"].includes(n)?l.response_format=n:i.push({type:"unsupported-setting",setting:"outputFormat",details:`Unsupported output format: ${n}. Using mp3 instead.`})),o){const e={};for(const t in e){const n=e[t];void 0!==n&&(l[t]=n)}}return{requestBody:l,warnings:i}}async doGenerate(e){var t,n,r;const a=null!=(r=null==(n=null==(t=this.config._internal)?void 0:t.currentDate)?void 0:n.call(t))?r:new Date,{requestBody:s,warnings:i}=this.getArgs(e),{value:o,responseHeaders:l,rawValue:u}=await _y({url:this.config.url({path:"/audio/speech",modelId:this.modelId}),headers:uy(this.config.headers(),e.headers),body:s,failedResponseHandler:NS,successfulResponseHandler:async({response:e,url:t,requestBodyValues:n})=>{const r=dy(e);if(!e.body)throw new ag({message:"Response body is empty",url:t,requestBodyValues:n,statusCode:e.status,responseHeaders:r,responseBody:void 0});try{const t=await e.arrayBuffer();return{responseHeaders:r,value:new Uint8Array(t)}}catch(a){throw new ag({message:"Failed to read response as array buffer",url:t,requestBodyValues:n,statusCode:e.status,responseHeaders:r,responseBody:void 0,cause:a})}},abortSignal:e.abortSignal,fetch:this.config.fetch});return{audio:o,warnings:i,request:{body:JSON.stringify(s)},response:{timestamp:a,modelId:this.modelId,headers:l,body:u}}}};function g_(e={}){var t,n,r;const a=null!=(t=null==(s=e.baseURL)?void 0:s.replace(/\/$/,""))?t:"https://api.openai.com/v1";var s;const i=null!=(n=e.compatibility)?n:"compatible",o=null!=(r=e.name)?r:"openai",l=()=>({Authorization:`Bearer ${my({apiKey:e.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})}`,"OpenAI-Organization":e.organization,"OpenAI-Project":e.project,...e.headers}),u=(t,n={})=>new AS(t,n,{provider:`${o}.chat`,url:({path:e})=>`${a}${e}`,headers:l,compatibility:i,fetch:e.fetch}),c=(t,n={})=>new $S(t,n,{provider:`${o}.completion`,url:({path:e})=>`${a}${e}`,headers:l,compatibility:i,fetch:e.fetch}),d=(t,n={})=>new US(t,n,{provider:`${o}.embedding`,url:({path:e})=>`${a}${e}`,headers:l,fetch:e.fetch}),p=(t,n={})=>new qS(t,n,{provider:`${o}.image`,url:({path:e})=>`${a}${e}`,headers:l,fetch:e.fetch}),h=t=>new JS(t,{provider:`${o}.transcription`,url:({path:e})=>`${a}${e}`,headers:l,fetch:e.fetch}),f=t=>new m_(t,{provider:`${o}.speech`,url:({path:e})=>`${a}${e}`,headers:l,fetch:e.fetch}),m=(e,t)=>{if(new.target)throw new Error("The OpenAI model function cannot be called with the new keyword.");return"gpt-3.5-turbo-instruct"===e?c(e,t):u(e,t)},g=function(e,t){return m(e,t)};return g.languageModel=m,g.chat=u,g.completion=c,g.responses=t=>new QS(t,{provider:`${o}.responses`,url:({path:e})=>`${a}${e}`,headers:l,fetch:e.fetch}),g.embedding=d,g.textEmbedding=d,g.textEmbeddingModel=d,g.image=p,g.imageModel=p,g.transcription=h,g.transcriptionModel=h,g.speech=f,g.speechModel=f,g.tools=h_,g}g_({compatibility:"strict"});new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});const y_=g_({baseURL:"https://api.youware.com/public/v1/ai",apiKey:"sk-YOUWARE"});const v_=Nb({insights:Pb(Nb({title:kb().min(2),summary:kb().min(6),tone:Ob(["celebrate","coach","warn"]).default("coach"),actions:Pb(kb().min(2)).min(1).max(4)})).min(1).max(3)});async function b_(e,t){const n="insights_advisor",r=function(e){const t=globalThis.ywConfig?.ai_config?.[e];if(!t)throw Object.keys(globalThis.ywConfig?.ai_config??{}),new Error(`${TS}missing scene configuration: ${e}`);return t}(n),a=y_(r.model),s=r.system_prompt,i="function"==typeof s?s({locale:t.locale}):s??"You are the YouWare longevity insights coach. Produce concise, encouraging insights.",o=[`Locale: ${t.locale}`,`Preferred tone: ${t.tone??"coach"}`,"User name (if provided): member","Analyze the following context JSON and craft up to two actionable insights that help the user improve their longevity habit routines.","Focus on connecting readiness, energy, and habit execution. Prioritize next-step actions that fit within ten-minute sessions.",`Context JSON:\n${JSON.stringify(e,null,2)}`];r.model,r.temperature,t.locale;try{const{object:e}=await qk({model:a,schema:v_,system:i,prompt:o.join("\n\n"),temperature:r.temperature??.5,maxTokens:r.maxTokens??800});return e.insights.length,e.insights.slice(0,t.previewCount??2)}catch(l){const e=l instanceof Error?l.message:"Unknown AI error";throw r.model,new Error(`${TS}${e}`)}}const x_=[{id:"badge-streak-3",name:"Momentum Spark",condition:"Complete 3 days in a row",icon:"🔥"},{id:"badge-streak-7",name:"Longevity Loop",condition:"Maintain a 7-day streak",icon:"♾️"},{id:"badge-mission-complete",name:"Mission Architect",condition:"Complete any seasonal mission",icon:"🛡️"},{id:"badge-evening-champion",name:"Evening Champion",condition:"Log 5 evening resets in a month",icon:"🌙"},{id:"badge-oxygen-master",name:"Oxygen Mastery",condition:"Accumulate 60 minutes of breathwork",icon:"💨"}],w_=[{id:"mission-stability-foundation",title:"Stability Foundation",focus:"mobility",description:"Complete 5 mobility-focused sessions this week to unlock the Movement Catalyst badge.",rewardXp:150,requirements:["Complete 5 mobility habits","Log mobility reflection 3 times"]},{id:"mission-oxygen-advantage",title:"Oxygen Advantage",focus:"resilience",description:"Balance stress and energy by pairing breathwork with focused recovery blocks.",rewardXp:120,requirements:["Complete breathwork 3 mornings","Log readiness score each day"]},{id:"mission-evening-elite",title:"Evening Elite",focus:"recovery",description:"Dial in your wind-down routine to amplify deep sleep and recovery scores.",rewardXp:200,requirements:["Complete evening reset 4 times","Document evening reflections twice"]},{id:"mission-metabolic-momentum",title:"Metabolic Momentum",focus:"metabolic",description:"Prime metabolic health with repeated cardio microdoses across the week.",rewardXp:180,requirements:["Complete metabolic surge 3 times","Maintain streak for 4 days"]}],k_={onboarded:!1,preferences:{wakeTime:"06:30",windDownTime:"21:30",focusAreas:["mobility","strength","breathwork"],mobilityAccess:"standard"},availableHabits:[{id:"h-priming-breath",title:"Priming Breath Ladder",category:"breathwork",stage:"activate",baselineMinutes:3,intensity:"light",description:"Guided nasal breathing with extended exhales to prime the nervous system.",benefits:["Nervous system balance","Improved focus","Stress reduction"],tags:["morning","recovery"]},{id:"h-spine-mobility",title:"Spinal Mobility Flow",category:"mobility",stage:"activate",baselineMinutes:4,intensity:"light",description:"Cat-cow, thoracic rotations, and segmental bridge to wake up the spine.",benefits:["Posture","Spinal hydration","Longevity"],tags:["desk","low-impact"]},{id:"h-strength-microdose",title:"Strength Microdose Stack",category:"strength",stage:"elevate",baselineMinutes:6,intensity:"moderate",description:"Alternating tempo squats, offset push, and loaded carry pattern with bodyweight or bands.",benefits:["Lean muscle retention","Bone density","Metabolic health"],tags:["anywhere","progressive"]},{id:"h-cognition-primer",title:"Cognitive Primer",category:"cognition",stage:"activate",baselineMinutes:2,intensity:"light",description:"Dual-task drills and pattern switching to sharpen focus and reaction times.",benefits:["Neuroplasticity","Reaction speed","Mental clarity"],tags:["afternoon","brain-health"]},{id:"h-metabolic-surge",title:"Metabolic Surge Intervals",category:"cardio",stage:"master",baselineMinutes:8,intensity:"vigorous",description:"Low-impact plyometrics with controlled intervals to raise heart rate safely.",benefits:["Metabolic flexibility","VO₂ max","Longevity"],tags:["cardio","advanced"]},{id:"h-evening-reset",title:"Evening Reset Downshift",category:"mindfulness",stage:"activate",baselineMinutes:5,intensity:"light",description:"Parasympathetic breath, light mobility, and journaling prompts to close the day.",benefits:["Sleep quality","Emotional regulation","Recovery"],tags:["evening","sleep"]},{id:"h-fascia-glide",title:"Fascial Glide Wake Up",category:"mobility",stage:"elevate",baselineMinutes:7,intensity:"moderate",description:"Loaded mobility with bands to hydrate fascia and improve tissue glide.",benefits:["Joint longevity","Range of motion","Athleticism"],tags:["midday","equipment"]},{id:"h-balance-brain",title:"Balance + Brain Combo",category:"cognition",stage:"elevate",baselineMinutes:5,intensity:"moderate",description:"Single-leg balance with cognitive load for proprioception and neuro resilience.",benefits:["Fall prevention","Neural drive","Coordination"],tags:["longevity","neuro"]}],sessions:[{id:"template-daily-primer",title:"Daily Longevity Primer",goal:"Mobilize, energize, and focus in 10 minutes.",focus:"longevity",phases:[{id:"phase-prime-breath",title:"Priming Breath Ladder",description:"Guided nasal ladder breathing with extended exhales.",minutes:2,habitId:"h-priming-breath"},{id:"phase-mobility-stack",title:"Mobility Stack",description:"Spinal mobility flow to hydrate joints and fascia.",minutes:4,habitId:"h-spine-mobility"},{id:"phase-strength-dose",title:"Strength Microdose",description:"Tempo squats with offset push pattern to build strength safely.",minutes:4,habitId:"h-strength-microdose"}]},{id:"template-evening-reset",title:"Evening Nervous System Reset",goal:"Downshift and prepare for deep, restorative sleep.",focus:"recovery",phases:[{id:"phase-downshift-breath",title:"Downshift Breath",description:"Parasympathetic breath with 4-6 cadence.",minutes:3,habitId:"h-evening-reset"},{id:"phase-fascia-glide",title:"Fascial Glide",description:"Band-supported spiral mobility to release tension.",minutes:4,habitId:"h-fascia-glide"},{id:"phase-reflection",title:"Reflection + Journaling",description:"Capture micro-wins and readiness cues for tomorrow.",minutes:3,habitId:"h-evening-reset"}]},{id:"template-metabolic-surge",title:"Metabolic Surge Express",goal:"Boost metabolic flexibility with controlled cardio bursts.",focus:"performance",phases:[{id:"phase-warm-coord",title:"Warm-up Coordination",description:"Balance + brain patterning to prep nervous system.",minutes:3,habitId:"h-balance-brain"},{id:"phase-intervals",title:"Cardio Micro-Intervals",description:"Low-impact plyometric intervals and tempo climbs.",minutes:5,habitId:"h-metabolic-surge"},{id:"phase-cool-breath",title:"Cool Down Breath",description:"Coherence breathing to bring heart rate down.",minutes:2,habitId:"h-priming-breath"}]}],gamification:{xp:0,level:1,badges:[],streak:{current:0,longest:0}},history:[],insights:[],insightsLoading:!1,insightsError:void 0,insightsUpdatedAt:void 0},S_=e=>Math.floor(e/450)+1,__=(e,t)=>e.find(e=>e.date===t),T_=(e,t)=>{const n=e.filter(e=>e.id!==t.id);return[t,...n].slice(0,5)},E_=(e,t)=>{const n=e.filter(e=>e.completedHabitIds.length>0).sort((e,t)=>e.date<t.date?-1:1);if(0===n.length)return{xp:0,level:S_(0),badges:[],streak:{current:0,longest:0}};const r=n.reduce((e,n)=>e+n.completedHabitIds.reduce((e,n)=>{const r=t.find(e=>e.id===n);return r?e+(e=>{const t="master"===e.stage?80:"elevate"===e.stage?40:20,n="vigorous"===e.intensity?45:"moderate"===e.intensity?25:15;return 10*e.baselineMinutes+t+n})(r):e},0),0),a=S_(r),s=n[n.length-1]?.date;let i,o=0,l=0;n.forEach(e=>{const t=nm(e.date);if(i){const e=gf(t,i);1===e?l+=1:e>1&&(l=1)}else l=1;i=t,l>o&&(o=l)}),o=Math.max(o,1);let u=0;if(s){u=1;let e=s;for(let t=n.length-2;t>=0;t-=1){const r=gf(nm(e),nm(n[t].date));if(1!==r){if(0===r)continue;break}u+=1,e=n[t].date}}const c={current:u,longest:o,...s?{lastCompletedDate:s}:{}},d=((e,t,n)=>{const r=new Set(n.map(e=>e.id)),a=e.reduce((e,t)=>e+3*t.completedHabitIds.filter(e=>e.includes("breath")).length,0),s=tm(new Date,{representation:"date"}).slice(0,7),i=e.filter(e=>e.date.slice(0,7)===s).reduce((e,t)=>e+t.completedHabitIds.filter(e=>"h-evening-reset"===e).length,0),o=[];t.current>=3&&!r.has("badge-streak-3")&&o.push("badge-streak-3"),t.current>=7&&!r.has("badge-streak-7")&&o.push("badge-streak-7"),a>=60&&!r.has("badge-oxygen-master")&&o.push("badge-oxygen-master"),i>=5&&!r.has("badge-evening-champion")&&o.push("badge-evening-champion"),r.has("badge-mission-complete")||e.some(e=>e.notes?.includes("Mission Complete"))&&o.push("badge-mission-complete");return 0===o.length?n:[...n,...x_.filter(e=>o.includes(e.id))]})(e,c,[]);return{xp:r,level:a,badges:d,streak:c}},C_=Hm(Km((e,t)=>({...k_,missions:w_,completeHabit:(n,r)=>{const a=t(),s=r?.date??tm(new Date,{representation:"date"});if(!a.availableHabits.find(e=>e.id===n))return;const i=__(a.history,s),o=i?{...i,completedHabitIds:Array.from(new Set([...i.completedHabitIds,n])),energy:r?.energy??i.energy,readiness:r?.readiness??i.readiness,mood:r?.mood??i.mood,notes:r?.notes??i.notes}:{date:s,completedHabitIds:[n],energy:r?.energy??"steady",readiness:r?.readiness??70,mood:r?.mood??"focused",notes:r?.notes},l=((e,t)=>{const n=e.findIndex(e=>e.date===t.date);if(n>=0){const r=[...e];return r[n]=t,r}return[...e,t].sort((e,t)=>e.date>t.date?-1:1)})(a.history,o),u=E_(l,a.availableHabits),c=o.completedHabitIds.length,d=o.completedHabitIds.length>=2?{id:`insight-${s}`,title:ze.t("ai.dailyMomentum.title",{count:c}),summary:ze.t("ai.dailyMomentum.summary",{count:c}),actions:[ze.t("ai.dailyMomentum.actions.0"),ze.t("ai.dailyMomentum.actions.1"),ze.t("ai.dailyMomentum.actions.2")],tone:"celebrate"}:void 0;e({history:l,gamification:u,insights:d?T_(a.insights,d):a.insights})},uncompleteHabit:(n,r)=>{const a=t(),s=r??tm(new Date,{representation:"date"}),i=__(a.history,s);if(!i)return;if(!i.completedHabitIds.includes(n))return;const o=i.completedHabitIds.filter(e=>e!==n);let l;l=0===o.length?a.history.filter(e=>e.date!==s):a.history.map(e=>e.date===s?{...e,completedHabitIds:o}:e);const u=`insight-${s}`;let c=a.insights;if(o.length>=2){const e=a.insights.findIndex(e=>e.id===u);if(e>=0){const t=o.length,n={id:u,title:ze.t("ai.dailyMomentum.title",{count:t}),summary:ze.t("ai.dailyMomentum.summary",{count:t}),actions:[ze.t("ai.dailyMomentum.actions.0"),ze.t("ai.dailyMomentum.actions.1"),ze.t("ai.dailyMomentum.actions.2")],tone:"celebrate"};c=[...a.insights.slice(0,e),n,...a.insights.slice(e+1)]}}else c=a.insights.filter(e=>e.id!==u);const d=E_(l,a.availableHabits);e({history:l,gamification:d,insights:c})},startSession:n=>{const r=t().sessions.find(e=>e.id===n);if(!r)return;const a=r.phases[0],s=tm(new Date),i={templateId:n,startTime:s,elapsedSeconds:0,currentPhaseId:a.id,isPaused:!1};e({activeTemplateId:n,activeSession:i})},advanceSession:()=>{const n=t(),r=n.activeSession;if(!r)return;const a=n.sessions.find(e=>e.id===r.templateId);if(!a)return;const s=a.phases.findIndex(e=>e.id===r.currentPhaseId),i=a.phases[s+1];i?e({activeSession:{...r,currentPhaseId:i.id}}):t().finishSession()},pauseSession:()=>{const n=t().activeSession;n&&e({activeSession:{...n,isPaused:!0}})},resumeSession:()=>{const n=t().activeSession;n&&e({activeSession:{...n,isPaused:!1}})},tickSession:n=>{const r=t().activeSession;r&&!r.isPaused&&e({activeSession:{...r,elapsedSeconds:r.elapsedSeconds+n}})},finishSession:n=>{const r=t(),a=r.activeSession;if(!a)return;const s=r.sessions.find(e=>e.id===a.templateId);if(!s)return;const i=tm(new Date,{representation:"date"});s.phases.forEach(e=>{r.completeHabit(e.habitId,{date:i})});const o=t().history.map(e=>e.date===i?{...e,sessionReflection:n}:e),l=t().gamification.xp+120,u=S_(l),c=ze.t(`sessions.templates.${s.id}.title`,{defaultValue:s.title}),d={id:`session-${i}-${s.id}`,title:ze.t("ai.sessionComplete.title",{session:c}),summary:ze.t("ai.sessionComplete.summary",{session:c}),actions:[ze.t("ai.sessionComplete.actions.0"),ze.t("ai.sessionComplete.actions.1"),ze.t("ai.sessionComplete.actions.2")],tone:"celebrate"};e({activeTemplateId:void 0,activeSession:void 0,history:o,gamification:{...t().gamification,xp:l,level:u},insights:T_(t().insights,d)})},abandonSession:()=>{t().activeSession&&e({activeTemplateId:void 0,activeSession:void 0})},setPreferences:n=>{e({preferences:{...t().preferences,...n,focusAreas:n.focusAreas??t().preferences.focusAreas}})},setOnboarded:()=>{e({onboarded:!0})},upsertInsight:n=>{e({insights:T_(t().insights,n)})},generateAIInsights:async()=>{const n=t();if(0===n.history.length)return void e({insightsError:ze.t("insightsFeed.noHistory"),insightsLoading:!1});e({insightsLoading:!0,insightsError:void 0});const r=(e=>{const t=[...e.history].sort((e,t)=>e.date>t.date?-1:1).slice(0,7),n=new Map(e.availableHabits.map(e=>[e.id,e])),r={};let a=0;t.forEach(e=>{a+=e.completedHabitIds.length,e.completedHabitIds.forEach(e=>{const t=n.get(e)?.category??"other";r[t]=(r[t]??0)+1})});const s=t.map(e=>e.readiness??70),i=s.length>0?s.reduce((e,t)=>e+t,0)/s.length:70,o=Math.round(i);let l="flat";if(s.length>=2){const e=s[0]-s[s.length-1];l=e>5?"up":e<-5?"down":"flat"}const u=s.length>0?Math.round(Math.max(...s)):o,c=s.length>0?Math.round(Math.min(...s)):o,d={};t.forEach(e=>{d[e.energy]=(d[e.energy]??0)+1});const p=t.map(e=>({date:e.date,mood:e.mood,notes:e.notes,readiness:e.readiness??o})),h=t.length>0?`${t[t.length-1].date} to ${t[0].date}`:"no-data";return{preferences:{wakeTime:e.preferences.wakeTime,windDownTime:e.preferences.windDownTime,focusAreas:e.preferences.focusAreas,mobilityAccess:e.preferences.mobilityAccess},gamification:{level:e.gamification.level,xp:e.gamification.xp,currentStreak:e.gamification.streak.current,longestStreak:e.gamification.streak.longest},readiness:{average:o,trend:l,lowest:c,highest:u},habitExecution:{window:h,totalCompleted:a,categories:r},energy:{distribution:d},reflections:p}})(n);if(0!==r.reflections.length)try{const t=await b_(r,{locale:ze.language,userName:void 0,tone:"coach",previewCount:2});if(0===t.length)return void e({insightsLoading:!1,insightsError:ze.t("insightsFeed.errorEmpty")});const n=Date.now();e(e=>{let r=e.insights;return t.forEach((e,t)=>{let a=e.actions.map(e=>e.trim()).filter(e=>e.length>0).slice(0,4);0===a.length&&(a=[e.summary.trim()]);const s={id:`ai-${n}-${t}`,title:e.title.trim(),summary:e.summary.trim(),actions:a,tone:e.tone};r=T_(r,s)}),{insights:r,insightsLoading:!1,insightsError:void 0,insightsUpdatedAt:(new Date).toISOString()}})}catch(a){e({insightsLoading:!1,insightsError:ze.t("insightsFeed.errorGeneric")})}else e({insightsLoading:!1,insightsError:ze.t("insightsFeed.noHistory")})},resetDay:n=>{const r=t(),a=n??tm(new Date,{representation:"date"}),s=r.history.filter(e=>e.date!==a),i=E_(s,r.availableHabits),o=r.insights.filter(e=>e.id!==`insight-${a}`);e({history:s,gamification:i,insights:o})}}),{name:"pulse-10-store",version:1,partialize:e=>({onboarded:e.onboarded,preferences:e.preferences,availableHabits:e.availableHabits,sessions:e.sessions,gamification:e.gamification,history:e.history,insights:e.insights,insightsUpdatedAt:e.insightsUpdatedAt,missions:e.missions})})),P_=()=>{const e=C_(e=>e.gamification.level),t=C_(e=>e.gamification.streak.current),{t:n,i18n:r}=St(),a=V.useMemo(()=>r.language.startsWith("zh")?mm:Tf,[r.language]),s=V.useMemo(()=>Qf(new Date,"EEEE, MMM d",{locale:a}),[a]);return J.jsxs("header",{className:"flex w-full items-center justify-between gap-4 rounded-3xl border border-ink-700 bg-ink-800/80 px-5 py-4 text-sm text-ink-200 backdrop-blur",children:[J.jsxs("div",{children:[J.jsx("p",{className:"text-[0.65rem] uppercase tracking-[0.3em] text-primary-200/80",children:n("topBar.brand")}),J.jsx("h1",{className:"font-display text-xl text-ink-50",children:n("topBar.tagline")}),J.jsx("p",{className:"text-xs text-ink-400",children:s})]}),J.jsxs("div",{className:"flex items-center gap-4 text-right",children:[J.jsx(gm,{}),J.jsx("div",{className:"h-10 w-px bg-ink-700"}),J.jsxs("div",{children:[J.jsx("p",{className:"text-[0.65rem] uppercase tracking-wide text-ink-400",children:n("common.level")}),J.jsx("p",{className:"font-display text-lg text-primary-200",children:e})]}),J.jsx("div",{className:"h-10 w-px bg-ink-700"}),J.jsxs("div",{children:[J.jsx("p",{className:"text-[0.65rem] uppercase tracking-wide text-ink-400",children:n("common.streak")}),J.jsx("p",{className:"font-display text-lg text-primary-200",children:n("common.daySuffix",{count:t})})]})]})]})},N_=[{to:"/",labelKey:"nav.today",icon:"⚡"},{to:"/session",labelKey:"nav.session",icon:"⏱️"},{to:"/insights",labelKey:"nav.insights",icon:"🧠"},{to:"/profile",labelKey:"nav.profile",icon:"🌱"}],j_=()=>{const{t:e}=St();return J.jsx("nav",{className:"fixed bottom-4 left-1/2 z-50 flex w-full max-w-4xl -translate-x-1/2 items-center justify-between rounded-3xl bg-ink-800/80 px-4 py-3 shadow-subtle backdrop-blur",children:N_.map(t=>J.jsxs(Xh,{to:t.to,end:"/"===t.to,className:({isActive:e})=>"flex h-12 w-16 flex-col items-center justify-center gap-1 rounded-2xl text-xs transition-all duration-200 "+(e?"bg-primary-500/15 text-primary-200 shadow-card":"text-ink-300 hover:text-primary-100"),children:[J.jsx("span",{className:"text-lg",children:t.icon}),J.jsx("span",{className:"font-medium uppercase tracking-wide",children:e(t.labelKey)})]},t.to))})},A_=({children:e})=>J.jsxs("div",{className:"relative flex min-h-screen flex-col bg-gradient-to-b from-ink-900 via-ink-900 to-ink-950 px-4 pb-24 pt-6 sm:px-6 lg:px-8",children:[J.jsxs("div",{className:"mx-auto flex w-full max-w-4xl flex-1 flex-col gap-6 pb-12",children:[J.jsx(P_,{}),J.jsx("main",{className:"flex flex-1 flex-col gap-6",children:e})]}),J.jsx(j_,{})]}),I_={mobility:"from-primary-400/70 to-primary-500/40",strength:"from-orange-400/70 to-orange-500/40",cardio:"from-rose-400/70 to-rose-500/40",breathwork:"from-sky-400/70 to-sky-500/40",mindfulness:"from-violet-400/70 to-violet-500/40",cognition:"from-amber-400/70 to-amber-500/40",nutrition:"from-lime-400/70 to-lime-500/40"},R_=({habit:e,isCompleted:t})=>{const n=C_(e=>e.completeHabit),{t:r}=St(),a=r(`habits.stages.${e.stage}`),s=r(`habits.intensity.${e.intensity}`),i=r(`habits.items.${e.id}.title`,{defaultValue:e.title}),o=r(`habits.items.${e.id}.description`,{defaultValue:e.description}),l=e.tags.map(e=>r(`habits.tags.${e}`,{defaultValue:e}));return J.jsxs("article",{className:"relative overflow-hidden rounded-3xl border border-ink-700 bg-ink-800/70 p-4 shadow-subtle backdrop-blur transition-all duration-300 hover:border-primary-400/60",children:[J.jsx("div",{className:`absolute inset-0 -z-10 bg-gradient-to-br ${I_[e.category]} opacity-60`}),J.jsxs("div",{className:"flex items-center justify-between",children:[J.jsxs("div",{children:[J.jsx("p",{className:"text-[0.65rem] uppercase tracking-wide text-ink-300",children:a}),J.jsx("h2",{className:"font-display text-lg text-ink-50",children:i})]}),J.jsx("button",{onClick:()=>{const t=r(`habits.items.${e.id}.title`,{defaultValue:e.title});n(e.id,{notes:r("habits.completeNoteTemplate",{title:t})})},className:"rounded-full px-4 py-2 text-xs font-semibold uppercase tracking-wide transition-colors "+(t?"bg-ink-900/80 text-primary-200":"bg-primary-500 text-ink-900 hover:bg-primary-400"),children:r(t?"habits.actions.logged":"habits.actions.complete")})]}),J.jsx("p",{className:"mt-4 text-sm text-ink-200",children:o}),J.jsxs("footer",{className:"mt-5 flex flex-wrap items-center gap-2 text-xs text-primary-100",children:[J.jsx("span",{className:"rounded-full border border-primary-300/30 px-3 py-1 uppercase tracking-wide",children:r("habits.metrics",{minutes:e.baselineMinutes,intensity:s})}),l.map(e=>J.jsx("span",{className:"rounded-full border border-ink-600/60 px-2.5 py-1 text-[0.68rem] uppercase",children:e},e))]})]})},M_=()=>{const{level:e,xp:t,badges:n,streak:r}=C_(e=>e.gamification),{t:a}=St(),s=Math.min(t%450/450*100,100);return J.jsxs("section",{className:"rounded-3xl border border-ink-700 bg-ink-800/60 p-5",children:[J.jsxs("header",{className:"flex items-center justify-between text-sm text-ink-300",children:[J.jsx("h2",{className:"font-display text-lg text-ink-50",children:a("gamification.title")}),J.jsx("span",{className:"rounded-full border border-primary-400/30 px-3 py-1 text-xs uppercase",children:a("gamification.levelTag",{level:e})})]}),J.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 text-sm text-ink-300 sm:grid-cols-2",children:[J.jsxs("div",{className:"rounded-2xl border border-ink-700/60 bg-ink-900/60 p-4",children:[J.jsx("p",{className:"text-[0.7rem] uppercase tracking-wide text-ink-400",children:a("gamification.xpProgress")}),J.jsx("div",{className:"mt-3 h-2 w-full overflow-hidden rounded-full bg-ink-700",children:J.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-primary-400 via-primary-500 to-primary-300",style:{width:`${s.toFixed(2)}%`}})}),J.jsx("p",{className:"mt-2 text-xs text-ink-400",children:a("gamification.xpSummary",{total:t,next:450-t%450||450})})]}),J.jsxs("div",{className:"rounded-2xl border border-ink-700/60 bg-ink-900/60 p-4",children:[J.jsx("p",{className:"text-[0.7rem] uppercase tracking-wide text-ink-400",children:a("gamification.currentStreak")}),J.jsx("p",{className:"mt-2 font-display text-3xl text-primary-200",children:a("common.days",{count:r.current})}),J.jsx("p",{className:"text-xs text-ink-400",children:a("gamification.longestStreak",{count:r.longest})})]})]}),J.jsxs("div",{className:"mt-5",children:[J.jsx("p",{className:"text-xs uppercase tracking-wide text-ink-400",children:a("gamification.badges")}),J.jsxs("div",{className:"mt-3 flex flex-wrap gap-3",children:[0===n.length&&J.jsx("span",{className:"text-xs text-ink-500",children:a("gamification.noBadges")}),n.map(e=>J.jsxs("div",{className:"flex items-center gap-2 rounded-2xl border border-primary-400/30 bg-primary-500/10 px-3 py-2 text-xs text-primary-100",children:[J.jsx("span",{className:"text-lg",children:e.icon}),J.jsxs("div",{children:[J.jsx("p",{className:"font-semibold uppercase tracking-wide",children:a(`badges.${e.id}.name`,{defaultValue:e.name})}),J.jsx("p",{className:"text-[0.68rem] text-primary-200/80",children:a(`badges.${e.id}.condition`,{defaultValue:e.condition})})]})]},e.id))]})]})]})},O_=()=>{const e=C_(e=>e.history),t=C_(e=>e.gamification.streak),n=C_(e=>e.gamification.xp),{t:r}=St(),a=V.useMemo(()=>Qf(new Date,"yyyy-MM-dd"),[]),s=e.find(e=>e.date===a),i=s?.completedHabitIds.length??0,o=s?.readiness??0,l=s?.energy??"steady",u=e.slice(0,14);return J.jsxs("section",{className:"rounded-3xl border border-ink-700 bg-ink-800/60 p-5",children:[J.jsxs("header",{className:"flex items-center justify-between text-sm text-ink-300",children:[J.jsx("h2",{className:"font-display text-lg text-ink-50",children:r("progress.title")}),J.jsx("span",{className:"rounded-full border border-primary-400/30 px-3 py-1 text-xs uppercase",children:r("progress.completedLabel",{count:i,total:3})})]}),J.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 text-sm text-ink-300 sm:grid-cols-4",children:[J.jsxs("div",{className:"rounded-2xl border border-ink-700/60 bg-ink-900/60 p-3",children:[J.jsx("p",{className:"text-[0.7rem] uppercase tracking-wide text-ink-400",children:r("progress.energy")}),J.jsx("p",{className:"font-display text-2xl text-primary-200",children:r(`progress.energyLevels.${l}`)})]}),J.jsxs("div",{className:"rounded-2xl border border-ink-700/60 bg-ink-900/60 p-3",children:[J.jsx("p",{className:"text-[0.7rem] uppercase tracking-wide text-ink-400",children:r("progress.readiness")}),J.jsx("p",{className:"font-display text-2xl text-primary-200",children:o||"—"})]}),J.jsxs("div",{className:"rounded-2xl border border-ink-700/60 bg-ink-900/60 p-3",children:[J.jsx("p",{className:"text-[0.7rem] uppercase tracking-wide text-ink-400",children:r("common.streak")}),J.jsx("p",{className:"font-display text-2xl text-primary-200",children:r("common.days",{count:t.current})})]}),J.jsxs("div",{className:"rounded-2xl border border-ink-700/60 bg-ink-900/60 p-3",children:[J.jsx("p",{className:"text-[0.7rem] uppercase tracking-wide text-ink-400",children:r("progress.xp")}),J.jsx("p",{className:"font-display text-2xl text-primary-200",children:n})]})]}),J.jsxs("div",{className:"mt-4",children:[J.jsx("p",{className:"text-xs uppercase tracking-wide text-ink-400",children:r("progress.lastDays")}),J.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:u.map(e=>{const t=e.completedHabitIds.length,n=(.3+.7*Math.min(t/3,1)).toFixed(2);return J.jsx("div",{title:r("progress.heatmapTooltip",{date:e.date,count:t}),className:"h-6 w-6 rounded-lg border border-primary-400/30",style:{background:`rgba(16, 185, 129, ${n})`,boxShadow:t?"0 0 12px rgba(16, 185, 129, 0.35)":"none"}},e.date)})})]})]})},L_=()=>{const e=C_(e=>e.availableHabits),t=C_(e=>e.history),n=C_(e=>e.missions),{t:r}=St(),a=Qf(new Date,"yyyy-MM-dd"),s=t.find(e=>e.date===a),i=new Set(s?.completedHabitIds??[]);return J.jsxs("div",{className:"flex flex-col gap-6",children:[J.jsx(O_,{}),J.jsxs("section",{className:"grid gap-5 lg:grid-cols-[2fr,1fr]",children:[J.jsxs("div",{className:"space-y-4",children:[J.jsxs("header",{className:"flex items-center justify-between",children:[J.jsx("h2",{className:"font-display text-lg text-ink-50",children:r("dashboard.todayTitle")}),J.jsx("span",{className:"text-xs uppercase text-ink-400",children:r("dashboard.tapHint")})]}),J.jsx("div",{className:"grid gap-4",children:e.map(e=>J.jsx(R_,{habit:e,isCompleted:i.has(e.id)},e.id))})]}),J.jsxs("div",{className:"space-y-4",children:[J.jsx(M_,{}),J.jsxs("section",{className:"rounded-3xl border border-ink-700 bg-ink-800/60 p-5",children:[J.jsx("h3",{className:"font-display text-lg text-ink-50",children:r("dashboard.missionsTitle")}),J.jsx("p",{className:"text-xs text-ink-400",children:r("dashboard.missionsSubtitle")}),J.jsx("div",{className:"mt-3 space-y-3",children:n.map(e=>J.jsxs("div",{className:"rounded-2xl border border-ink-700/60 bg-ink-900/60 p-4 text-sm text-ink-300",children:[J.jsx("p",{className:"text-[0.7rem] uppercase tracking-wide text-primary-200",children:r(`missions.${e.id}.focus`,{defaultValue:r(`missions.focus.${e.focus}`)})}),J.jsx("p",{className:"font-semibold text-ink-100",children:r(`missions.${e.id}.title`,{defaultValue:e.title})}),J.jsx("p",{className:"mt-1 text-xs text-ink-400",children:r(`missions.${e.id}.description`,{defaultValue:e.description})}),J.jsx("p",{className:"mt-2 text-xs text-primary-200",children:r("missions.reward",{xp:e.rewardXp})}),J.jsx("ul",{className:"mt-2 list-disc pl-5 text-xs text-ink-400",children:e.requirements.map((t,n)=>J.jsx("li",{children:r(`missions.${e.id}.requirements.${n}`,{defaultValue:t})},t))})]},e.id))})]})]})]})]})},D_=V.createContext({});function F_(e){const t=V.useRef(null);return null===t.current&&(t.current=e()),t.current}const $_=V.createContext(null),V_=V.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class z_ extends V.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function U_({children:e,isPresent:t}){const n=V.useId(),r=V.useRef(null),a=V.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=V.useContext(V_);return V.useInsertionEffect(()=>{const{width:e,height:i,top:o,left:l}=a.current;if(t||!r.current||!e||!i)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return s&&(u.nonce=s),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`\n          [data-motion-pop-id="${n}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${i}px !important;\n            top: ${o}px !important;\n            left: ${l}px !important;\n          }\n        `),()=>{document.head.removeChild(u)}},[t]),J.jsx(z_,{isPresent:t,childRef:r,sizeRef:a,children:V.cloneElement(e,{ref:r})})}const B_=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:s,mode:i})=>{const o=F_(W_),l=V.useId(),u=V.useCallback(e=>{o.set(e,!0);for(const t of o.values())if(!t)return;r&&r()},[o,r]),c=V.useMemo(()=>({id:l,initial:t,isPresent:n,custom:a,onExitComplete:u,register:e=>(o.set(e,!1),()=>o.delete(e))}),s?[Math.random(),u]:[n,u]);return V.useMemo(()=>{o.forEach((e,t)=>o.set(t,!1))},[n]),V.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),"popLayout"===i&&(e=J.jsx(U_,{isPresent:n,children:e})),J.jsx($_.Provider,{value:c,children:e})};function W_(){return new Map}function H_(e=!0){const t=V.useContext($_);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,s=V.useId();V.useEffect(()=>{e&&a(s)},[e]);const i=V.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,i]:[!0]}const q_=e=>e.key||"";function Z_(e){const t=[];return V.Children.forEach(e,e=>{V.isValidElement(e)&&t.push(e)}),t}const K_="undefined"!=typeof window,Y_=K_?V.useLayoutEffect:V.useEffect,J_=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:s="sync",propagate:i=!1})=>{const[o,l]=H_(i),u=V.useMemo(()=>Z_(e),[e]),c=i&&!o?[]:u.map(q_),d=V.useRef(!0),p=V.useRef(u),h=F_(()=>new Map),[f,m]=V.useState(u),[g,y]=V.useState(u);Y_(()=>{d.current=!1,p.current=u;for(let e=0;e<g.length;e++){const t=q_(g[e]);c.includes(t)?h.delete(t):!0!==h.get(t)&&h.set(t,!1)}},[g,c.length,c.join("-")]);const v=[];if(u!==f){let e=[...u];for(let t=0;t<g.length;t++){const n=g[t],r=q_(n);c.includes(r)||(e.splice(t,0,n),v.push(n))}return"wait"===s&&v.length&&(e=v),y(Z_(e)),void m(u)}const{forceRender:b}=V.useContext(D_);return J.jsx(J.Fragment,{children:g.map(e=>{const f=q_(e),m=!(i&&!o)&&(u===g||c.includes(f));return J.jsx(B_,{isPresent:m,initial:!(d.current&&!n)&&void 0,custom:m?void 0:t,presenceAffectsLayout:a,mode:s,onExitComplete:m?void 0:()=>{if(!h.has(f))return;h.set(f,!0);let e=!0;h.forEach(t=>{t||(e=!1)}),e&&(null==b||b(),y(p.current),i&&(null==l||l()),r&&r())},children:e},f)})})},G_=e=>e;let X_=G_;function Q_(e){let t;return()=>(void 0===t&&(t=e()),t)}const eT=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},tT=e=>1e3*e,nT=e=>e/1e3,rT=!1;const aT=["read","resolveKeyframes","update","preRender","render","postRender"];function sT(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,i=aT.reduce((e,t)=>(e[t]=function(e){let t=new Set,n=new Set,r=!1,a=!1;const s=new WeakSet;let i={delta:0,timestamp:0,isProcessing:!1};function o(t){s.has(t)&&(l.schedule(t),e()),t(i)}const l={schedule:(e,a=!1,i=!1)=>{const o=i&&r?t:n;return a&&s.add(e),o.has(e)||o.add(e),e},cancel:e=>{n.delete(e),s.delete(e)},process:e=>{i=e,r?a=!0:(r=!0,[t,n]=[n,t],t.forEach(o),t.clear(),r=!1,a&&(a=!1,l.process(e)))}};return l}(s),e),{}),{read:o,resolveKeyframes:l,update:u,preRender:c,render:d,postRender:p}=i,h=()=>{const s=performance.now();n=!1,a.delta=r?1e3/60:Math.max(Math.min(s-a.timestamp,40),1),a.timestamp=s,a.isProcessing=!0,o.process(a),l.process(a),u.process(a),c.process(a),d.process(a),p.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(h))};return{schedule:aT.reduce((t,s)=>{const o=i[s];return t[s]=(t,s=!1,i=!1)=>(n||(n=!0,r=!0,a.isProcessing||e(h)),o.schedule(t,s,i)),t},{}),cancel:e=>{for(let t=0;t<aT.length;t++)i[aT[t]].cancel(e)},state:a,steps:i}}const{schedule:iT,cancel:oT,state:lT,steps:uT}=sT("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:G_,!0),cT=V.createContext({strict:!1}),dT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pT={};for(const QI in dT)pT[QI]={isEnabled:e=>dT[QI].some(t=>!!e[t])};const hT=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fT(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||hT.has(e)}let mT=e=>!fT(e);try{(gT=require("@emotion/is-prop-valid").default)&&(mT=e=>e.startsWith("on")?!fT(e):gT(e))}catch(XI){}var gT;function yT(e){if("undefined"==typeof Proxy)return e;const t=new Map;return new Proxy((...t)=>e(...t),{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}const vT=V.createContext({});function bT(e){return"string"==typeof e||Array.isArray(e)}function xT(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}const wT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kT=["initial",...wT];function ST(e){return xT(e.animate)||kT.some(t=>bT(e[t]))}function _T(e){return Boolean(ST(e)||e.variants)}function TT(e){const{initial:t,animate:n}=function(e,t){if(ST(e)){const{initial:t,animate:n}=e;return{initial:!1===t||bT(t)?t:void 0,animate:bT(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,V.useContext(vT));return V.useMemo(()=>({initial:t,animate:n}),[ET(t),ET(n)])}function ET(e){return Array.isArray(e)?e.join(" "):e}const CT=Symbol.for("motionComponentSymbol");function PT(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function NT(e,t,n){return V.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"==typeof n?n(r):PT(n)&&(n.current=r))},[t])}const jT=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),AT="data-"+jT("framerAppearId"),{schedule:IT}=sT(queueMicrotask,!1),RT=V.createContext({});function MT(e,t,n,r,a){var s,i;const{visualElement:o}=V.useContext(vT),l=V.useContext(cT),u=V.useContext($_),c=V.useContext(V_).reducedMotion,d=V.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:o,props:n,presenceContext:u,blockInitialAnimation:!!u&&!1===u.initial,reducedMotionConfig:c}));const p=d.current,h=V.useContext(RT);!p||p.projection||!a||"html"!==p.type&&"svg"!==p.type||function(e,t,n,r){const{layoutId:a,layout:s,drag:i,dragConstraints:o,layoutScroll:l,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:OT(e.parent)),e.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:Boolean(i)||o&&PT(o),visualElement:e,animationType:"string"==typeof s?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}(d.current,n,a,h);const f=V.useRef(!1);V.useInsertionEffect(()=>{p&&f.current&&p.update(n,u)});const m=n[AT],g=V.useRef(Boolean(m)&&!(null===(s=window.MotionHandoffIsComplete)||void 0===s?void 0:s.call(window,m))&&(null===(i=window.MotionHasOptimisedAnimation)||void 0===i?void 0:i.call(window,m)));return Y_(()=>{p&&(f.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),IT.render(p.render),g.current&&p.animationState&&p.animationState.animateChanges())}),V.useEffect(()=>{p&&(!g.current&&p.animationState&&p.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,m)}),g.current=!1))}),p}function OT(e){if(e)return!1!==e.options.allowProjection?e.projection:OT(e.parent)}function LT({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:a}){var s,i;function o(e,s){let i;const o={...V.useContext(V_),...e,layoutId:DT(e)},{isStatic:l}=o,u=TT(e),c=r(e,l);if(!l&&K_){V.useContext(cT).strict;const e=function(e){const{drag:t,layout:n}=pT;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:(null==t?void 0:t.isEnabled(e))||(null==n?void 0:n.isEnabled(e))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(o);i=e.MeasureLayout,u.visualElement=MT(a,c,o,t,e.ProjectionNode)}return J.jsxs(vT.Provider,{value:u,children:[i&&u.visualElement?J.jsx(i,{visualElement:u.visualElement,...o}):null,n(a,e,NT(c,u.visualElement,s),c,l,u.visualElement)]})}e&&function(e){for(const t in e)pT[t]={...pT[t],...e[t]}}(e),o.displayName=`motion.${"string"==typeof a?a:`create(${null!==(i=null!==(s=a.displayName)&&void 0!==s?s:a.name)&&void 0!==i?i:""})`}`;const l=V.forwardRef(o);return l[CT]=a,l}function DT({layoutId:e}){const t=V.useContext(D_).id;return t&&void 0!==e?t+"-"+e:e}const FT=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $T(e){return"string"==typeof e&&!e.includes("-")&&!!(FT.indexOf(e)>-1||/[A-Z]/u.test(e))}function VT(e){const t=[{},{}];return null==e||e.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function zT(e,t,n,r){if("function"==typeof t){const[a,s]=VT(r);t=t(void 0!==n?n:e.custom,a,s)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){const[a,s]=VT(r);t=t(void 0!==n?n:e.custom,a,s)}return t}const UT=e=>Array.isArray(e),BT=e=>UT(e)?e[e.length-1]||0:e,WT=e=>Boolean(e&&e.getVelocity);function HT(e){const t=WT(e)?e.get():e;return n=t,Boolean(n&&"object"==typeof n&&n.mix&&n.toValue)?t.toValue():t;var n}const qT=e=>(t,n)=>{const r=V.useContext(vT),a=V.useContext($_),s=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,a,s){const i={latestValues:ZT(r,a,s,e),renderState:t()};return n&&(i.onMount=e=>n({props:r,current:e,...i}),i.onUpdate=e=>n(e)),i}(e,t,r,a);return n?s():F_(s)};function ZT(e,t,n,r){const a={},s=r(e,{});for(const p in s)a[p]=HT(s[p]);let{initial:i,animate:o}=e;const l=ST(e),u=_T(e);t&&u&&!l&&!1!==e.inherit&&(void 0===i&&(i=t.initial),void 0===o&&(o=t.animate));let c=!!n&&!1===n.initial;c=c||!1===i;const d=c?o:i;if(d&&"boolean"!=typeof d&&!xT(d)){const t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){const r=zT(e,t[n]);if(r){const{transitionEnd:e,transition:t,...n}=r;for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[c?e.length-1:0]}null!==e&&(a[r]=e)}for(const r in e)a[r]=e[r]}}}return a}const KT=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],YT=new Set(KT),JT=e=>t=>"string"==typeof t&&t.startsWith(e),GT=JT("--"),XT=JT("var(--"),QT=e=>!!XT(e)&&eE.test(e.split("/*")[0].trim()),eE=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,tE=(e,t)=>t&&"number"==typeof e?t.transform(e):e,nE=(e,t,n)=>n>t?t:n<e?e:n,rE={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},aE={...rE,transform:e=>nE(0,1,e)},sE={...rE,default:1},iE=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),oE=iE("deg"),lE=iE("%"),uE=iE("px"),cE=iE("vh"),dE=iE("vw"),pE={...lE,parse:e=>lE.parse(e)/100,transform:e=>lE.transform(100*e)},hE={borderWidth:uE,borderTopWidth:uE,borderRightWidth:uE,borderBottomWidth:uE,borderLeftWidth:uE,borderRadius:uE,radius:uE,borderTopLeftRadius:uE,borderTopRightRadius:uE,borderBottomRightRadius:uE,borderBottomLeftRadius:uE,width:uE,maxWidth:uE,height:uE,maxHeight:uE,top:uE,right:uE,bottom:uE,left:uE,padding:uE,paddingTop:uE,paddingRight:uE,paddingBottom:uE,paddingLeft:uE,margin:uE,marginTop:uE,marginRight:uE,marginBottom:uE,marginLeft:uE,backgroundPositionX:uE,backgroundPositionY:uE},fE={rotate:oE,rotateX:oE,rotateY:oE,rotateZ:oE,scale:sE,scaleX:sE,scaleY:sE,scaleZ:sE,skew:oE,skewX:oE,skewY:oE,distance:uE,translateX:uE,translateY:uE,translateZ:uE,x:uE,y:uE,z:uE,perspective:uE,transformPerspective:uE,opacity:aE,originX:pE,originY:pE,originZ:uE},mE={...rE,transform:Math.round},gE={...hE,...fE,zIndex:mE,size:uE,fillOpacity:aE,strokeOpacity:aE,numOctaves:mE},yE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vE=KT.length;function bE(e,t,n){const{style:r,vars:a,transformOrigin:s}=e;let i=!1,o=!1;for(const l in t){const e=t[l];if(YT.has(l))i=!0;else if(GT(l))a[l]=e;else{const t=tE(e,gE[l]);l.startsWith("origin")?(o=!0,s[l]=t):r[l]=t}}if(t.transform||(i||n?r.transform=function(e,t,n){let r="",a=!0;for(let s=0;s<vE;s++){const i=KT[s],o=e[i];if(void 0===o)continue;let l=!0;if(l="number"==typeof o?o===(i.startsWith("scale")?1:0):0===parseFloat(o),!l||n){const e=tE(o,gE[i]);l||(a=!1,r+=`${yE[i]||i}(${e}) `),n&&(t[i]=e)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:n=0}=s;r.transformOrigin=`${e} ${t} ${n}`}}const xE={offset:"stroke-dashoffset",array:"stroke-dasharray"},wE={offset:"strokeDashoffset",array:"strokeDasharray"};function kE(e,t,n){return"string"==typeof e?e:uE.transform(t+n*e)}function SE(e,{attrX:t,attrY:n,attrScale:r,originX:a,originY:s,pathLength:i,pathSpacing:o=1,pathOffset:l=0,...u},c,d){if(bE(e,u,d),c)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:h,dimensions:f}=e;p.transform&&(f&&(h.transform=p.transform),delete p.transform),f&&(void 0!==a||void 0!==s||h.transform)&&(h.transformOrigin=function(e,t,n){return`${kE(t,e.x,e.width)} ${kE(n,e.y,e.height)}`}(f,void 0!==a?a:.5,void 0!==s?s:.5)),void 0!==t&&(p.x=t),void 0!==n&&(p.y=n),void 0!==r&&(p.scale=r),void 0!==i&&function(e,t,n=1,r=0,a=!0){e.pathLength=1;const s=a?xE:wE;e[s.offset]=uE.transform(-r);const i=uE.transform(t),o=uE.transform(n);e[s.array]=`${i} ${o}`}(p,i,o,l,!1)}const _E=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),TE=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),EE=e=>"string"==typeof e&&"svg"===e.toLowerCase();function CE(e,{style:t,vars:n},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const PE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function NE(e,t,n,r){CE(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(PE.has(a)?a:jT(a),t.attrs[a])}const jE={};function AE(e,{layout:t,layoutId:n}){return YT.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!jE[e]||"opacity"===e)}function IE(e,t,n){var r;const{style:a}=e,s={};for(const i in a)(WT(a[i])||t.style&&WT(t.style[i])||AE(i,e)||void 0!==(null===(r=null==n?void 0:n.getValue(i))||void 0===r?void 0:r.liveStyle))&&(s[i]=a[i]);return s}function RE(e,t,n){const r=IE(e,t,n);for(const a in e)if(WT(e[a])||WT(t[a])){r[-1!==KT.indexOf(a)?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a]=e[a]}return r}const ME=["x","y","width","height","cx","cy","r"],OE={useVisualState:qT({scrapeMotionValuesFromProps:RE,createRenderState:TE,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:a})=>{if(!n)return;let s=!!e.drag;if(!s)for(const o in a)if(YT.has(o)){s=!0;break}if(!s)return;let i=!t;if(t)for(let o=0;o<ME.length;o++){const n=ME[o];e[n]!==t[n]&&(i=!0)}i&&iT.read(()=>{!function(e,t){try{t.dimensions="function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(GI){t.dimensions={x:0,y:0,width:0,height:0}}}(n,r),iT.render(()=>{SE(r,a,EE(n.tagName),e.transformTemplate),NE(n,r)})})}})},LE={useVisualState:qT({scrapeMotionValuesFromProps:IE,createRenderState:_E})};function DE(e,t,n){for(const r in t)WT(t[r])||AE(r,n)||(e[r]=t[r])}function FE(e,t){const n={};return DE(n,e.style||{},e),Object.assign(n,function({transformTemplate:e},t){return V.useMemo(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{}};return bE(n,t,e),Object.assign({},n.vars,n.style)},[t])}(e,t)),n}function $E(e,t){const n={},r=FE(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function VE(e,t,n,r){const a=V.useMemo(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return SE(n,t,EE(r),e.transformTemplate),{...n.attrs,style:{...n.style}}},[t]);if(e.style){const t={};DE(t,e.style,e),a.style={...t,...a.style}}return a}function zE(e=!1){return(t,n,r,{latestValues:a},s)=>{const i=($T(t)?VE:$E)(n,a,s,t),o=function(e,t,n){const r={};for(const a in e)"values"===a&&"object"==typeof e.values||(mT(a)||!0===n&&fT(a)||!t&&!fT(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}(n,"string"==typeof t,e),l=t!==V.Fragment?{...o,...i,ref:r}:{},{children:u}=n,c=V.useMemo(()=>WT(u)?u.get():u,[u]);return V.createElement(t,{...l,children:c})}}function UE(e,t){return function(n,{forwardMotionProps:r}={forwardMotionProps:!1}){return LT({...$T(n)?OE:LE,preloadedFeatures:e,useRender:zE(r),createVisualElement:t,Component:n})}}function BE(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function WE(e,t,n){const r=e.getProps();return zT(r,t,void 0!==n?n:r.custom,e)}const HE=Q_(()=>void 0!==window.ScrollTimeline);class qE{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map(n=>HE()&&n.attachTimeline?n.attachTimeline(e):"function"==typeof t?t(n):void 0);return()=>{n.forEach((e,t)=>{e&&e(),this.animations[t].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class ZE extends qE{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function KE(e,t){return e?e[t]||e.default||e:void 0}const YE=2e4;function JE(e){let t=0;let n=e.next(t);for(;!n.done&&t<YE;)t+=50,n=e.next(t);return t>=YE?1/0:t}function GE(e){return"function"==typeof e}function XE(e,t){e.timeline=t,e.onfinish=null}const QE=e=>Array.isArray(e)&&"number"==typeof e[0],eC={linearEasing:void 0};function tC(e,t){const n=Q_(e);return()=>{var e;return null!==(e=eC[t])&&void 0!==e?e:n()}}const nC=tC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(GI){return!1}return!0},"linearEasing"),rC=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let s=0;s<a;s++)r+=e(eT(0,a-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function aC(e){return Boolean("function"==typeof e&&nC()||!e||"string"==typeof e&&(e in iC||nC())||QE(e)||Array.isArray(e)&&e.every(aC))}const sC=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,iC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sC([0,.65,.55,1]),circOut:sC([.55,0,1,.45]),backIn:sC([.31,.01,.66,-.59]),backOut:sC([.33,1.53,.69,.99])};function oC(e,t){return e?"function"==typeof e&&nC()?rC(e,t):QE(e)?sC(e):Array.isArray(e)?e.map(e=>oC(e,t)||iC.easeOut):iC[e]:void 0}const lC={x:!1,y:!1};function uC(){return lC.x||lC.y}function cC(e,t){const n=function(e){if(e instanceof Element)return[e];if("string"==typeof e){const t=document.querySelectorAll(e);return t?Array.from(t):[]}return Array.from(e)}(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function dC(e){return t=>{"touch"===t.pointerType||uC()||e(t)}}const pC=(e,t)=>!!t&&(e===t||pC(e,t.parentElement)),hC=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary,fC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const mC=new WeakSet;function gC(e){return t=>{"Enter"===t.key&&e(t)}}function yC(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function vC(e){return hC(e)&&!uC()}function bC(e,t,n={}){const[r,a,s]=cC(e,n),i=e=>{const r=e.currentTarget;if(!vC(e)||mC.has(r))return;mC.add(r);const s=t(e),i=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),vC(e)&&mC.has(r)&&(mC.delete(r),"function"==typeof s&&s(e,{success:t}))},o=e=>{i(e,n.useGlobalTarget||pC(r,e.target))},l=e=>{i(e,!1)};window.addEventListener("pointerup",o,a),window.addEventListener("pointercancel",l,a)};return r.forEach(e=>{(function(e){return fC.has(e.tagName)||-1!==e.tabIndex})(e)||null!==e.getAttribute("tabindex")||(e.tabIndex=0);(n.useGlobalTarget?window:e).addEventListener("pointerdown",i,a),e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=gC(()=>{if(mC.has(n))return;yC(n,"down");const e=gC(()=>{yC(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>yC(n,"cancel"),t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)})(e,a),a)}),s}const xC=new Set(["width","height","top","left","right","bottom",...KT]);let wC;function kC(){wC=void 0}const SC={now:()=>(void 0===wC&&SC.set(lT.isProcessing||rT?lT.timestamp:performance.now()),wC),set:e=>{wC=e,queueMicrotask(kC)}};function _C(e,t){-1===e.indexOf(t)&&e.push(t)}function TC(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class EC{constructor(){this.subscriptions=[]}add(e){return _C(this.subscriptions,e),()=>TC(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let a=0;a<r;a++){const r=this.subscriptions[a];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function CC(e,t){return t?e*(1e3/t):0}class PC{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(e,t=!0)=>{const n=SC.now();this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=SC.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new EC);const n=this.events[e].add(t);return"change"===e?()=>{n(),iT.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=SC.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return CC(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function NC(e,t){return new PC(e,t)}function jC(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,NC(n))}function AC(e,t){const n=e.getValue("willChange");if(r=n,Boolean(WT(r)&&r.add))return n.add(t);var r}function IC(e){return e.props[AT]}const RC=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function MC(e,t,n,r){if(e===t&&n===r)return G_;const a=t=>function(e,t,n,r,a){let s,i,o=0;do{i=t+(n-t)/2,s=RC(i,r,a)-e,s>0?n=i:t=i}while(Math.abs(s)>1e-7&&++o<12);return i}(t,0,1,e,n);return e=>0===e||1===e?e:RC(a(e),t,r)}const OC=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,LC=e=>t=>1-e(1-t),DC=MC(.33,1.53,.69,.99),FC=LC(DC),$C=OC(FC),VC=e=>(e*=2)<1?.5*FC(e):.5*(2-Math.pow(2,-10*(e-1))),zC=e=>1-Math.sin(Math.acos(e)),UC=LC(zC),BC=OC(zC),WC=e=>/^0[^.\s]+$/u.test(e);function HC(e){return"number"==typeof e?0===e:null===e||("none"===e||"0"===e||WC(e))}const qC=e=>Math.round(1e5*e)/1e5,ZC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const KC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,YC=(e,t)=>n=>Boolean("string"==typeof n&&KC.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),JC=(e,t,n)=>r=>{if("string"!=typeof r)return r;const[a,s,i,o]=r.match(ZC);return{[e]:parseFloat(a),[t]:parseFloat(s),[n]:parseFloat(i),alpha:void 0!==o?parseFloat(o):1}},GC={...rE,transform:e=>Math.round((e=>nE(0,255,e))(e))},XC={test:YC("rgb","red"),parse:JC("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+GC.transform(e)+", "+GC.transform(t)+", "+GC.transform(n)+", "+qC(aE.transform(r))+")"};const QC={test:YC("#"),parse:function(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}},transform:XC.transform},eP={test:YC("hsl","hue"),parse:JC("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+lE.transform(qC(t))+", "+lE.transform(qC(n))+", "+qC(aE.transform(r))+")"},tP={test:e=>XC.test(e)||QC.test(e)||eP.test(e),parse:e=>XC.test(e)?XC.parse(e):eP.test(e)?eP.parse(e):QC.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?XC.transform(e):eP.transform(e)},nP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const rP="number",aP="color",sP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function iP(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let s=0;const i=t.replace(sP,e=>(tP.test(e)?(r.color.push(s),a.push(aP),n.push(tP.parse(e))):e.startsWith("var(")?(r.var.push(s),a.push("var"),n.push(e)):(r.number.push(s),a.push(rP),n.push(parseFloat(e))),++s,"${}")).split("${}");return{values:n,split:i,indexes:r,types:a}}function oP(e){return iP(e).values}function lP(e){const{split:t,types:n}=iP(e),r=t.length;return e=>{let a="";for(let s=0;s<r;s++)if(a+=t[s],void 0!==e[s]){const t=n[s];a+=t===rP?qC(e[s]):t===aP?tP.transform(e[s]):e[s]}return a}}const uP=e=>"number"==typeof e?0:e;const cP={test:function(e){var t,n;return isNaN(e)&&"string"==typeof e&&((null===(t=e.match(ZC))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(nP))||void 0===n?void 0:n.length)||0)>0},parse:oP,createTransformer:lP,getAnimatableNone:function(e){const t=oP(e);return lP(e)(t.map(uP))}},dP=new Set(["brightness","contrast","saturate","opacity"]);function pP(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(ZC)||[];if(!r)return e;const a=n.replace(r,"");let s=dP.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+a+")"}const hP=/\b([a-z-]*)\(.*?\)/gu,fP={...cP,getAnimatableNone:e=>{const t=e.match(hP);return t?t.map(pP).join(" "):e}},mP={...gE,color:tP,backgroundColor:tP,outlineColor:tP,fill:tP,stroke:tP,borderColor:tP,borderTopColor:tP,borderRightColor:tP,borderBottomColor:tP,borderLeftColor:tP,filter:fP,WebkitFilter:fP},gP=e=>mP[e];function yP(e,t){let n=gP(e);return n!==fP&&(n=cP),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const vP=new Set(["auto","none","0"]);const bP=e=>e===rE||e===uE,xP=(e,t)=>parseFloat(e.split(", ")[t]),wP=(e,t)=>(n,{transform:r})=>{if("none"===r||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/u);if(a)return xP(a[1],t);{const t=r.match(/^matrix\((.+)\)$/u);return t?xP(t[1],e):0}},kP=new Set(["x","y","z"]),SP=KT.filter(e=>!kP.has(e));const _P={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:wP(4,13),y:wP(5,14)};_P.translateX=_P.x,_P.translateY=_P.y;const TP=new Set;let EP=!1,CP=!1;function PP(){if(CP){const e=Array.from(TP).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return SP.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(([t,n])=>{var r;null===(r=e.getValue(t))||void 0===r||r.set(n)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}CP=!1,EP=!1,TP.forEach(e=>e.complete()),TP.clear()}function NP(){TP.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(CP=!0)})}class jP{constructor(e,t,n,r,a,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=a,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(TP.add(this),EP||(EP=!0,iT.read(NP),iT.resolveKeyframes(PP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;for(let a=0;a<e.length;a++)if(null===e[a])if(0===a){const a=null==r?void 0:r.get(),s=e[e.length-1];if(void 0!==a)e[0]=a;else if(n&&t){const r=n.readValue(t,s);null!=r&&(e[0]=r)}void 0===e[0]&&(e[0]=s),r&&void 0===a&&r.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),TP.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,TP.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const AP=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),IP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function RP(e,t,n=1){const[r,a]=function(e){const t=IP.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${null!=n?n:r}`,a]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const e=s.trim();return AP(e)?parseFloat(e):e}return QT(a)?RP(a,t,n+1):a}const MP=e=>t=>t.test(e),OP=[rE,uE,lE,oE,dE,cE,{test:e=>"auto"===e,parse:e=>e}],LP=e=>OP.find(MP(e));class DP extends jP{constructor(e,t,n,r,a){super(e,t,n,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let n=e[o];if("string"==typeof n&&(n=n.trim(),QT(n))){const r=RP(n,t.current);void 0!==r&&(e[o]=r),o===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!xC.has(n)||2!==e.length)return;const[r,a]=e,s=LP(r),i=LP(a);if(s!==i)if(bP(s)&&bP(i))for(let o=0;o<e.length;o++){const t=e[o];"string"==typeof t&&(e[o]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)HC(e[r])&&n.push(r);n.length&&function(e,t,n){let r,a=0;for(;a<e.length&&!r;){const t=e[a];"string"==typeof t&&!vP.has(t)&&iP(t).values.length&&(r=e[a]),a++}if(r&&n)for(const s of t)e[s]=yP(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_P[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const s=r.length-1,i=r[s];r[s]=_P[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==i&&void 0===this.finalKeyframe&&(this.finalKeyframe=i),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach(([e,n])=>{t.getValue(e).set(n)}),this.resolveNoneKeyframes()}}const FP=(e,t)=>"zIndex"!==t&&(!("number"!=typeof e&&!Array.isArray(e))||!("string"!=typeof e||!cP.test(e)&&"0"!==e||e.startsWith("url(")));const $P=e=>null!==e;function VP(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter($P),s=t&&"loop"!==n&&t%2==1?0:a.length-1;return s&&void 0!==r?r:a[s]}class zP{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:s="loop",...i}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=SC.now(),this.options={autoplay:e,delay:t,type:n,repeat:r,repeatDelay:a,repeatType:s,...i},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(NP(),PP()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=SC.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:a,delay:s,onComplete:i,onUpdate:o,isGenerator:l}=this.options;if(!l&&!function(e,t,n,r){const a=e[0];if(null===a)return!1;if("display"===t||"visibility"===t)return!0;const s=e[e.length-1],i=FP(a,t),o=FP(s,t);return!(!i||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||GE(n))&&r)}(e,n,r,a)){if(!s)return o&&o(VP(e,this.options,t)),i&&i(),void this.resolveFinishedPromise();this.options.duration=0}const u=this.initPlayback(e,t);!1!==u&&(this._resolved={keyframes:e,finalKeyframe:t,...u},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const UP=(e,t,n)=>e+(t-e)*n;function BP(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function WP(e,t){return n=>n>0?t:e}const HP=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},qP=[QC,XC,eP];function ZP(e){const t=(n=e,qP.find(e=>e.test(n)));var n;if(!Boolean(t))return!1;let r=t.parse(e);return t===eP&&(r=function({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let a=0,s=0,i=0;if(t/=100){const r=n<.5?n*(1+t):n+t-n*t,o=2*n-r;a=BP(o,r,e+1/3),s=BP(o,r,e),i=BP(o,r,e-1/3)}else a=s=i=n;return{red:Math.round(255*a),green:Math.round(255*s),blue:Math.round(255*i),alpha:r}}(r)),r}const KP=(e,t)=>{const n=ZP(e),r=ZP(t);if(!n||!r)return WP(e,t);const a={...n};return e=>(a.red=HP(n.red,r.red,e),a.green=HP(n.green,r.green,e),a.blue=HP(n.blue,r.blue,e),a.alpha=UP(n.alpha,r.alpha,e),XC.transform(a))},YP=(e,t)=>n=>t(e(n)),JP=(...e)=>e.reduce(YP),GP=new Set(["none","hidden"]);function XP(e,t){return n=>UP(e,t,n)}function QP(e){return"number"==typeof e?XP:"string"==typeof e?QT(e)?WP:tP.test(e)?KP:nN:Array.isArray(e)?eN:"object"==typeof e?tP.test(e)?KP:tN:WP}function eN(e,t){const n=[...e],r=n.length,a=e.map((e,n)=>QP(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=a[t](e);return n}}function tN(e,t){const n={...e,...t},r={};for(const a in n)void 0!==e[a]&&void 0!==t[a]&&(r[a]=QP(e[a])(e[a],t[a]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const nN=(e,t)=>{const n=cP.createTransformer(t),r=iP(e),a=iP(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?GP.has(e)&&!a.values.length||GP.has(t)&&!r.values.length?function(e,t){return GP.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):JP(eN(function(e,t){var n;const r=[],a={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][a[i]],l=null!==(n=e.values[o])&&void 0!==n?n:0;r[s]=l,a[i]++}return r}(r,a),a.values),n):WP(e,t)};function rN(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return UP(e,t,n);return QP(e)(e,t)}function aN(e,t,n){const r=Math.max(t-5,0);return CC(n-e(r),t-r)}const sN=100,iN=10,oN=1,lN=0,uN=800,cN=.3,dN=.3,pN={granular:.01,default:2},hN={granular:.005,default:.5},fN=.01,mN=10,gN=.05,yN=1,vN=.001;function bN({duration:e=uN,bounce:t=cN,velocity:n=lN,mass:r=oN}){let a,s,i=1-t;i=nE(gN,yN,i),e=nE(fN,mN,nT(e)),i<1?(a=t=>{const r=t*i,a=r*e,s=r-n,o=wN(t,i),l=Math.exp(-a);return vN-s/o*l},s=t=>{const r=t*i*e,s=r*n+n,o=Math.pow(i,2)*Math.pow(t,2)*e,l=Math.exp(-r),u=wN(Math.pow(t,2),i);return(-a(t)+vN>0?-1:1)*((s-o)*l)/u}):(a=t=>Math.exp(-t*e)*((t-n)*e+1)-.001,s=t=>Math.exp(-t*e)*(e*e*(n-t)));const o=function(e,t,n){let r=n;for(let a=1;a<xN;a++)r-=e(r)/t(r);return r}(a,s,5/e);if(e=tT(e),isNaN(o))return{stiffness:sN,damping:iN,duration:e};{const t=Math.pow(o,2)*r;return{stiffness:t,damping:2*i*Math.sqrt(r*t),duration:e}}}const xN=12;function wN(e,t){return e*Math.sqrt(1-t*t)}const kN=["duration","bounce"],SN=["stiffness","damping","mass"];function _N(e,t){return t.some(t=>void 0!==e[t])}function TN(e=dN,t=cN){const n="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const s=n.keyframes[0],i=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:d,velocity:p,isResolvedFromDuration:h}=function(e){let t={velocity:lN,stiffness:sN,damping:iN,mass:oN,isResolvedFromDuration:!1,...e};if(!_N(e,SN)&&_N(e,kN))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),a=r*r,s=2*nE(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:oN,stiffness:a,damping:s}}else{const n=bN(e);t={...t,...n,mass:oN},t.isResolvedFromDuration=!0}return t}({...n,velocity:-nT(n.velocity||0)}),f=p||0,m=u/(2*Math.sqrt(l*c)),g=i-s,y=nT(Math.sqrt(l/c)),v=Math.abs(g)<5;let b;if(r||(r=v?pN.granular:pN.default),a||(a=v?hN.granular:hN.default),m<1){const e=wN(y,m);b=t=>{const n=Math.exp(-m*y*t);return i-n*((f+m*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>i-Math.exp(-y*e)*(g+(f+y*g)*e);else{const e=y*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*y*t),r=Math.min(e*t,300);return i-n*((f+m*y*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const x={calculatedDuration:h&&d||null,next:e=>{const t=b(e);if(h)o.done=e>=d;else{let n=0;m<1&&(n=0===e?tT(f):aN(b,e,t));const s=Math.abs(n)<=r,l=Math.abs(i-t)<=a;o.done=s&&l}return o.value=o.done?i:t,o},toString:()=>{const e=Math.min(JE(x),YE),t=rC(t=>x.next(e*t).value,e,30);return e+"ms "+t}};return x}function EN({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:s=500,modifyTarget:i,min:o,max:l,restDelta:u=.5,restSpeed:c}){const d=e[0],p={done:!1,value:d},h=e=>void 0===o?l:void 0===l||Math.abs(o-e)<Math.abs(l-e)?o:l;let f=n*t;const m=d+f,g=void 0===i?m:i(m);g!==m&&(f=g-d);const y=e=>-f*Math.exp(-e/r),v=e=>g+y(e),b=e=>{const t=y(e),n=v(e);p.done=Math.abs(t)<=u,p.value=p.done?g:n};let x,w;const k=e=>{var t;(t=p.value,void 0!==o&&t<o||void 0!==l&&t>l)&&(x=e,w=TN({keyframes:[p.value,h(p.value)],velocity:aN(v,e,p.value),damping:a,stiffness:s,restDelta:u,restSpeed:c}))};return k(0),{calculatedDuration:null,next:e=>{let t=!1;return w||void 0!==x||(t=!0,b(e),k(e)),void 0!==x&&e>=x?w.next(e-x):(!t&&b(e),p)}}}const CN=MC(.42,0,1,1),PN=MC(0,0,.58,1),NN=MC(.42,0,.58,1),jN={linear:G_,easeIn:CN,easeInOut:NN,easeOut:PN,circIn:zC,circInOut:BC,circOut:UC,backIn:FC,backInOut:$C,backOut:DC,anticipate:VC},AN=e=>{if(QE(e)){X_(4===e.length);const[t,n,r,a]=e;return MC(t,n,r,a)}return"string"==typeof e?jN[e]:e};function IN(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const s=e.length;if(X_(s===t.length),1===s)return()=>t[0];if(2===s&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const r=[],a=n||rN,s=e.length-1;for(let i=0;i<s;i++){let n=a(e[i],e[i+1]);if(t){const e=Array.isArray(t)?t[i]||G_:t;n=JP(e,n)}r.push(n)}return r}(t,r,a),l=o.length,u=n=>{if(i&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const a=eT(e[r],e[r+1],n);return o[r](a)};return n?t=>u(nE(e[0],e[s-1],t)):u}function RN(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=eT(0,t,r);e.push(UP(n,1,a))}}(t,e.length-1),t}function MN({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=(e=>Array.isArray(e)&&"number"!=typeof e[0])(r)?r.map(AN):AN(r),s={done:!1,value:t[0]},i=function(e,t){return e.map(e=>e*t)}(n&&n.length===t.length?n:RN(t),e),o=IN(i,t,{ease:Array.isArray(a)?a:(l=t,u=a,l.map(()=>u||NN).splice(0,l.length-1))});var l,u;return{calculatedDuration:e,next:t=>(s.value=o(t),s.done=t>=e,s)}}const ON=e=>{const t=({timestamp:t})=>e(t);return{start:()=>iT.update(t,!0),stop:()=>oT(t),now:()=>lT.isProcessing?lT.timestamp:SC.now()}},LN={decay:EN,inertia:EN,tween:MN,keyframes:MN,spring:TN},DN=e=>e/100;class FN extends zP{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:n,element:r,keyframes:a}=this.options,s=(null==r?void 0:r.KeyframeResolver)||jP;this.resolver=new s(a,(e,t)=>this.onKeyframesResolved(e,t),t,n,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:a,velocity:s=0}=this.options,i=GE(t)?t:LN[t]||MN;let o,l;i!==MN&&"number"!=typeof e[0]&&(o=JP(DN,rN(e[0],e[1])),e=[0,100]);const u=i({...this.options,keyframes:e});"mirror"===a&&(l=i({...this.options,keyframes:[...e].reverse(),velocity:-s})),null===u.calculatedDuration&&(u.calculatedDuration=JE(u));const{calculatedDuration:c}=u,d=c+r;return{generator:u,mirroredGenerator:l,mapPercentToKeyframes:o,calculatedDuration:c,resolvedDuration:d,totalDuration:d*(n+1)-r}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e,t=!1){const{resolved:n}=this;if(!n){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:r,generator:a,mirroredGenerator:s,mapPercentToKeyframes:i,keyframes:o,calculatedDuration:l,totalDuration:u,resolvedDuration:c}=n;if(null===this.startTime)return a.next(0);const{delay:d,repeat:p,repeatType:h,repeatDelay:f,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-d*(this.speed>=0?1:-1),y=this.speed>=0?g<0:g>u;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=u);let v=this.currentTime,b=a;if(p){const e=Math.min(this.currentTime,u)/c;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,p+1);Boolean(t%2)&&("reverse"===h?(n=1-n,f&&(n-=f/c)):"mirror"===h&&(b=s)),v=nE(0,1,n)*c}const x=y?{done:!1,value:o[0]}:b.next(v);i&&(x.value=i(x.value));let{done:w}=x;y||null===l||(w=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const k=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return k&&void 0!==r&&(x.value=VP(o,this.options,r)),m&&m(x.value),k&&this.finish(),x}get duration(){const{resolved:e}=this;return e?nT(e.calculatedDuration):0}get time(){return nT(this.currentTime)}set time(e){e=tT(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=nT(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=ON,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),t&&t();const r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=null!=n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const $N=new Set(["opacity","clipPath","filter","transform"]);function VN(e,t,n,{delay:r=0,duration:a=300,repeat:s=0,repeatType:i="loop",ease:o="easeInOut",times:l}={}){const u={[t]:n};l&&(u.offset=l);const c=oC(o,a);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:a,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:"reverse"===i?"alternate":"normal"})}const zN=Q_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));const UN={anticipate:VC,backInOut:$C,circInOut:BC};class BN extends zP{constructor(e){super(e);const{name:t,motionValue:n,element:r,keyframes:a}=this.options;this.resolver=new DP(a,(e,t)=>this.onKeyframesResolved(e,t),t,n,r),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:n=300,times:r,ease:a,type:s,motionValue:i,name:o,startTime:l}=this.options;if(!i.owner||!i.owner.current)return!1;var u;if("string"==typeof a&&nC()&&a in UN&&(a=UN[a]),GE((u=this.options).type)||"spring"===u.type||!aC(u.ease)){const{onComplete:t,onUpdate:i,motionValue:o,element:l,...u}=this.options,c=function(e,t){const n=new FN({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const a=[];let s=0;for(;!r.done&&s<2e4;)r=n.sample(s),a.push(r.value),s+=10;return{times:void 0,keyframes:a,duration:s-10,ease:"linear"}}(e,u);1===(e=c.keyframes).length&&(e[1]=e[0]),n=c.duration,r=c.times,a=c.ease,s="keyframes"}const c=VN(i.owner.current,o,e,{...this.options,duration:n,times:r,ease:a});return c.startTime=null!=l?l:this.calcStartTime(),this.pendingTimeline?(XE(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:n}=this.options;i.set(VP(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:n,times:r,type:s,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return nT(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return nT(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=tT(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return G_;const{animation:n}=t;XE(n,e)}else this.pendingTimeline=e;return G_}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:r,type:a,ease:s,times:i}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const{motionValue:e,onUpdate:t,onComplete:o,element:l,...u}=this.options,c=new FN({...u,keyframes:n,duration:r,type:a,ease:s,times:i,isGenerator:!0}),d=tT(this.time);e.setWithVelocity(c.sample(d-10).value,c.sample(d).value,10)}const{onStop:o}=this.options;o&&o(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:a,damping:s,type:i}=e;if(!(t&&t.owner&&t.owner.current instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return zN()&&n&&$N.has(n)&&!o&&!l&&!r&&"mirror"!==a&&0!==s&&"inertia"!==i}}const WN={type:"spring",stiffness:500,damping:25,restSpeed:10},HN={type:"keyframes",duration:.8},qN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ZN=(e,{keyframes:t})=>t.length>2?HN:YT.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:WN:qN;const KN=(e,t,n,r={},a,s)=>i=>{const o=KE(r,e)||{},l=o.delay||r.delay||0;let{elapsed:u=0}=r;u-=tT(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{i(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:s?void 0:a};(function({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:s,repeatType:i,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length})(o)||(c={...c,...ZN(e,c)}),c.duration&&(c.duration=tT(c.duration)),c.repeatDelay&&(c.repeatDelay=tT(c.repeatDelay)),void 0!==c.from&&(c.keyframes[0]=c.from);let d=!1;if((!1===c.type||0===c.duration&&!c.repeatDelay)&&(c.duration=0,0===c.delay&&(d=!0)),d&&!s&&void 0!==t.get()){const e=VP(c.keyframes,o);if(void 0!==e)return iT.update(()=>{c.onUpdate(e),c.onComplete()}),new ZE([])}return!s&&BN.supports(c)?new BN(c):new FN(c)};function YN({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,r}function JN(e,t,{delay:n=0,transitionOverride:r,type:a}={}){var s;let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(i=r);const u=[],c=a&&e.animationState&&e.animationState.getState()[a];for(const d in l){const t=e.getValue(d,null!==(s=e.latestValues[d])&&void 0!==s?s:null),r=l[d];if(void 0===r||c&&YN(c,d))continue;const a={delay:n,...KE(i||{},d)};let o=!1;if(window.MotionHandoffAnimation){const t=IC(e);if(t){const e=window.MotionHandoffAnimation(t,d,iT);null!==e&&(a.startTime=e,o=!0)}}AC(e,d),t.start(KN(d,t,r,e.shouldReduceMotion&&xC.has(d)?{type:!1}:a,e,o));const p=t.animation;p&&u.push(p)}return o&&Promise.all(u).then(()=>{iT.update(()=>{o&&function(e,t){const n=WE(e,t);let{transitionEnd:r={},transition:a={},...s}=n||{};s={...s,...r};for(const i in s)jC(e,i,BT(s[i]))}(e,o)})}),u}function GN(e,t,n={}){var r;const a=WE(e,t,"exit"===n.type?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(s=n.transitionOverride);const i=a?()=>Promise.all(JN(e,a,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(r=0)=>{const{delayChildren:a=0,staggerChildren:i,staggerDirection:o}=s;return function(e,t,n=0,r=0,a=1,s){const i=[],o=(e.variantChildren.size-1)*r,l=1===a?(e=0)=>e*r:(e=0)=>o-e*r;return Array.from(e.variantChildren).sort(XN).forEach((e,r)=>{e.notify("AnimationStart",t),i.push(GN(e,t,{...s,delay:n+l(r)}).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(i)}(e,t,a+r,i,o,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[e,t]="beforeChildren"===l?[i,o]:[o,i];return e().then(()=>t())}return Promise.all([i(),o(n.delay)])}function XN(e,t){return e.sortNodePosition(t)}const QN=kT.length;function ej(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&ej(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<QN;n++){const r=kT[n],a=e.props[r];(bT(a)||!1===a)&&(t[r]=a)}return t}const tj=[...wT].reverse(),nj=wT.length;function rj(e){return t=>Promise.all(t.map(({animation:t,options:n})=>function(e,t,n={}){let r;if(e.notify("AnimationStart",t),Array.isArray(t)){const a=t.map(t=>GN(e,t,n));r=Promise.all(a)}else if("string"==typeof t)r=GN(e,t,n);else{const a="function"==typeof t?WE(e,t,n.custom):t;r=Promise.all(JN(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}(e,t,n)))}function aj(e){let t=rj(e),n=oj(),r=!0;const a=t=>(n,r)=>{var a;const s=WE(e,r,"exit"===t?null===(a=e.presenceContext)||void 0===a?void 0:a.custom:void 0);if(s){const{transition:e,transitionEnd:t,...r}=s;n={...n,...r,...t}}return n};function s(s){const{props:i}=e,o=ej(e.parent)||{},l=[],u=new Set;let c={},d=1/0;for(let t=0;t<nj;t++){const p=tj[t],h=n[p],f=void 0!==i[p]?i[p]:o[p],m=bT(f),g=p===s?h.isActive:null;!1===g&&(d=t);let y=f===o[p]&&f!==i[p]&&m;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),h.protectedKeys={...c},!h.isActive&&null===g||!f&&!h.prevProp||xT(f)||"boolean"==typeof f)continue;const v=sj(h.prevProp,f);let b=v||p===s&&h.isActive&&!y&&m||t>d&&m,x=!1;const w=Array.isArray(f)?f:[f];let k=w.reduce(a(p),{});!1===g&&(k={});const{prevResolvedValues:S={}}=h,_={...S,...k},T=t=>{b=!0,u.has(t)&&(x=!0,u.delete(t)),h.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in _){const t=k[e],n=S[e];if(c.hasOwnProperty(e))continue;let r=!1;r=UT(t)&&UT(n)?!BE(t,n):t!==n,r?null!=t?T(e):u.add(e):void 0!==t&&u.has(e)?T(e):h.protectedKeys[e]=!0}h.prevProp=f,h.prevResolvedValues=k,h.isActive&&(c={...c,...k}),r&&e.blockInitialAnimation&&(b=!1);b&&(!(y&&v)||x)&&l.push(...w.map(e=>({animation:e,options:{type:p}})))}if(u.size){const t={};u.forEach(n=>{const r=e.getBaseTarget(n),a=e.getValue(n);a&&(a.liveStyle=!0),t[n]=null!=r?r:null}),l.push({animation:t})}let p=Boolean(l.length);return!r||!1!==i.initial&&i.initial!==i.animate||e.manuallyAnimateOnMount||(p=!1),r=!1,p?t(l):Promise.resolve()}return{animateChanges:s,setActive:function(t,r){var a;if(n[t].isActive===r)return Promise.resolve();null===(a=e.variantChildren)||void 0===a||a.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const i=s(t);for(const e in n)n[e].protectedKeys={};return i},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=oj(),r=!0}}}function sj(e,t){return"string"==typeof t?t!==e:!!Array.isArray(t)&&!BE(t,e)}function ij(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function oj(){return{animate:ij(!0),whileInView:ij(),whileHover:ij(),whileTap:ij(),whileDrag:ij(),whileFocus:ij(),exit:ij()}}class lj{constructor(e){this.isMounted=!1,this.node=e}update(){}}let uj=0;const cj={animation:{Feature:class extends lj{constructor(e){super(e),e.animationState||(e.animationState=aj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();xT(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends lj{constructor(){super(...arguments),this.id=uj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}};function dj(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function pj(e){return{point:{x:e.pageX,y:e.pageY}}}function hj(e,t,n,r){return dj(e,t,(e=>t=>hC(t)&&e(t,pj(t)))(n),r)}const fj=(e,t)=>Math.abs(e-t);class mj{constructor(e,t,{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=vj(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=fj(e.x,t.x),r=fj(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:a}=lT;this.history.push({...r,timestamp:a});const{onStart:s,onMove:i}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),i&&i(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=gj(t,this.transformPagePoint),iT.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:a}=this.handlers;if(this.dragSnapToOrigin&&a&&a(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=vj("pointercancel"===e.type?this.lastMoveEventInfo:gj(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),r&&r(e,s)},!hC(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const s=gj(pj(e),this.transformPagePoint),{point:i}=s,{timestamp:o}=lT;this.history=[{...i,timestamp:o}];const{onSessionStart:l}=t;l&&l(e,vj(s,this.history)),this.removeListeners=JP(hj(this.contextWindow,"pointermove",this.handlePointerMove),hj(this.contextWindow,"pointerup",this.handlePointerUp),hj(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),oT(this.updatePoint)}}function gj(e,t){return t?{point:t(e.point)}:e}function yj(e,t){return{x:e.x-t.x,y:e.y-t.y}}function vj({point:e},t){return{point:e,delta:yj(e,xj(t)),offset:yj(e,bj(t)),velocity:wj(t,.1)}}function bj(e){return e[0]}function xj(e){return e[e.length-1]}function wj(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=xj(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>tT(t)));)n--;if(!r)return{x:0,y:0};const s=nT(a.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const i={x:(a.x-r.x)/s,y:(a.y-r.y)/s};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function kj(e){return e.max-e.min}function Sj(e,t,n,r=.5){e.origin=r,e.originPoint=UP(t.min,t.max,e.origin),e.scale=kj(n)/kj(t),e.translate=UP(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function _j(e,t,n,r){Sj(e.x,t.x,n.x,r?r.originX:void 0),Sj(e.y,t.y,n.y,r?r.originY:void 0)}function Tj(e,t,n){e.min=n.min+t.min,e.max=e.min+kj(t)}function Ej(e,t,n){e.min=t.min-n.min,e.max=e.min+kj(t)}function Cj(e,t,n){Ej(e.x,t.x,n.x),Ej(e.y,t.y,n.y)}function Pj(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Nj(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const jj=.35;function Aj(e,t,n){return{min:Ij(e,t),max:Ij(e,n)}}function Ij(e,t){return"number"==typeof e?e:e[t]||0}const Rj=()=>({x:{min:0,max:0},y:{min:0,max:0}});function Mj(e){return[e("x"),e("y")]}function Oj({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Lj(e){return void 0===e||1===e}function Dj({scale:e,scaleX:t,scaleY:n}){return!Lj(e)||!Lj(t)||!Lj(n)}function Fj(e){return Dj(e)||$j(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function $j(e){return Vj(e.x)||Vj(e.y)}function Vj(e){return e&&"0%"!==e}function zj(e,t,n){return n+t*(e-n)}function Uj(e,t,n,r,a){return void 0!==a&&(e=zj(e,a,r)),zj(e,n,r)+t}function Bj(e,t=0,n=1,r,a){e.min=Uj(e.min,t,n,r,a),e.max=Uj(e.max,t,n,r,a)}function Wj(e,{x:t,y:n}){Bj(e.x,t.translate,t.scale,t.originPoint),Bj(e.y,n.translate,n.scale,n.originPoint)}const Hj=.999999999999,qj=1.0000000000001;function Zj(e,t){e.min=e.min+t,e.max=e.max+t}function Kj(e,t,n,r,a=.5){Bj(e,t,n,UP(e.min,e.max,a),r)}function Yj(e,t){Kj(e.x,t.x,t.scaleX,t.scale,t.originX),Kj(e.y,t.y,t.scaleY,t.scale,t.originY)}function Jj(e,t){return Oj(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const Gj=({current:e})=>e?e.ownerDocument.defaultView:null,Xj=new WeakMap;class Qj{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new mj(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(pj(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:a}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(s=n)||"y"===s?lC[s]?null:(lC[s]=!0,()=>{lC[s]=!1}):lC.x||lC.y?null:(lC.x=lC.y=!0,()=>{lC.x=lC.y=!1}),!this.openDragLock))return;var s;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mj(e=>{let t=this.getAxisMotionValue(e).get()||0;if(lE.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=kj(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),a&&iT.postRender(()=>a(e,t)),AC(this.visualElement,"transform");const{animationState:i}=this.visualElement;i&&i.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:a,onDrag:s}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:i}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(i),void(null!==this.currentDirection&&a&&a(this.currentDirection));this.updateAxis("x",t.point,i),this.updateAxis("y",t.point,i),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>Mj(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:Gj(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:a}=this.getProps();a&&iT.postRender(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!eA(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,{min:t,max:n},r){return void 0!==t&&e<t?e=r?UP(t,e,r.min):Math.max(e,t):void 0!==n&&e>n&&(e=r?UP(n,e,r.max):Math.min(e,n)),e}(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,a=this.constraints;t&&PT(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,{top:t,left:n,bottom:r,right:a}){return{x:Pj(e.x,n,a),y:Pj(e.y,t,r)}}(r.layoutBox,t),this.elastic=function(e=jj){return!1===e?e=0:!0===e&&(e=jj),{x:Aj(e,"left","right"),y:Aj(e,"top","bottom")}}(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Mj(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!PT(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=function(e,t,n){const r=Jj(e,n),{scroll:a}=t;return a&&(Zj(r.x,a.offset.x),Zj(r.y,a.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:Nj(e.x,t.x),y:Nj(e.y,t.y)}}(r.layout.layoutBox,a);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=Oj(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:i}=this.getProps(),o=this.constraints||{},l=Mj(i=>{if(!eA(i,t,this.currentDirection))return;let l=o&&o[i]||{};s&&(l={min:0,max:0});const u=r?200:1e6,c=r?40:1e7,d={type:"inertia",velocity:n?e[i]:0,bounceStiffness:u,bounceDamping:c,timeConstant:750,restDelta:1,restSpeed:10,...a,...l};return this.startAxisValueAnimation(i,d)});return Promise.all(l).then(i)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return AC(this.visualElement,e),n.start(KN(e,n,0,t,this.visualElement,!1))}stopAnimation(){Mj(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Mj(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Mj(t=>{const{drag:n}=this.getProps();if(!eA(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];a.set(e[t]-UP(n,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!PT(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Mj(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=kj(e),a=kj(t);return a>r?n=eT(t.min,t.max-r,e.min):r>a&&(n=eT(e.min,e.max-a,t.min)),nE(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Mj(t=>{if(!eA(t,e,null))return;const n=this.getAxisMotionValue(t),{min:a,max:s}=this.constraints[t];n.set(UP(a,s,r[t]))})}addListeners(){if(!this.visualElement.current)return;Xj.set(this.visualElement,this);const e=hj(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();PT(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),iT.read(t);const a=dj(window,"resize",()=>this.scalePositionWithinConstraints()),s=n.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(Mj(t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())});return()=>{a(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:s=jj,dragMomentum:i=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:a,dragElastic:s,dragMomentum:i}}}function eA(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}const tA=e=>(t,n)=>{e&&iT.postRender(()=>e(t,n))};const nA={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function rA(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const aA={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!uE.test(e))return e;e=parseFloat(e)}return`${rA(e,t.target.x)}% ${rA(e,t.target.y)}%`}},sA={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=cP.parse(e);if(a.length>5)return r;const s=cP.createTransformer(e),i="number"!=typeof a[0]?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;a[0+i]/=o,a[1+i]/=l;const u=UP(o,l,.5);return"number"==typeof a[2+i]&&(a[2+i]/=u),"number"==typeof a[3+i]&&(a[3+i]/=u),s(a)}};class iA extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:a}=e;var s;s=lA,Object.assign(jE,s),a&&(t.group&&t.group.add(a),n&&n.register&&r&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),nA.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:a}=this.props,s=n.projection;return s?(s.isPresent=a,r||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||iT.postRender(()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),IT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function oA(e){const[t,n]=H_(),r=V.useContext(D_);return J.jsx(iA,{...e,layoutGroup:r,switchLayoutGroup:V.useContext(RT),isPresent:t,safeToRemove:n})}const lA={borderRadius:{...aA,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:aA,borderTopRightRadius:aA,borderBottomLeftRadius:aA,borderBottomRightRadius:aA,boxShadow:sA};const uA=(e,t)=>e.depth-t.depth;class cA{constructor(){this.children=[],this.isDirty=!1}add(e){_C(this.children,e),this.isDirty=!0}remove(e){TC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(uA),this.isDirty=!1,this.children.forEach(e)}}const dA=["TopLeft","TopRight","BottomLeft","BottomRight"],pA=dA.length,hA=e=>"string"==typeof e?parseFloat(e):e,fA=e=>"number"==typeof e||uE.test(e);function mA(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const gA=vA(0,.5,UC),yA=vA(.5,.95,G_);function vA(e,t,n){return r=>r<e?0:r>t?1:n(eT(e,t,r))}function bA(e,t){e.min=t.min,e.max=t.max}function xA(e,t){bA(e.x,t.x),bA(e.y,t.y)}function wA(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function kA(e,t,n,r,a){return e=zj(e-=t,1/n,r),void 0!==a&&(e=zj(e,1/a,r)),e}function SA(e,t,[n,r,a],s,i){!function(e,t=0,n=1,r=.5,a,s=e,i=e){lE.test(t)&&(t=parseFloat(t),t=UP(i.min,i.max,t/100)-i.min);if("number"!=typeof t)return;let o=UP(s.min,s.max,r);e===s&&(o-=t),e.min=kA(e.min,t,n,o,a),e.max=kA(e.max,t,n,o,a)}(e,t[n],t[r],t[a],t.scale,s,i)}const _A=["x","scaleX","originX"],TA=["y","scaleY","originY"];function EA(e,t,n,r){SA(e.x,t,_A,n?n.x:void 0,r?r.x:void 0),SA(e.y,t,TA,n?n.y:void 0,r?r.y:void 0)}function CA(e){return 0===e.translate&&1===e.scale}function PA(e){return CA(e.x)&&CA(e.y)}function NA(e,t){return e.min===t.min&&e.max===t.max}function jA(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function AA(e,t){return jA(e.x,t.x)&&jA(e.y,t.y)}function IA(e){return kj(e.x)/kj(e.y)}function RA(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class MA{constructor(){this.members=[]}add(e){_C(this.members,e),e.scheduleRender()}remove(e){if(TC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const OA={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},LA="undefined"!=typeof window&&void 0!==window.MotionDebug,DA=["","X","Y","Z"],FA={visibility:"hidden"};let $A=0;function VA(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function zA(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=IC(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",iT,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&zA(r)}function UA({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(e={},n=(null==t?void 0:t())){this.id=$A++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,LA&&(OA.totalNodes=OA.resolvedTargetDeltas=OA.recalculatedProjection=0),this.nodes.forEach(HA),this.nodes.forEach(XA),this.nodes.forEach(QA),this.nodes.forEach(qA),LA&&window.MotionDebug.record(OA)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new cA)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new EC),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t,n=this.root.hasTreeAnimated){if(this.instance)return;var r;this.isSVG=(r=t)instanceof SVGElement&&"svg"!==r.tagName,this.instance=t;const{layoutId:a,layout:s,visualElement:i}=this.options;if(i&&!i.current&&i.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||a)&&(this.isLayoutDirty=!0),e){let n;const r=()=>this.root.updateBlockedByResize=!1;e(t,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=SC.now(),r=({timestamp:a})=>{const s=a-n;s>=t&&(oT(r),e(s-t))};return iT.read(r,!0),()=>oT(r)}(r,250),nA.hasAnimatedSinceResize&&(nA.hasAnimatedSinceResize=!1,this.nodes.forEach(GA))})}a&&this.root.registerSharedNode(a,this),!1!==this.options.animate&&i&&(a||s)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeTargetChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const a=this.options.transition||i.getDefaultTransition()||sI,{onLayoutAnimationStart:s,onLayoutAnimationComplete:o}=i.getProps(),l=!this.targetLayout||!AA(this.targetLayout,r)||n,u=!t&&n;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,u);const t={...KE(a,"layout"),onPlay:s,onComplete:o};(i.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||GA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,oT(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eI),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let a=0;a<this.path.length;a++){const e=this.path[a];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(KA);this.isUpdating||this.nodes.forEach(YA),this.isUpdating=!1,this.nodes.forEach(JA),this.nodes.forEach(BA),this.nodes.forEach(WA),this.clearAllSnapshots();const e=SC.now();lT.delta=nE(0,1e3/60,e-lT.timestamp),lT.timestamp=e,lT.isProcessing=!0,uT.update.process(lT),uT.preRender.process(lT),uT.render.process(lT),lT.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,IT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ZA),this.sharedNodes.forEach(tI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,iT.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){iT.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!a)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!PA(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,s=r!==this.prevTransformTemplateValue;e&&(t||Fj(this.latestValues)||s)&&(a(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),lI((r=n).x),lI(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(cI))){const{scroll:e}=this.root;e&&(Zj(n.x,e.offset.x),Zj(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(xA(n,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:a,options:s}=t;t!==this.root&&a&&s.layoutScroll&&(a.wasRoot&&xA(n,e),Zj(n.x,a.offset.x),Zj(n.y,a.offset.y))}return n}applyTransform(e,t=!1){const n={x:{min:0,max:0},y:{min:0,max:0}};xA(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Yj(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Fj(e.latestValues)&&Yj(n,e.latestValues)}return Fj(this.latestValues)&&Yj(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};xA(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Fj(e.latestValues))continue;Dj(e.latestValues)&&e.updateSnapshot();const r=Rj();xA(r,e.measurePageBox()),EA(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return Fj(this.latestValues)&&EA(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==lT.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:a,layoutId:s}=this.options;if(this.layout&&(a||s)){if(this.resolvedRelativeTargetAt=lT.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Cj(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),xA(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var i,o,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),i=this.target,o=this.relativeTarget,l=this.relativeParent.target,Tj(i.x,o.x,l.x),Tj(i.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):xA(this.target,this.layout.layoutBox),Wj(this.target,this.targetDelta)):xA(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Cj(this.relativeTargetOrigin,this.target,e.target),xA(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}LA&&OA.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Dj(this.parent.latestValues)&&!$j(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===lT.timestamp&&(r=!1),r)return;const{layout:a,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!a&&!s)return;xA(this.layoutCorrected,this.layout.layoutBox);const i=this.treeScale.x,o=this.treeScale.y;!function(e,t,n,r=!1){const a=n.length;if(!a)return;let s,i;t.x=t.y=1;for(let o=0;o<a;o++){s=n[o],i=s.projectionDelta;const{visualElement:a}=s.options;a&&a.props.style&&"contents"===a.props.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Yj(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,Wj(e,i)),r&&Fj(s.latestValues)&&Yj(e,s.latestValues))}t.x<qj&&t.x>Hj&&(t.x=1),t.y<qj&&t.y>Hj&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(wA(this.prevProjectionDelta.x,this.projectionDelta.x),wA(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),_j(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===i&&this.treeScale.y===o&&RA(this.projectionDelta.x,this.prevProjectionDelta.x)&&RA(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),LA&&OA.recalculatedProjection++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e,t=!1){const n=this.snapshot,r=n?n.latestValues:{},a={...this.latestValues},s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const i={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),u=!l||l.members.length<=1,c=Boolean(o&&!u&&!0===this.options.crossfade&&!this.path.some(aI));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,p,h,f;nI(s.x,e.x,n),nI(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Cj(i,this.layout.layoutBox,this.relativeParent.layout.layoutBox),l=this.relativeTarget,p=this.relativeTargetOrigin,h=i,f=n,rI(l.x,p.x,h.x,f),rI(l.y,p.y,h.y,f),d&&function(e,t){return NA(e.x,t.x)&&NA(e.y,t.y)}(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),xA(d,this.relativeTarget)),o&&(this.animationValues=a,function(e,t,n,r,a,s){a?(e.opacity=UP(0,void 0!==n.opacity?n.opacity:1,gA(r)),e.opacityExit=UP(void 0!==t.opacity?t.opacity:1,0,yA(r))):s&&(e.opacity=UP(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let i=0;i<pA;i++){const a=`border${dA[i]}Radius`;let s=mA(t,a),o=mA(n,a);void 0===s&&void 0===o||(s||(s=0),o||(o=0),0===s||0===o||fA(s)===fA(o)?(e[a]=Math.max(UP(hA(s),hA(o),r),0),(lE.test(o)||lE.test(s))&&(e[a]+="%")):e[a]=o)}(t.rotate||n.rotate)&&(e.rotate=UP(t.rotate||0,n.rotate||0,r))}(a,r,this.latestValues,n,c,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(oT(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=iT.update(()=>{nA.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=WT(e)?e:NC(e);return r.start(KN("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:a}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&uI(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=kj(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=kj(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}xA(t,n),Yj(t,a),_j(this.projectionDeltaWithTransform,this.layoutCorrected,t,a)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new MA);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&VA("z",e,r,this.animationValues);for(let a=0;a<DA.length;a++)VA(`rotate${DA[a]}`,e,r,this.animationValues),VA(`skew${DA[a]}`,e,r,this.animationValues);e.render();for(const a in r)e.setStaticValue(a,r[a]),this.animationValues&&(this.animationValues[a]=r[a]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return FA;const r={visibility:""},a=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=HT(null==e?void 0:e.pointerEvents)||"",r.transform=a?a(this.latestValues,""):"none",r;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=HT(null==e?void 0:e.pointerEvents)||""),this.hasProjected&&!Fj(this.latestValues)&&(t.transform=a?a({},""):"none",this.hasProjected=!1),t}const i=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=function(e,t,n){let r="";const a=e.x.translate/t.x,s=e.y.translate/t.y,i=(null==n?void 0:n.z)||0;if((a||s||i)&&(r=`translate3d(${a}px, ${s}px, ${i}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:a,rotateY:s,skewX:i,skewY:o}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),a&&(r+=`rotateX(${a}deg) `),s&&(r+=`rotateY(${s}deg) `),i&&(r+=`skewX(${i}deg) `),o&&(r+=`skewY(${o}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(r+=`scale(${o}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,i),a&&(r.transform=a(i,r.transform));const{x:o,y:l}=this.projectionDelta;r.transformOrigin=`${100*o.origin}% ${100*l.origin}% 0`,s.animationValues?r.opacity=s===this?null!==(n=null!==(t=i.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:r.opacity=s===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0;for(const u in jE){if(void 0===i[u])continue;const{correct:e,applyTo:t}=jE[u],n="none"===r.transform?i[u]:e(i[u],s);if(t){const e=t.length;for(let a=0;a<e;a++)r[t[a]]=n}else r[u]=n}return this.options.layoutId&&(r.pointerEvents=s===this?HT(null==e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(KA),this.root.sharedNodes.clear()}}}function BA(e){e.updateLayout()}function WA(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:a}=e.options,s=n.source!==e.layout.source;"size"===a?Mj(e=>{const r=s?n.measuredBox[e]:n.layoutBox[e],a=kj(r);r.min=t[e].min,r.max=r.min+a}):uI(a,n.layoutBox,t)&&Mj(r=>{const a=s?n.measuredBox[r]:n.layoutBox[r],i=kj(t[r]);a.max=a.min+i,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+i)});const i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};_j(i,t,n.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?_j(o,e.applyTransform(r,!0),n.measuredBox):_j(o,t,n.layoutBox);const l=!PA(i);let u=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:a,layout:s}=r;if(a&&s){const i={x:{min:0,max:0},y:{min:0,max:0}};Cj(i,n.layoutBox,a.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};Cj(o,t,s.layoutBox),AA(i,o)||(u=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=i,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:i,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function HA(e){LA&&OA.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function qA(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ZA(e){e.clearSnapshot()}function KA(e){e.clearMeasurements()}function YA(e){e.isLayoutDirty=!1}function JA(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function GA(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function XA(e){e.resolveTargetDelta()}function QA(e){e.calcProjection()}function eI(e){e.resetSkewAndRotation()}function tI(e){e.removeLeadSnapshot()}function nI(e,t,n){e.translate=UP(t.translate,0,n),e.scale=UP(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function rI(e,t,n,r){e.min=UP(t.min,n.min,r),e.max=UP(t.max,n.max,r)}function aI(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const sI={duration:.45,ease:[.4,0,.1,1]},iI=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),oI=iI("applewebkit/")&&!iI("chrome/")?Math.round:G_;function lI(e){e.min=oI(e.min),e.max=oI(e.max)}function uI(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=IA(t),a=IA(n),s=.2,!(Math.abs(r-a)<=s));var r,a,s}function cI(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const dI=UA({attachResizeListener:(e,t)=>dj(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pI={current:void 0},hI=UA({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!pI.current){const e=new dI({});e.mount(window),e.setOptions({layoutScroll:!0}),pI.current=e}return pI.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),fI={pan:{Feature:class extends lj{constructor(){super(...arguments),this.removePointerDownListener=G_}onPointerDown(e){this.session=new mj(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Gj(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:tA(e),onStart:tA(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&iT.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=hj(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends lj{constructor(e){super(e),this.removeGroupControls=G_,this.removeListeners=G_,this.controls=new Qj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||G_}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:hI,MeasureLayout:oA}};function mI(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const a=r["onHover"+n];a&&iT.postRender(()=>a(t,pj(t)))}function gI(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const a=r["onTap"+("End"===n?"":n)];a&&iT.postRender(()=>a(t,pj(t)))}const yI=new WeakMap,vI=new WeakMap,bI=e=>{const t=yI.get(e.target);t&&t(e)},xI=e=>{e.forEach(bI)};function wI(e,t,n){const r=function({root:e,...t}){const n=e||document;vI.has(n)||vI.set(n,{});const r=vI.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(xI,{root:e,...t})),r[a]}(t);return yI.set(e,n),r.observe(e),()=>{yI.delete(e),r.unobserve(e)}}const kI={some:0,all:1};const SI={inView:{Feature:class extends lj{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:a}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"==typeof r?r:kI[r]};return wI(this.node.current,s,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,a&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends lj{mount(){const{current:e}=this.node;e&&(this.unmount=bC(e,e=>(gI(this.node,e,"Start"),(e,{success:t})=>gI(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends lj{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(GI){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=JP(dj(this.node.current,"focus",()=>this.onFocus()),dj(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends lj{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t,n={}){const[r,a,s]=cC(e,n),i=dC(e=>{const{target:n}=e,r=t(e);if("function"!=typeof r||!n)return;const s=dC(e=>{r(e),n.removeEventListener("pointerleave",s)});n.addEventListener("pointerleave",s,a)});return r.forEach(e=>{e.addEventListener("pointerenter",i,a)}),s}(e,e=>(mI(this.node,e,"Start"),e=>mI(this.node,e,"End"))))}unmount(){}}}},_I={layout:{ProjectionNode:hI,MeasureLayout:oA}},TI={current:null},EI={current:!1};const CI=[...OP,tP,cP],PI=new WeakMap;const NI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class jI{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:a,visualState:s},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jP,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=SC.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,iT.render(this.render,!1,!0))};const{latestValues:o,renderState:l,onUpdate:u}=s;this.onUpdate=u,this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=i,this.blockInitialAnimation=Boolean(a),this.isControllingVariants=ST(t),this.isVariantNode=_T(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(const p in d){const e=d[p];void 0!==o[p]&&WT(e)&&e.set(o[p],!1)}}mount(e){this.current=e,PI.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),EI.current||function(){if(EI.current=!0,K_)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>TI.current=e.matches;e.addListener(t),t()}else TI.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||TI.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){PI.delete(this.current),this.projection&&this.projection.unmount(),oT(this.notifyUpdate),oT(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=YT.has(e),r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&iT.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),a(),s&&s(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in pT){const t=pT[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<NI.length;n++){const t=NI[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const a=t[r],s=n[r];if(WT(a))e.addValue(r,a);else if(WT(s))e.addValue(r,NC(a,{owner:e}));else if(s!==a)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(a):t.hasAnimated||t.set(a)}else{const t=e.getStaticValue(r);e.addValue(r,NC(void 0!==t?t:a,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=NC(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var a;return null!=r&&("string"==typeof r&&(AP(r)||WC(r))?r=parseFloat(r):(a=r,!CI.find(MP(a))&&cP.test(t)&&(r=yP(e,t))),this.setBaseTarget(e,WT(r)?r.get():r)),WT(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let r;if("string"==typeof n||"object"==typeof n){const a=zT(this.props,n,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);a&&(r=a[e])}if(n&&void 0!==r)return r;const a=this.getBaseTargetFromProps(this.props,e);return void 0===a||WT(a)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:a}on(e,t){return this.events[e]||(this.events[e]=new EC),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class AI extends jI{constructor(){super(...arguments),this.KeyframeResolver=DP}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;WT(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class II extends AI{constructor(){super(...arguments),this.type="html",this.renderInstance=CE}readValueFromInstance(e,t){if(YT.has(t)){const e=gP(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),a=(GT(t)?r.getPropertyValue(t):r[t])||0;return"string"==typeof a?a.trim():a}var n}measureInstanceViewportBox(e,{transformPagePoint:t}){return Jj(e,t)}build(e,t,n){bE(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return IE(e,t,n)}}class RI extends AI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Rj}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(YT.has(t)){const e=gP(t);return e&&e.default||0}return t=PE.has(t)?t:jT(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return RE(e,t,n)}build(e,t,n){SE(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,r){NE(e,t,0,r)}mount(e){this.isSVGTag=EE(e.tagName),super.mount(e)}}const MI=yT(UE({...cj,...SI,...fI,..._I},(e,t)=>$T(e)?new RI(t):new II(t,{allowProjection:e!==V.Fragment}))),OI=e=>{const t=Math.floor(e/60),n=e%60;return`${String(t).padStart(2,"0")}:${String(n).padStart(2,"0")}`},LI=({template:e,onStart:t})=>{const{t:n}=St();return J.jsxs(MI.article,{layout:!0,className:"flex flex-col gap-4 rounded-3xl border border-ink-700 bg-ink-800/60 p-5 shadow-subtle",whileHover:{translateY:-4},transition:{type:"spring",stiffness:260,damping:22},children:[J.jsxs("div",{className:"flex items-start justify-between",children:[J.jsxs("div",{children:[J.jsx("p",{className:"text-[0.7rem] uppercase tracking-wide text-ink-400",children:n(`sessions.focus.${e.focus}`)}),J.jsx("h3",{className:"font-display text-xl text-ink-50",children:n(`sessions.templates.${e.id}.title`,{defaultValue:e.title})}),J.jsx("p",{className:"mt-1 text-sm text-ink-300",children:n(`sessions.templates.${e.id}.goal`,{defaultValue:e.goal})})]}),J.jsx("button",{onClick:t,className:"rounded-full bg-primary-500 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-ink-900 transition hover:bg-primary-400",children:n("session.startStack")})]}),J.jsx("div",{className:"grid gap-3 text-sm text-ink-200 sm:grid-cols-3",children:e.phases.map(t=>J.jsxs("div",{className:"rounded-2xl border border-ink-700/60 bg-ink-900/60 p-4",children:[J.jsx("p",{className:"font-semibold text-primary-100",children:n(`sessions.templates.${e.id}.phases.${t.id}.title`,{defaultValue:t.title})}),J.jsx("p",{className:"mt-1 text-xs text-ink-400",children:n(`sessions.templates.${e.id}.phases.${t.id}.description`,{defaultValue:t.description})}),J.jsx("p",{className:"mt-2 text-xs uppercase text-ink-400",children:n("session.minutes",{minutes:t.minutes})})]},t.id))})]})},DI=({template:e})=>{const t=C_(e=>e.activeSession),n=C_(e=>e.advanceSession),r=C_(e=>e.pauseSession),a=C_(e=>e.resumeSession),s=C_(e=>e.tickSession),i=C_(e=>e.finishSession),o=C_(e=>e.abandonSession),{t:l}=St(),u=V.useMemo(()=>e.phases.reduce((e,t)=>e+60*t.minutes,0),[e.phases]),c=e.phases.findIndex(e=>e.id===t?.currentPhaseId),d=t?.elapsedSeconds??0,p=Math.min(d/u,1),h=V.useMemo(()=>{let t=0;return e.phases.map(e=>{const n=t;return t+=60*e.minutes,{phase:e,start:n,end:t}})},[e.phases]),f=h[c]??h[0],m=f?Math.min((d-f.start)/(60*f.phase.minutes),1):0,g=V.useCallback(()=>s(1),[s]);return((e,t,n,r=1e3)=>{V.useEffect(()=>{if(!e||t)return;const a=window.setInterval(n,r);return()=>window.clearInterval(a)},[e,t,r,n])})(Boolean(t),Boolean(t?.isPaused),g,1e3),V.useEffect(()=>{if(!t)return;if(d>=u)return void i();const e=h[c];e&&d>=e.end&&n()},[d,u,t,h,c,n,i]),J.jsxs("section",{className:"relative overflow-hidden rounded-3xl border border-primary-500/30 bg-ink-900/70 p-6 shadow-card",children:[J.jsx("div",{className:"absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-primary-400 via-primary-500 to-primary-300",style:{width:100*p+"%"}}),J.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[J.jsxs("div",{children:[J.jsx("p",{className:"text-[0.7rem] uppercase tracking-wide text-primary-200",children:l("session.activeStack")}),J.jsx("h2",{className:"font-display text-2xl text-ink-50",children:l(`sessions.templates.${e.id}.title`,{defaultValue:e.title})}),J.jsx("p",{className:"text-sm text-ink-300",children:l(`sessions.templates.${e.id}.goal`,{defaultValue:e.goal})})]}),J.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[J.jsx("button",{onClick:()=>t?.isPaused?a():r(),className:"rounded-full border border-primary-400/40 bg-primary-500/15 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-primary-100 hover:bg-primary-500/30",children:l(t?.isPaused?"session.resume":"session.pause")}),J.jsx("button",{onClick:()=>i(l("session.manualReflection")),className:"rounded-full border border-rose-500/50 bg-rose-500/10 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-rose-200 hover:bg-rose-500/20",children:l("session.finish")}),J.jsx("button",{onClick:o,className:"rounded-full border border-ink-700 px-4 py-2 text-xs uppercase tracking-wide text-ink-400 hover:text-ink-200",children:l("session.cancel")})]})]}),J.jsxs("div",{className:"mt-6 grid gap-4 sm:grid-cols-3",children:[J.jsxs("div",{className:"rounded-2xl border border-ink-700/60 bg-ink-800/60 p-4",children:[J.jsx("p",{className:"text-[0.7rem] uppercase tracking-wide text-ink-400",children:l("session.totalTime")}),J.jsx("p",{className:"font-display text-3xl text-primary-200",children:OI(u)})]}),J.jsxs("div",{className:"rounded-2xl border border-ink-700/60 bg-ink-800/60 p-4",children:[J.jsx("p",{className:"text-[0.7rem] uppercase tracking-wide text-ink-400",children:l("session.elapsed")}),J.jsx("p",{className:"font-display text-3xl text-primary-200",children:OI(d)})]}),J.jsxs("div",{className:"rounded-2xl border border-ink-700/60 bg-ink-800/60 p-4",children:[J.jsx("p",{className:"text-[0.7rem] uppercase tracking-wide text-ink-400",children:l("session.phaseLabel")}),J.jsx("p",{className:"font-display text-xl text-primary-200",children:f?l(`sessions.templates.${e.id}.phases.${f.phase.id}.title`,{defaultValue:f.phase.title}):"--"}),J.jsx("div",{className:"mt-2 h-1.5 w-full overflow-hidden rounded-full bg-ink-700",children:J.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-primary-400 via-primary-500 to-primary-300",style:{width:`${Math.max(0,Math.min(100*m,100))}%`}})})]})]}),J.jsx("div",{className:"mt-6 grid gap-3 sm:grid-cols-3",children:h.map(({phase:t,start:n},r)=>{const a=Math.min(Math.max(d-n,0),60*t.minutes),s=Math.min(a/(60*t.minutes),1);return J.jsxs("div",{className:"rounded-2xl border p-4 "+(r===c?"border-primary-400/70 bg-primary-500/5":"border-ink-700/60 bg-ink-800/60"),children:[J.jsx("p",{className:"text-xs uppercase tracking-wide text-ink-400",children:l("session.phaseCount",{index:r+1})}),J.jsx("p",{className:"font-semibold text-primary-100",children:l(`sessions.templates.${e.id}.phases.${t.id}.title`,{defaultValue:t.title})}),J.jsx("p",{className:"mt-1 text-xs text-ink-400",children:l(`sessions.templates.${e.id}.phases.${t.id}.description`,{defaultValue:t.description})}),J.jsx("div",{className:"mt-3 h-1.5 w-full overflow-hidden rounded-full bg-ink-700",children:J.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-primary-400 via-primary-500 to-primary-300",style:{width:100*s+"%"}})})]},t.id)})})]})},FI=()=>{const e=C_(e=>e.sessions),t=C_(e=>e.activeSession),n=C_(e=>e.startSession),{t:r}=St(),a=e.find(e=>e.id===t?.templateId);return J.jsx("section",{className:"space-y-6",children:J.jsx(J_,{initial:!1,children:a&&t?J.jsx(MI.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{duration:.3},children:J.jsx(DI,{template:a})},"active-session"):J.jsxs(MI.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{duration:.3},className:"space-y-4",children:[J.jsx("h2",{className:"font-display text-2xl text-ink-50",children:r("session.chooseTitle")}),J.jsx("p",{className:"text-sm text-ink-400",children:r("session.chooseDescription")}),J.jsx("div",{className:"grid gap-5",children:e.map(e=>J.jsx(LI,{template:e,onStart:()=>n(e.id)},e.id))})]},"template-list")})})},$I=()=>J.jsx("div",{className:"space-y-6",children:J.jsx(FI,{})}),VI={celebrate:"from-primary-400/80 via-primary-500/40 to-emerald-500/10",coach:"from-blue-400/60 via-sky-500/30 to-blue-500/10",warn:"from-amber-400/60 via-orange-500/30 to-rose-500/20"},zI=({insight:e})=>J.jsxs("article",{className:"relative overflow-hidden rounded-3xl border border-ink-700 bg-ink-800/70 p-5",children:[J.jsx("div",{className:`pointer-events-none absolute inset-0 -z-10 bg-gradient-to-br ${VI[e.tone]} opacity-80`}),J.jsx("h3",{className:"font-display text-lg text-ink-50",children:e.title}),J.jsx("p",{className:"mt-2 text-sm text-ink-200",children:e.summary}),J.jsx("ul",{className:"mt-4 space-y-2 text-sm text-primary-100",children:e.actions.map(e=>J.jsxs("li",{className:"flex items-start gap-2",children:[J.jsx("span",{className:"mt-[2px] text-base text-primary-200",children:"•"}),J.jsx("span",{children:e})]},e))})]}),UI=()=>{const e=C_(e=>e.insights),t=C_(e=>e.generateAIInsights),n=C_(e=>e.insightsLoading),r=C_(e=>e.insightsError),a=C_(e=>e.insightsUpdatedAt),{t:s,i18n:i}=St(),o=a?new Intl.DateTimeFormat(i.language,{hour:"2-digit",minute:"2-digit"}).format(new Date(a)):null;return J.jsxs("section",{className:"rounded-3xl border border-ink-700 bg-ink-800/60 p-5",children:[J.jsxs("header",{className:"flex flex-col gap-3 text-sm text-ink-300 sm:flex-row sm:items-center sm:justify-between",children:[J.jsxs("div",{children:[J.jsx("h2",{className:"font-display text-lg text-ink-50",children:s("insightsFeed.title")}),J.jsx("p",{className:"text-xs text-ink-400",children:s("insightsFeed.subtitle")})]}),J.jsxs("div",{className:"flex flex-col items-start gap-1 sm:items-end",children:[o&&J.jsx("span",{className:"text-[11px] uppercase tracking-wide text-ink-500",children:s("insightsFeed.lastUpdated",{time:o})}),J.jsx("button",{type:"button",onClick:()=>{t()},disabled:n,className:"rounded-full border border-primary-500/40 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-primary-100 transition "+(n?"cursor-not-allowed bg-primary-500/10 opacity-70":"bg-primary-500/15 hover:bg-primary-500/30"),children:s(n?"insightsFeed.loading":"insightsFeed.refresh")})]})]}),r&&J.jsx("p",{className:"mt-3 rounded-lg border border-rose-500/40 bg-rose-500/10 px-4 py-3 text-sm text-rose-200",children:r}),J.jsxs("div",{className:"mt-4 grid gap-4",children:[n&&0===e.length&&J.jsx("p",{className:"text-sm text-ink-400",children:s("insightsFeed.loading")}),!n&&0===e.length&&!r&&J.jsx("p",{className:"text-sm text-ink-400",children:s("insightsFeed.empty")}),e.map(e=>J.jsx(zI,{insight:e},e.id))]})]})},BI=()=>{const e=C_(e=>e.history),{t:t,i18n:n}=St(),r=n.language.startsWith("zh")?mm:Tf;return 0===e.length?J.jsx("div",{className:"rounded-3xl border border-ink-700 bg-ink-800/60 p-5 text-sm text-ink-400",children:t("history.empty")}):J.jsx("div",{className:"space-y-3",children:e.map(e=>J.jsxs("div",{className:"rounded-3xl border border-ink-700 bg-ink-900/60 p-5 text-sm text-ink-200 shadow-subtle",children:[J.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[J.jsxs("div",{children:[J.jsx("p",{className:"text-[0.7rem] uppercase tracking-wide text-primary-200",children:Qf(nm(e.date),"EEEE · MMM d",{locale:r})}),J.jsx("p",{className:"font-semibold text-ink-50",children:t("history.summary",{count:e.completedHabitIds.length,readiness:e.readiness??"—"})})]}),J.jsxs("div",{className:"flex items-center gap-3 text-xs text-ink-400",children:[J.jsx("span",{children:t(`progress.energyLevels.${e.energy}`)}),J.jsx("span",{children:t("history.mood",{mood:t(`history.moods.${e.mood}`)})})]})]}),e.notes&&J.jsx("p",{className:"mt-3 text-xs text-ink-400",children:t("history.notes",{notes:e.notes})}),e.sessionReflection&&J.jsx("p",{className:"mt-2 text-xs text-primary-100",children:t("history.reflection",{notes:e.sessionReflection})}),J.jsx("div",{className:"mt-4 flex flex-wrap gap-2 text-xs text-primary-100",children:e.completedHabitIds.map(e=>J.jsx("span",{className:"rounded-full border border-primary-400/40 bg-primary-500/10 px-3 py-1 uppercase",children:t(`habits.items.${e}.title`,{defaultValue:e})},e))})]},e.date))})},WI=()=>{const{t:e}=St();return J.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.2fr,0.8fr]",children:[J.jsx(UI,{}),J.jsxs("section",{className:"rounded-3xl border border-ink-700 bg-ink-800/60 p-5",children:[J.jsx("h2",{className:"font-display text-lg text-ink-50",children:e("insightsPage.logTitle")}),J.jsx("p",{className:"text-xs text-ink-400",children:e("insightsPage.logSubtitle")}),J.jsx("div",{className:"mt-4 max-h-[70vh] space-y-3 overflow-y-auto pr-1 scrollbar-thin",children:J.jsx(BI,{})})]})]})},HI=["mobility","strength","cardio","breathwork","mindfulness","cognition","nutrition"],qI=()=>{const e=C_(e=>e.preferences),t=C_(e=>e.setPreferences),n=C_(e=>e.resetDay),r=C_(e=>e.history),{t:a}=St(),[s,i]=V.useState(e),o=V.useMemo(()=>r.reduce((e,t)=>e+t.completedHabitIds.length,0),[r]);return J.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr,0.9fr]",children:[J.jsxs("section",{className:"rounded-3xl border border-ink-700 bg-ink-800/60 p-6",children:[J.jsx("h2",{className:"font-display text-lg text-ink-50",children:a("profile.title")}),J.jsx("p",{className:"text-xs text-ink-400",children:a("profile.subtitle")}),J.jsxs("form",{onSubmit:e=>{e.preventDefault(),t(s)},className:"mt-5 space-y-5 text-sm text-ink-200",children:[J.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[J.jsxs("label",{className:"flex flex-col gap-2",children:[J.jsx("span",{className:"text-xs uppercase text-ink-400",children:a("profile.wakeWindow")}),J.jsx("input",{type:"time",value:s.wakeTime,onChange:e=>i(t=>({...t,wakeTime:e.target.value})),className:"rounded-2xl border border-ink-700 bg-ink-900/70 px-4 py-3 text-ink-100 outline-none focus:border-primary-400"})]}),J.jsxs("label",{className:"flex flex-col gap-2",children:[J.jsx("span",{className:"text-xs uppercase text-ink-400",children:a("profile.windDownWindow")}),J.jsx("input",{type:"time",value:s.windDownTime,onChange:e=>i(t=>({...t,windDownTime:e.target.value})),className:"rounded-2xl border border-ink-700 bg-ink-900/70 px-4 py-3 text-ink-100 outline-none focus:border-primary-400"})]})]}),J.jsxs("div",{children:[J.jsx("span",{className:"text-xs uppercase text-ink-400",children:a("profile.focusAreasTitle")}),J.jsx("div",{className:"mt-3 flex flex-wrap gap-3",children:HI.map(e=>{const t=s.focusAreas.includes(e);return J.jsxs("button",{type:"button",onClick:()=>(e=>{i(t=>{const n=t.focusAreas.includes(e);return{...t,focusAreas:n?t.focusAreas.filter(t=>t!==e):[...t.focusAreas,e]}})})(e),className:"rounded-2xl border px-4 py-2 text-xs uppercase tracking-wide transition "+(t?"border-primary-400/70 bg-primary-500/15 text-primary-100":"border-ink-700 text-ink-400 hover:border-primary-400/40 hover:text-primary-100"),children:[J.jsx("span",{className:"block font-semibold",children:a(`profile.focusAreas.${e}.label`)}),J.jsx("span",{className:"mt-1 block text-[0.68rem] normal-case text-ink-500",children:a(`profile.focusAreas.${e}.description`)})]},e)})})]}),J.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:J.jsxs("label",{className:"flex flex-col gap-2",children:[J.jsx("span",{className:"text-xs uppercase text-ink-400",children:a("profile.mobilityAccess")}),J.jsxs("select",{value:s.mobilityAccess,onChange:e=>i(t=>({...t,mobilityAccess:e.target.value})),className:"rounded-2xl border border-ink-700 bg-ink-900/70 px-4 py-3 text-ink-100 outline-none focus:border-primary-400",children:[J.jsx("option",{value:"limited",children:a("profile.mobilityOptions.limited")}),J.jsx("option",{value:"standard",children:a("profile.mobilityOptions.standard")}),J.jsx("option",{value:"full",children:a("profile.mobilityOptions.full")})]})]})}),J.jsxs("div",{className:"flex items-center gap-3",children:[J.jsx("button",{type:"submit",className:"rounded-full bg-primary-500 px-5 py-2 text-xs font-semibold uppercase tracking-wide text-ink-900 hover:bg-primary-400",children:a("profile.savePreferences")}),J.jsx("span",{className:"text-xs text-ink-500",children:a("profile.saveHint")})]})]})]}),J.jsxs("section",{className:"rounded-3xl border border-ink-700 bg-ink-800/60 p-6",children:[J.jsx("h3",{className:"font-display text-lg text-ink-50",children:a("profile.statsTitle")}),J.jsx("p",{className:"text-xs text-ink-400",children:a("profile.statsSubtitle")}),J.jsxs("div",{className:"mt-4 grid gap-4 text-sm text-ink-200",children:[J.jsxs("div",{className:"rounded-2xl border border-ink-700/60 bg-ink-900/60 p-4",children:[J.jsx("p",{className:"text-[0.7rem] uppercase tracking-wide text-ink-400",children:a("profile.totalHabits")}),J.jsx("p",{className:"font-display text-3xl text-primary-200",children:o})]}),J.jsxs("div",{className:"rounded-2xl border border-ink-700/60 bg-ink-900/60 p-4",children:[J.jsx("p",{className:"text-[0.7rem] uppercase tracking-wide text-ink-400",children:a("profile.loggedDays")}),J.jsx("p",{className:"font-display text-3xl text-primary-200",children:r.length})]})]}),J.jsxs("div",{className:"mt-5 space-y-3 text-xs text-ink-400",children:[J.jsx("button",{onClick:()=>n(),className:"w-full rounded-2xl border border-amber-400/40 bg-amber-500/10 px-4 py-3 text-xs font-semibold uppercase tracking-wide text-amber-200 hover:bg-amber-500/20",children:a("profile.resetToday")}),J.jsxs("p",{children:[a("profile.exportHint"),J.jsx("code",{className:"ml-2 rounded bg-ink-900 px-2 py-1 text-[0.7rem]",children:"pulse-10-store"}),"."]})]})]})]})},ZI=["mobility","strength","cardio","breathwork","mindfulness","cognition","nutrition"],KI=()=>{const e=C_(e=>e.onboarded),t=C_(e=>e.preferences),n=C_(e=>e.setPreferences),r=C_(e=>e.setOnboarded),{t:a}=St(),[s,i]=V.useState(0),[o,l]=V.useState(t),[u,c]=V.useState(["07:30","12:30","20:30"]);if(e)return J.jsx(Dh,{to:"/",replace:!0});const d=[{value:"limited",label:a("onboarding.mobilityOptions.limited.label"),detail:a("onboarding.mobilityOptions.limited.detail")},{value:"standard",label:a("onboarding.mobilityOptions.standard.label"),detail:a("onboarding.mobilityOptions.standard.detail")},{value:"full",label:a("onboarding.mobilityOptions.full.label"),detail:a("onboarding.mobilityOptions.full.detail")}],p=[{title:a("onboarding.steps.baseline.title"),body:J.jsxs("div",{className:"space-y-5",children:[J.jsx("p",{className:"text-sm text-ink-300",children:a("onboarding.steps.baseline.description")}),J.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[J.jsxs("label",{className:"flex flex-col gap-2",children:[J.jsx("span",{className:"text-xs uppercase text-ink-400",children:a("profile.wakeWindow")}),J.jsx("input",{type:"time",value:o.wakeTime,onChange:e=>l(t=>({...t,wakeTime:e.target.value})),className:"rounded-2xl border border-ink-700 bg-ink-900/70 px-4 py-3 text-ink-100 outline-none focus:border-primary-400"})]}),J.jsxs("label",{className:"flex flex-col gap-2",children:[J.jsx("span",{className:"text-xs uppercase text-ink-400",children:a("profile.windDownWindow")}),J.jsx("input",{type:"time",value:o.windDownTime,onChange:e=>l(t=>({...t,windDownTime:e.target.value})),className:"rounded-2xl border border-ink-700 bg-ink-900/70 px-4 py-3 text-ink-100 outline-none focus:border-primary-400"})]})]}),J.jsxs("div",{children:[J.jsx("span",{className:"text-xs uppercase text-ink-400",children:a("onboarding.preferenceSlots")}),J.jsx("div",{className:"mt-3 flex flex-wrap gap-3",children:u.map((e,t)=>J.jsx("input",{type:"time",value:e,onChange:e=>c(n=>{const r=[...n];return r[t]=e.target.value,r}),className:"rounded-2xl border border-ink-700 bg-ink-900/70 px-4 py-3 text-ink-100 outline-none focus:border-primary-400"},e+t))}),J.jsx("p",{className:"mt-2 text-xs text-ink-500",children:a("onboarding.preferenceHint")})]})]})},{title:a("onboarding.steps.focus.title"),body:J.jsxs("div",{className:"space-y-4",children:[J.jsx("p",{className:"text-sm text-ink-300",children:a("onboarding.steps.focus.description")}),J.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:ZI.map(e=>{const t=o.focusAreas.includes(e);return J.jsxs("button",{type:"button",onClick:()=>{return t=e,void l(e=>{const n=e.focusAreas.includes(t);return{...e,focusAreas:n?e.focusAreas.filter(e=>e!==t):[...e.focusAreas,t]}});var t},className:"rounded-3xl border p-4 text-left transition "+(t?"border-primary-400/70 bg-primary-500/10 text-primary-100":"border-ink-700 bg-ink-900/60 text-ink-300 hover:border-primary-400/40"),children:[J.jsx("p",{className:"font-semibold uppercase tracking-wide text-xs",children:a(`profile.focusAreas.${e}.label`)}),J.jsx("p",{className:"mt-2 text-xs text-ink-400",children:a(`profile.focusAreas.${e}.description`)})]},e)})})]})},{title:a("onboarding.steps.environment.title"),body:J.jsxs("div",{className:"space-y-4",children:[J.jsx("p",{className:"text-sm text-ink-300",children:a("onboarding.steps.environment.description")}),J.jsx("div",{className:"grid gap-4 sm:grid-cols-3",children:d.map(e=>J.jsxs("button",{type:"button",onClick:()=>l(t=>({...t,mobilityAccess:e.value})),className:"rounded-3xl border p-4 text-left transition "+(o.mobilityAccess===e.value?"border-primary-400/70 bg-primary-500/10 text-primary-100":"border-ink-700 bg-ink-900/60 text-ink-300 hover:border-primary-400/40"),children:[J.jsx("p",{className:"font-semibold uppercase tracking-wide text-xs",children:e.label}),J.jsx("p",{className:"mt-2 text-xs text-ink-400",children:e.detail})]},e.value))}),J.jsx("div",{className:"rounded-3xl border border-primary-400/40 bg-primary-500/10 p-4",children:J.jsx("p",{className:"text-xs text-primary-100",children:a("onboarding.environmentHint")})})]})}];return J.jsx("div",{className:"min-h-screen bg-gradient-to-b from-ink-900 via-ink-900 to-ink-950 px-6 py-10",children:J.jsxs("div",{className:"mx-auto flex w-full max-w-3xl flex-col gap-6 rounded-[2.5rem] border border-ink-700/70 bg-ink-900/80 p-8 text-ink-200 shadow-card",children:[J.jsxs("div",{children:[J.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-primary-200/70",children:a("onboarding.badge")}),J.jsx("h1",{className:"mt-2 font-display text-3xl text-ink-50",children:a("onboarding.title")}),J.jsx("p",{className:"mt-2 text-sm text-ink-300",children:a("onboarding.subtitle")})]}),J.jsxs("div",{className:"rounded-3xl border border-ink-700 bg-ink-800/70 p-6",children:[J.jsx("h2",{className:"font-display text-xl text-ink-50",children:p[s].title}),J.jsx("div",{className:"mt-4",children:p[s].body}),J.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[J.jsx("div",{className:"flex gap-2",children:p.map((e,t)=>J.jsx("span",{className:"h-2 w-12 rounded-full "+(t<=s?"bg-primary-400":"bg-ink-700")},t))}),J.jsxs("div",{className:"flex items-center gap-3",children:[s>0&&J.jsx("button",{type:"button",onClick:()=>i(e=>Math.max(e-1,0)),className:"rounded-full border border-ink-700 px-4 py-2 text-xs uppercase tracking-wide text-ink-400 hover:text-ink-200",children:a("common.back")}),s<p.length-1?J.jsx("button",{type:"button",onClick:()=>i(e=>Math.min(e+1,p.length-1)),className:"rounded-full bg-primary-500 px-5 py-2 text-xs font-semibold uppercase tracking-wide text-ink-900 hover:bg-primary-400",children:a("common.next")}):J.jsx("button",{type:"button",onClick:()=>{n({...o}),r()},className:"rounded-full bg-primary-500 px-5 py-2 text-xs font-semibold uppercase tracking-wide text-ink-900 hover:bg-primary-400",children:a("onboarding.launch")})]})]})]})]})})},YI=()=>{const e=C_(e=>e.onboarded),t=_h(),{t:n}=St();return V.useEffect(()=>{document.title=n("app.windowTitle")},[n]),e?J.jsx(A_,{children:J.jsxs(Vh,{children:[J.jsx(Fh,{path:"/",element:J.jsx(L_,{})}),J.jsx(Fh,{path:"/session",element:J.jsx($I,{})}),J.jsx(Fh,{path:"/insights",element:J.jsx(WI,{})}),J.jsx(Fh,{path:"/profile",element:J.jsx(qI,{})}),J.jsx(Fh,{path:"*",element:J.jsx(Dh,{to:t?.state?.from??"/",replace:!0})})]})}):J.jsxs(Vh,{children:[J.jsx(Fh,{path:"/onboarding",element:J.jsx(KI,{})}),J.jsx(Fh,{path:"*",element:J.jsx(Dh,{to:"/onboarding",replace:!0})})]})},JI=(()=>{const e=new URL("../",import.meta.url).pathname;return e&&"/"!==e?e.replace(/\/+$/,""):"/"})();Et.createRoot(document.getElementById("root")).render(J.jsx(z.StrictMode,{children:J.jsx(Kh,{basename:JI,children:J.jsx(YI,{})})}));
